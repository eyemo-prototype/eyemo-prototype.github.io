{"version":3,"sources":["store/index.ts","utils/format-time.ts","components/TimeInput.tsx","components/MultiPlayer/MultiPlayer.tsx","components/MultiPlayer/index.tsx","components/PlayerPanel.tsx","components/CutItem.tsx","components/CutsPanel.tsx","components/Logo/logo.svg","components/Logo/index.tsx","components/UrlInput.tsx","App.tsx","serviceWorker.ts","index.tsx","components/CutsPanel.module.sass","components/CutItem.module.sass","components/PlayerPanel.module.sass","App.module.css","components/TimeInput.module.sass","components/MultiPlayer/MultiPlayer.module.sass","components/UrlInput.module.sass"],"names":["IframeStatusType","Mode","configure","enforceActions","url","parse","window","location","href","urlStory","query","story","raw","decodeURIComponent","split","map","player","parts","id","index","parseFloat","playing","preload","iframeStatus","Active","muted","cut","startTime","endTime","queryUrl","video","store","makeObservable","this","playersStore","push","uuid","length","Inactive","cutIndex","filter","item","changeModeToCreate","mode","Create","console","log","i","PlayOne","PlayAll","baseUrl","encodeURIComponent","join","reduce","duration","observable","Show","computed","action","pad","x","formatTime","long","hours","Math","floor","mins","seconds","fract","time","Adornment","onClick","position","InputAdornment","IconButton","edge","className","styles","changeButton","style","fontSize","TimeInput","props","textFieldRef","useRef","onWheel","e","preventDefault","deltaY","onAdd","onRemove","value","newVal","onChange","useEffect","textField","current","addEventListener","removeEventListener","formattedProps","TextField","timeInput","size","helperText","variant","ref","InputProps","startAdornment","endAdornment","readOnly","statusOptions","active","isShow","inactive","observer","MultiPlayer","updatePosition","onReady","instance","startPreloadVideo","onProgress","playerState","playedSeconds","playerIndex","playerStore","isInCut","stopPlayOne","onBuffer","onBufferEnd","setTimeout","seekTo","onStart","onPlay","onPause","onEnded","onSeek","array","curIndex","key","visibility","width","height","bind","progressInterval","controls","config","youtube","playerVars","playerPlaceholder","PlayerPanel","state","changeStart","setState","max","changeEnd","min","play","intervalId","setInterval","getCurrentTime","clearInterval","clear","onAddCut","addCut","onStartFrame","onEndFrame","Grid","classNames","playerWrapper","editMode","justify","container","lg","Button","disableElevation","fullWidth","color","timeRow","alignContent","label","buttons","xs","wrap","previewButtons","disabled","allPreloadEnded","changeModeToPlayAll","CircularProgress","loadIcon","React","Component","idx","block","changeModeToPlayOne","setStart","setEnd","rightBlock","remove","removeCut","timeTotal","useState","showCopied","setShowCopied","cutsPanel","direction","infoLine","trailerLength","shareUrlBlock","shareUrl","shareUrlText","text","onCopy","gtag","copiedText","copiedTextShown","cutsPanelBlank","_extends","Object","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fillRule","clipRule","d","fill","_ref3","cx","cy","rx","ry","_ref4","SvgLogo","_ref","svgRef","title","titleId","viewBox","xmlns","ForwardRef","Logo","UrlInput","searchLine","placeholder","changeUrl","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","LocalizationProvider","dateAdapter","DateFnsAdapter","Container","header","editingPanel","playerPanel","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","module","exports"],"mappings":"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","file":"static/js/main.8c424761.chunk.js","sourcesContent":["import { observable, makeObservable, configure, computed, action } from 'mobx'\nimport { v4 as uuid } from 'uuid'\n\nimport parse from 'url-parse'\nimport ReactPlayer from 'react-player'\n\nconfigure({ enforceActions: 'never' })\n\nexport interface Cut {\n\tstartTime: number\n\tendTime: number\n}\n\nexport enum IframeStatusType {\n\tActive = 'active',\n\tInactive = 'inactive',\n}\n\nexport interface PlayerStore {\n\tid: string\n\tindex: number\n\tplaying: boolean\n\tpreload: boolean\n\tiframeStatus: IframeStatusType\n\tmuted: boolean\n\turl?: string\n\tcut?: Cut\n\tinstance?: ReactPlayer\n}\n\nexport enum Mode {\n\tCreate = 'create',\n\tPlayOne = 'playOne',\n\tPlayAll = 'playAll',\n\tShow = 'show',\n}\n\nconst url = parse(window.location.href, true)\nlet urlStory: PlayerStore[] | null = null\n\nif (url.query.story) {\n\tconst raw = decodeURIComponent(url.query.story)\n\turlStory = raw.split(',').map((player) => {\n\t\tconst parts = player.split('::')\n\n\t\treturn {\n\t\t\tid: parts[0],\n\t\t\tindex: parseFloat(parts[1]),\n\t\t\tplaying: false,\n\t\t\tpreload: false,\n\t\t\tiframeStatus: IframeStatusType.Active,\n\t\t\tmuted: false,\n\t\t\turl: parts[2],\n\t\t\tcut: {\n\t\t\t\tstartTime: parseFloat(parts[3]),\n\t\t\t\tendTime: parseFloat(parts[4]),\n\t\t\t},\n\t\t}\n\t})\n}\n\nconst queryUrl = url.query.video ? decodeURIComponent(url.query.video) : null\n\nclass Store {\n\t@observable editMode = !queryUrl\n\t@observable url: string | null = queryUrl\n\t@observable mode: Mode = !queryUrl ? Mode.Create : Mode.Show\n\t@observable playersStore: PlayerStore[] = urlStory || [\n\t\t{\n\t\t\tid: uuid(),\n\t\t\tindex: 0,\n\t\t\tplaying: false,\n\t\t\tpreload: false,\n\t\t\turl: this.url as string,\n\t\t\tiframeStatus: IframeStatusType.Active,\n\t\t\tmuted: false,\n\t\t},\n\t]\n\n\t@computed get shareUrl() {\n\t\tif (!this.url) return null\n\t\tconst baseUrl = window.location.href.split('?')[0]\n\t\treturn `${baseUrl}?video=${encodeURIComponent(this.url)}&story=${encodeURIComponent(\n\t\t\tthis.playersStore\n\t\t\t\t.map((player, i) => {\n\t\t\t\t\treturn [player.id, player.index, player.url, player.cut?.startTime, player.cut?.endTime].join('::')\n\t\t\t\t})\n\t\t\t\t.join(',')\n\t\t)}`\n\t}\n\n\t@computed get trailerLength() {\n\t\treturn this.playersStore.reduce((duration, player, index) => {\n\t\t\tif (index === 0 || !player.cut) return duration\n\t\t\treturn duration + player.cut.endTime - player.cut.startTime\n\t\t}, 0)\n\t}\n\n\t@computed get allPreloadEnded() {\n\t\tfor (let i = 0; i < this.playersStore.length; i += 1) {\n\t\t\tif (this.playersStore[i].preload) return false\n\t\t}\n\n\t\treturn true\n\t}\n\n\t@action\n\taddCut(cut: Cut) {\n\t\tthis.playersStore.push({\n\t\t\tid: uuid(),\n\t\t\tindex: this.playersStore.length,\n\t\t\tplaying: false,\n\t\t\tpreload: false,\n\t\t\turl: this.url as string,\n\t\t\tiframeStatus: IframeStatusType.Inactive,\n\t\t\tmuted: false,\n\t\t\tcut: {\n\t\t\t\tstartTime: cut.startTime,\n\t\t\t\tendTime: cut.endTime,\n\t\t\t},\n\t\t})\n\t}\n\n\t@action\n\tremoveCut(cutIndex: number) {\n\t\tthis.playersStore = this.playersStore\n\t\t\t.filter((item) => item.index !== cutIndex)\n\t\t\t.map((item, index) => {\n\t\t\t\titem.index = index\n\t\t\t\treturn item\n\t\t\t})\n\t}\n\n\t@action\n\tchangeUrl(url: string) {\n\t\tthis.url = url\n\t\tthis.playersStore = []\n\t\tthis.playersStore.push({\n\t\t\tid: uuid(),\n\t\t\tindex: 0,\n\t\t\tplaying: false,\n\t\t\tpreload: false,\n\t\t\turl,\n\t\t\tiframeStatus: IframeStatusType.Active,\n\t\t\tmuted: false,\n\t\t})\n\n\t\tthis.changeModeToCreate()\n\t}\n\n\t@action\n\tchangeModeToCreate() {\n\t\tthis.mode = Mode.Create\n\t\tconsole.log('--> In CREATE mode')\n\n\t\tfor (let i = 0; i < this.playersStore.length; i += 1) {\n\t\t\tif (i === 0) {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Active\n\t\t\t} else {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Inactive\n\t\t\t}\n\t\t}\n\n\t\tthis.playersStore[0].playing = false\n\t}\n\n\t@action\n\tchangeModeToPlayOne(cutIndex: number) {\n\t\tthis.mode = Mode.PlayOne\n\t\tconsole.log('--> In PLAYONE mode')\n\n\t\tfor (let i = 0; i < this.playersStore.length; i += 1) {\n\t\t\tif (i === cutIndex) {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Active\n\t\t\t} else {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Inactive\n\t\t\t}\n\t\t}\n\n\t\tthis.playersStore[cutIndex].playing = true\n\t}\n\n\t@action\n\tchangeModeToPlayAll() {\n\t\tif (this.playersStore.length === 1) {\n\t\t\tthis.changeModeToCreate()\n\t\t\tthis.playersStore[0].playing = true\n\t\t\treturn\n\t\t}\n\n\t\tthis.mode = Mode.PlayAll\n\t\tconsole.log('--> In PLAYALL mode')\n\n\t\tfor (let i = 0; i < this.playersStore.length; i += 1) {\n\t\t\tif (i === 0) {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Inactive\n\t\t\t} else {\n\t\t\t\tthis.playersStore[i].iframeStatus = IframeStatusType.Active\n\t\t\t}\n\t\t}\n\n\t\tthis.playersStore[1].playing = true\n\t}\n\n\tconstructor() {\n\t\tmakeObservable(this)\n\t}\n}\n\nconst store = new Store()\n\nexport default store\n","function pad(x: number) {\n\tif (x < 10) return `0${x}`\n\treturn x\n}\n\nexport function formatTime(duration: number | null, long = false) {\n\tif (!duration) return `00:00:00.0`\n\tconst hours = Math.floor(duration / 60 / 60)\n\tconst mins = Math.floor((duration / 60) % 60)\n\tconst seconds = Math.floor(duration % 60)\n\tconst fract = Math.floor((duration - Math.floor(duration)) * 10)\n\tlet time = `${pad(hours)}:${pad(mins)}:${pad(seconds)}`\n\tif (long) time = `${time}.${fract}`\n\treturn time\n}\n","import React, { ChangeEvent, useEffect, useRef, WheelEvent } from 'react'\n\nimport { IconButton, InputAdornment, TextField } from '@material-ui/core'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport AddIcon from '@material-ui/icons/Add'\n\nimport styles from './TimeInput.module.sass'\nimport { formatTime } from \"../utils/format-time\";\n\ninterface Props {\n\tvalue: number\n\tlabel?: string\n\tonChange: (value: number) => void\n}\n\nfunction Adornment({ onClick, position }: { position: 'start' | 'end'; onClick: () => void }) {\n\treturn (\n\t\t<InputAdornment position={position}>\n\t\t\t<IconButton edge={position} onClick={onClick} className={styles.changeButton}>\n\t\t\t\t{position === 'start' ? <RemoveIcon style={{ fontSize: 12 }} /> : <AddIcon style={{ fontSize: 12 }} />}\n\t\t\t</IconButton>\n\t\t</InputAdornment>\n\t)\n}\n\nexport default function TimeInput(props: Props) {\n\n\tconst textFieldRef = useRef(null);\n\n\tfunction onChange(e: ChangeEvent<HTMLInputElement>) {\n\t}\n\n\tfunction onWheel(e: WheelEvent<HTMLElement>): void {\n\t\te.preventDefault();\n\n\t\tif (e.deltaY > 0) {\n\t\t\tonAdd();\n\t\t} else {\n\t\t\tonRemove();\n\t\t}\n\t}\n\n\tfunction onRemove() {\n\t\tif (!props.value) return;\n\n\t\tlet newVal = props.value - 0.1;\n\n\t\tif (newVal < 0) newVal = 0;\n\n\t\tprops.onChange(newVal);\n\t}\n\n\tfunction onAdd() {\n\t\tprops.onChange(props.value + 0.1);\n\t}\n\n\tuseEffect(() => {\n\t\tconst textField = textFieldRef.current;\n\n\t\t(textField as any)?.addEventListener('wheel', onWheel);\n\t\treturn () => {\n\t\t\t(textField as any)?.removeEventListener(\"wheel\", onWheel);\n\t\t};\n\t}, [props.value]);\n\n\tconst formattedProps = {\n\t\t...props,\n\t\tvalue: formatTime(props.value, true)\n\t};\n\n\tconst textField = <TextField\n\t\t{...formattedProps}\n\t\tclassName={styles.timeInput}\n\t\tsize={'small'}\n\t\thelperText={null}\n\t\tvariant='outlined'\n\t\tonChange={onChange}\n\t\tref={textFieldRef}\n\t\tInputProps={{\n\t\t\tstartAdornment: <Adornment position='start' onClick={onRemove} />,\n\t\t\tendAdornment: <Adornment position='end' onClick={onAdd} />,\n\t\t\treadOnly: true,\n\t\t}}\n\t/>;\n\n\treturn (\n\t\ttextField\n\t)\n}\n","import React from 'react'\nimport ReactPlayer from 'react-player'\nimport { observer } from 'mobx-react'\n\nimport store, { Cut, IframeStatusType, Mode } from '../../store'\nimport styles from './MultiPlayer.module.sass'\n\ninterface Props {\n\tupdatePosition: (playedSeconds: number) => void\n}\n\nconst statusOptions: any = {\n\tactive: {\n\t\tisShow: true,\n\t},\n\tinactive: {\n\t\tisShow: false,\n\t},\n}\n\nfunction MultiPlayer(props: Props) {\n\tconst { updatePosition } = props\n\t// const playerRef = React.createRef<ReactPlayer>()\n\n\tfunction onReady(index: number, player: ReactPlayer) {\n\t\tconsole.log(`Player ${index} onReady`)\n\n\t\tstore.playersStore[index].instance = player\n\t\tconst cut = store.playersStore[index].cut\n\n\t\tswitch (store.mode) {\n\t\t\tcase Mode.Create:\n\t\t\t\tif (!cut) return\n\t\t\t\tstartPreloadVideo(index, player)\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayOne:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayAll:\n\t\t\t\tbreak\n\t\t\tcase Mode.Show:\n\t\t\t\tif (!cut || index === 0) return\n\t\t\t\tstartPreloadVideo(index, player)\n\t\t}\n\t}\n\n\tfunction onProgress(index: number, playerState: any) {\n\t\tupdatePosition(playerState.playedSeconds)\n\n\t\tconst playerStore = store.playersStore[index]\n\t\tconsole.log(\n\t\t\t`Player ${index} onProgress in ${playerState.playedSeconds} sec (s: ${playerStore.cut?.startTime} e: ${playerStore.cut?.endTime}`\n\t\t)\n\n\t\tswitch (store.mode) {\n\t\t\tcase Mode.Create:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayOne:\n\t\t\t\tif (isInCut(playerStore.cut, playerState.playedSeconds)) return\n\t\t\t\tstopPlayOne(index)\n\t\t\t\tstore.changeModeToCreate()\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayAll:\n\t\t\t\tif (isInCut(playerStore.cut, playerState.playedSeconds)) return\n\t\t\t\tgoToNextCut(index)\n\t\t\t\tbreak\n\t\t\tcase Mode.Show:\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction onBuffer(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onBuffer`)\n\t}\n\n\tfunction onBufferEnd(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onBufferEnd`)\n\n\t\tconst cut = store.playersStore[playerIndex].cut\n\t\tconst startTime = cut ? cut.startTime : 0\n\n\t\tswitch (store.mode) {\n\t\t\tcase Mode.Create:\n\t\t\t\tif (playerIndex === 0 || !store.playersStore[playerIndex].preload) return\n\t\t\t\tstore.playersStore[playerIndex].playing = false\n\t\t\t\tstore.playersStore[playerIndex].muted = false\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tstore.playersStore[playerIndex].instance?.seekTo(startTime)\n\t\t\t\t\tstore.playersStore[playerIndex].preload = false\n\t\t\t\t\tconsole.log(`Player ${playerIndex} END preload`)\n\t\t\t\t}, 1000)\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayOne:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayAll:\n\t\t\t\tbreak\n\t\t\tcase Mode.Show:\n\t\t\t\tif (playerIndex === 0 || !store.playersStore[playerIndex].preload) return\n\t\t\t\tstore.playersStore[playerIndex].playing = false\n\t\t\t\tstore.playersStore[playerIndex].muted = false\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tstore.playersStore[playerIndex].instance?.seekTo(startTime)\n\t\t\t\t\tstore.playersStore[playerIndex].preload = false\n\t\t\t\t\tconsole.log(`Player ${playerIndex} END preload`)\n\t\t\t\t}, 1000)\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction onStart(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onStart`)\n\t\tstore.playersStore[playerIndex].playing = true\n\t}\n\n\tfunction onPlay(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onPlay`)\n\t\tstore.playersStore[playerIndex].playing = true\n\t}\n\n\tfunction onPause(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onPause`)\n\t\tstore.playersStore[playerIndex].playing = false\n\t}\n\n\tfunction onEnded(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onEnded`)\n\t\tstore.playersStore[playerIndex].playing = false\n\t}\n\n\tfunction onSeek(playerIndex: number, e: any) {\n\t\tconsole.log(`Player ${playerIndex} onSeek`)\n\t}\n\n\tfunction startPreloadVideo(playerIndex: number, player: ReactPlayer) {\n\t\tconsole.log(`Player ${playerIndex} START preload`)\n\n\t\tstore.playersStore[playerIndex].preload = true\n\t\tstore.playersStore[playerIndex].muted = true\n\t\tstore.playersStore[playerIndex].playing = true\n\t}\n\n\tfunction isInCut(cut: Cut | null | undefined, playedSeconds: number) {\n\t\tif (!cut) return false\n\t\tif (playedSeconds >= cut.startTime && playedSeconds <= cut.endTime) return true\n\t\treturn false\n\t}\n\n\tfunction goToNextCut(playerIndex: number) {\n\t\tstopPlayOne(playerIndex)\n\n\t\tconst isLastCut = playerIndex === store.playersStore.length - 1\n\n\t\tif (isLastCut) {\n\t\t\tconsole.log('Last cut is end')\n\t\t\tstore.changeModeToCreate()\n\t\t} else {\n\t\t\tconsole.log(`Go from ${playerIndex} to ${playerIndex + 1} cut`)\n\t\t\tstore.playersStore[playerIndex + 1].iframeStatus = IframeStatusType.Active\n\t\t\tstore.playersStore[playerIndex + 1].playing = true\n\t\t}\n\t}\n\n\tfunction stopPlayOne(playerIndex: number) {\n\t\tconst cut = store.playersStore[playerIndex].cut\n\t\tconst startTime = cut ? cut.startTime : 0\n\n\t\tstore.playersStore[playerIndex].playing = false\n\t\tstore.playersStore[playerIndex].instance?.seekTo(startTime)\n\t\tstore.playersStore[playerIndex].iframeStatus = IframeStatusType.Inactive\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{store.url ? (\n\t\t\t\tstore.playersStore.map((item, index, array) => {\n\t\t\t\t\tconst curIndex = array.length - 1 - index\n\t\t\t\t\tconst playerStore = array[curIndex]\n\t\t\t\t\tconst isShow = statusOptions[array[array.length - 1 - index].iframeStatus].isShow\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={playerStore.id} style={{ visibility: isShow ? 'visible' : 'hidden' }}>\n\t\t\t\t\t\t\t<ReactPlayer\n\t\t\t\t\t\t\t\t// ref={playerRef}\n\t\t\t\t\t\t\t\tplaying={playerStore.playing}\n\t\t\t\t\t\t\t\tclassName={styles.player}\n\t\t\t\t\t\t\t\turl={playerStore.url}\n\t\t\t\t\t\t\t\tmuted={playerStore.muted}\n\t\t\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\t\t\theight='100%'\n\t\t\t\t\t\t\t\tonPlay={onPlay.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonProgress={onProgress.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonStart={onStart.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonPause={onPause.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonEnded={onEnded.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonReady={onReady.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonSeek={onSeek.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonBufferEnd={onBufferEnd.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonBuffer={onBuffer.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tprogressInterval={100}\n\t\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\t\t\tyoutube: {\n\t\t\t\t\t\t\t\t\t\tplayerVars: {},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t// twitch: {\n\t\t\t\t\t\t\t\t\t// \toptions: {\n\t\t\t\t\t\t\t\t\t// \t\tautoplay: true,\n\t\t\t\t\t\t\t\t\t// \t\ttime: '0h0m0s',\n\t\t\t\t\t\t\t\t\t// \t},\n\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t) : (\n\t\t\t\t<div className={styles.playerPlaceholder} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default observer(MultiPlayer)\n","import MultiPlayer from './MultiPlayer'\n\nexport default MultiPlayer\n","import React from 'react'\nimport { Button, CircularProgress, Grid } from '@material-ui/core'\nimport classNames from 'classnames'\nimport { observer } from 'mobx-react'\n\nimport store, { Cut, Mode } from '../store'\nimport { formatTime } from '../utils/format-time'\nimport styles from './PlayerPanel.module.sass'\nimport TimeInput from './TimeInput'\nimport MultiPlayer from './MultiPlayer'\n\ninterface PlayerPanelState {\n\tcut: Cut | null\n\tplaying: boolean\n\tposition: number\n}\n\nclass PlayerPanel extends React.Component {\n\tstate: PlayerPanelState\n\n\tconstructor(props: any) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tcut: null,\n\t\t\tplaying: false,\n\t\t\tposition: 0,\n\t\t}\n\t}\n\n\tchangeStart = (time: number) => {\n\t\tthis.setState({\n\t\t\tcut: {\n\t\t\t\tstartTime: time,\n\t\t\t\tendTime: Math.max(this.state.cut!.endTime, time + 1),\n\t\t\t},\n\t\t})\n\t}\n\n\tchangeEnd = (time: number) => {\n\t\tthis.setState({\n\t\t\tcut: {\n\t\t\t\tstartTime: Math.min(this.state.cut!.startTime, time - 1),\n\t\t\t\tendTime: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tplay = (): void => {\n\t\tconst { cut } = this.state\n\n\t\tif (!cut) return\n\n\t\tif (store.mode !== Mode.Create) store.changeModeToCreate()\n\n\t\tstore.playersStore[0].instance?.seekTo(cut.startTime)\n\t\tstore.playersStore[0].playing = true\n\n\t\tconst checkCut = () => {\n\t\t\tconst { cut } = this.state\n\t\t\tif (!cut) return\n\n\t\t\tconst position = store.playersStore[0].instance ? store.playersStore[0].instance?.getCurrentTime() : 0\n\t\t\tif (position >= cut?.startTime && position <= cut?.endTime) return\n\t\t\tclearInterval(intervalId)\n\t\t\tstore.playersStore[0].playing = false\n\t\t}\n\n\t\tconst intervalId = setInterval(checkCut, 100)\n\t}\n\n\tclear = () => {\n\t\tthis.setState({\n\t\t\tcut: null,\n\t\t})\n\t}\n\n\tonAddCut = () => {\n\t\tconst { cut } = this.state\n\n\t\tif (!cut) return\n\n\t\tstore.addCut(cut)\n\t\tthis.setState({\n\t\t\tstartTime: 0,\n\t\t\tendTime: 0,\n\t\t})\n\t}\n\n\tupdatePosition = (playedSeconds: number) => {\n\t\tthis.setState({ position: playedSeconds })\n\t}\n\n\tonStartFrame = () => {\n\t\tconst { position, cut } = this.state\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\n\t\tcurrent.startTime = position\n\t\tif (current.endTime < position) current.endTime = position + 5\n\t\tthis.setState({ cut: current })\n\t}\n\n\tonEndFrame = () => {\n\t\tconst { position, cut } = this.state\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\n\t\tcurrent.endTime = position\n\t\tif (current.startTime > position) current.startTime = position - 5\n\t\tthis.setState({ cut: current })\n\t}\n\n\trender() {\n\t\tconst { position, cut } = this.state\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Grid className={classNames('padded', styles.playerWrapper)}>\n\t\t\t\t\t<MultiPlayer updatePosition={this.updatePosition} />\n\t\t\t\t</Grid>\n\t\t\t\t{store.editMode && store.url ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Grid justify='center' container>\n\t\t\t\t\t\t\t{formatTime(position, true)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={this.onStartFrame}\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tStart of frame\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={this.onEndFrame}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEnd of frame\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{cut && (\n\t\t\t\t\t\t\t<Grid container justify='center' className={styles.timeRow} alignContent='flex-end'>\n\t\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t\t<TimeInput value={cut.startTime} label='Start time' onChange={this.changeStart} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t\t<TimeInput value={cut?.endTime} label='End time' onChange={this.changeEnd} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\tclassName={styles.buttons}\n\t\t\t\t\t\t\t\t\txs\n\t\t\t\t\t\t\t\t\tjustify={'flex-end'}\n\t\t\t\t\t\t\t\t\talignContent={'center'}\n\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\twrap={'nowrap'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Button variant='outlined' disableElevation onClick={this.play}>\n\t\t\t\t\t\t\t\t\t\tPlay\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\tonClick={this.onAddCut}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={this.clear}>\n\t\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Grid className={styles.previewButtons} container>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tdisabled={!store.allPreloadEnded}\n\t\t\t\t\t\t\t\tonClick={() => store.changeModeToPlayAll()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{!store.allPreloadEnded && <CircularProgress size={14} className={styles.loadIcon} />}\n\t\t\t\t\t\t\t\tPlay trailer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tonClick={() => (store.editMode = true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tMake your own trailer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default observer(PlayerPanel)\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport { Button, Grid } from '@material-ui/core'\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport store, { Cut } from '../store'\nimport styles from './CutItem.module.sass'\nimport TimeInput from './TimeInput'\nimport { formatTime } from '../utils/format-time'\n\ninterface Props {\n\tcut: Cut\n\tidx: number\n}\n\nfunction CutItem(props: Props) {\n\tfunction play() {\n\t\tstore.changeModeToPlayOne(props.idx)\n\t}\n\n\tfunction remove() {\n\t\tstore.removeCut(props.idx)\n\t}\n\n\tfunction setStart(time: number) {\n\t\tprops.cut.startTime = time\n\t\tif (props.cut.endTime < props.cut.startTime + 1) props.cut.endTime = props.cut.startTime + 1\n\n\t\tstore.playersStore[props.idx].cut = {\n\t\t\tstartTime: props.cut.startTime,\n\t\t\tendTime: props.cut.endTime,\n\t\t}\n\t}\n\n\tfunction setEnd(time: number) {\n\t\tprops.cut.endTime = time\n\t\tif (props.cut.startTime > props.cut.endTime - 1) props.cut.startTime = props.cut.endTime - 1\n\t\tstore.playersStore[props.idx].cut = {\n\t\t\tstartTime: props.cut.startTime,\n\t\t\tendTime: props.cut.endTime,\n\t\t}\n\t}\n\n\treturn (\n\t\t<Grid container className={styles.container}>\n\t\t\t<Grid item className={styles.idx}>\n\t\t\t\t{props.idx}\n\t\t\t</Grid>\n\t\t\t<Grid className={styles.block} container item lg>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Button className={styles.play} onClick={play}>\n\t\t\t\t\t\t<PlayArrowIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.startTime} onChange={(time) => setStart(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.endTime} onChange={(time) => setEnd(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={styles.rightBlock}>\n\t\t\t\t\t<CloseIcon className={styles.remove} fontSize='small' onClick={remove} />\n\t\t\t\t\t<div className={styles.timeTotal}>{formatTime(props.cut.endTime - props.cut.startTime)}</div>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default observer(CutItem)\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport AssignmentTurnedInOutlinedIcon from '@material-ui/icons/AssignmentTurnedInOutlined'\nimport { useState } from 'react'\nimport classNames from 'classnames'\nimport { Button, CircularProgress, Grid } from '@material-ui/core'\n\nimport store, { Cut } from '../store'\nimport styles from './CutsPanel.module.sass'\nimport CutItem from './CutItem'\nimport { formatTime } from '../utils/format-time'\n\nexport function CutsPanel() {\n\tconst [showCopied, setShowCopied] = useState(false)\n\n\tfunction playAll() {\n\t\tstore.changeModeToPlayAll()\n\t}\n\n\tfunction onUrlCopy() {\n\t\tsetShowCopied(true)\n\t\tsetTimeout(() => setShowCopied(false), 3000)\n\t\tgtag('event', 'url-copy', {\n\t\t\turl: store.shareUrl,\n\t\t})\n\t}\n\n\treturn (\n\t\t<Grid className={styles.cutsPanel}>\n\t\t\t{store.url ? (\n\t\t\t\t<>\n\t\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t\t{store.playersStore.map(\n\t\t\t\t\t\t\t(item, idx) => idx !== 0 && <CutItem key={idx} idx={idx} cut={item.cut as Cut} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container className={styles.infoLine} item>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tTrailer duration: {formatTime(store.trailerLength)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tNumber of frames: {store.playersStore.length - 1}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tonClick={playAll}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisabled={!store.allPreloadEnded}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!store.allPreloadEnded && <CircularProgress size={14} className={styles.loadIcon} />}\n\t\t\t\t\t\t\tPlay all\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid className={styles.shareUrlBlock}>\n\t\t\t\t\t\t<div className={styles.shareUrl}>\n\t\t\t\t\t\t\t<span className={styles.shareUrlText}>{store.shareUrl}</span>\n\t\t\t\t\t\t\t<CopyToClipboard text={store.shareUrl || ''} onCopy={onUrlCopy}>\n\t\t\t\t\t\t\t\t<AssignmentTurnedInOutlinedIcon />\n\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t<div className={classNames(styles.copiedText, { [styles.copiedTextShown]: showCopied })}>\n\t\t\t\t\t\t\t\tCopied\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Grid container className={styles.cutsPanelBlank}>\n\t\t\t\t\tPlease select video for trailer editing\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n\nexport default observer(CutsPanel)\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M45.3237 37.4146C47.6541 33.6649 49 29.2396 49 24.5C49 10.969 38.031 0 24.5 0C10.969 0 0 10.969 0 24.5C0 38.031 10.969 49 24.5 49C30.7748 49 36.4987 46.6411 40.8332 42.7617L38.759 37.5H41.1243L38.759 31.5H42.983L45.3237 37.4146Z\",\n  fill: \"#4D6DDF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 92,\n  cy: 37,\n  rx: 2,\n  ry: 3,\n  fill: \"#4D6DDF\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.728 38.248C34.56 38.752 33.168 40.264 31.104 40.264C29.856 40.264 28.872 39.52 28.44 38.536L37.272 36.928C37.296 36.832 37.272 36.736 37.272 36.616C37.152 33.304 34.44 30.664 31.104 30.664C27.672 30.664 24.912 33.424 24.912 36.856C24.912 37.624 25.056 38.392 25.344 39.088C26.28 41.512 28.704 43.048 31.104 43.048C35.28 43.048 37.08 39.616 37.296 39.064L34.728 38.248ZM28.08 35.824C28.344 34.528 29.448 33.496 30.72 33.4C31.968 33.28 33.216 34.024 33.792 35.176L28.008 36.208L28.08 35.824ZM45.981 31L43.437 37.792L40.749 31H37.677L41.925 41.776L39.741 47.584H42.813L49.053 31H45.981ZM59.2436 38.248C59.0756 38.752 57.6836 40.264 55.6196 40.264C54.3716 40.264 53.3876 39.52 52.9556 38.536L61.7876 36.928C61.8116 36.832 61.7876 36.736 61.7876 36.616C61.6676 33.304 58.9556 30.664 55.6196 30.664C52.1876 30.664 49.4276 33.424 49.4276 36.856C49.4276 37.624 49.5716 38.392 49.8596 39.088C50.7956 41.512 53.2196 43.048 55.6196 43.048C59.7956 43.048 61.5956 39.616 61.8116 39.064L59.2436 38.248ZM52.5956 35.824C52.8596 34.528 53.9636 33.496 55.2356 33.4C56.4836 33.28 57.7316 34.024 58.3076 35.176L52.5236 36.208L52.5956 35.824ZM77.9706 30.808C76.0026 30.808 74.5386 31.576 73.6746 32.752C72.8106 31.552 71.4666 30.808 69.8106 30.808C68.6106 30.808 67.4346 31.336 66.5706 32.2V31H63.4986V43H66.5706V36.4C66.5706 34.792 67.6266 33.64 69.0906 33.64C70.5546 33.64 71.6106 34.768 71.6106 36.376V43H74.7306V36.4C74.7306 34.792 75.7866 33.64 77.2506 33.64C78.7146 33.64 79.7466 34.768 79.7466 36.376V43H82.8906V36.304C82.8906 33.184 80.8986 30.808 77.9706 30.808ZM90.8462 43.192C94.2782 43.192 97.0382 40.408 97.0382 37C97.0382 33.592 94.2782 30.808 90.8462 30.808C87.4382 30.808 84.6542 33.592 84.6542 37C84.6542 40.408 87.4382 43.192 90.8462 43.192ZM90.9662 40.312C89.1422 40.312 87.8462 38.92 87.8462 37C87.8462 35.08 89.1422 33.688 90.9662 33.688C92.7662 33.688 94.0862 35.08 94.0862 37C94.0862 38.92 92.7662 40.312 90.9662 40.312Z\",\n  fill: \"#252525\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 98,\n    height: 50,\n    viewBox: \"0 0 98 50\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.533b66be.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport { ReactComponent as EyemoLogo } from './logo.svg'\n\ntype LogoProps = {\n\tclassName?: string\n}\n\nconst Logo = ({ className }: LogoProps) => {\n\treturn (\n\t\t<div className={className}>\n\t\t\t<EyemoLogo />\n\t\t</div>\n\t)\n}\n\nexport default Logo\n","import { Grid, TextField } from '@material-ui/core'\nimport React from 'react'\nimport styles from './UrlInput.module.sass'\nimport store from '../store'\n\nexport default function UrlInput() {\n\treturn (\n\t\t<>\n\t\t\t{store.editMode && (\n\t\t\t\t<Grid className={styles.searchLine} container direction='column' justify={'flex-end'}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder='Paste a YouTube url'\n\t\t\t\t\t\tvalue={store.url || ''}\n\t\t\t\t\t\tonChange={(e) => store.changeUrl(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</>\n\t)\n}\n","import React from 'react'\nimport { Container, createMuiTheme, Grid, ThemeProvider } from '@material-ui/core'\nimport DateFnsAdapter from '@material-ui/pickers/adapter/date-fns'\nimport { LocalizationProvider } from '@material-ui/pickers'\nimport { observer } from 'mobx-react'\n\nimport './App.css'\nimport PlayerPanel from './components/PlayerPanel'\nimport CutsPanel from './components/CutsPanel'\nimport Logo from './components/Logo'\nimport UrlInput from './components/UrlInput'\nimport styles from './App.module.css'\nimport store from './store'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#4d6ddf',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#314eb7',\n\t\t},\n\t},\n})\n\nfunction App() {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<LocalizationProvider dateAdapter={DateFnsAdapter}>\n\t\t\t\t<Container className={styles.container}>\n\t\t\t\t\t<Grid className={styles.header} container alignContent='center'>\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container wrap={'nowrap'}>\n\t\t\t\t\t\t{store.editMode && (\n\t\t\t\t\t\t\t<Grid item lg className={styles.editingPanel}>\n\t\t\t\t\t\t\t\t<UrlInput />\n\t\t\t\t\t\t\t\t<CutsPanel />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Grid item className={styles.playerPanel} lg>\n\t\t\t\t\t\t\t<PlayerPanel />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\t\t\t</LocalizationProvider>\n\t\t</ThemeProvider>\n\t)\n}\n\nexport default observer(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cutsPanel\":\"CutsPanel_cutsPanel__yRaZp\",\"cutsPanelBlank\":\"CutsPanel_cutsPanelBlank__V7SXQ\",\"timeInput\":\"CutsPanel_timeInput__2Qrs0\",\"input\":\"CutsPanel_input__2-BNw\",\"stepBtn\":\"CutsPanel_stepBtn__2UpLP\",\"infoLine\":\"CutsPanel_infoLine__H7V1j\",\"shareUrlBlock\":\"CutsPanel_shareUrlBlock__37_Bd\",\"shareUrl\":\"CutsPanel_shareUrl__VqaQP\",\"shareUrlText\":\"CutsPanel_shareUrlText__1Kg2U\",\"copiedText\":\"CutsPanel_copiedText__1e3OD\",\"copiedTextShown\":\"CutsPanel_copiedTextShown__23BhM\",\"loadIcon\":\"CutsPanel_loadIcon__w5MA-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CutItem_container__2rPPd\",\"block\":\"CutItem_block__109Jg\",\"idx\":\"CutItem_idx__AiXXt\",\"play\":\"CutItem_play__3Lhqn\",\"rightBlock\":\"CutItem_rightBlock__1BaAB\",\"remove\":\"CutItem_remove__OqVCk\",\"timeTotal\":\"CutItem_timeTotal__HHslm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PlayerPanel_header__3Ofwm\",\"timeRow\":\"PlayerPanel_timeRow__2JdIQ\",\"buttons\":\"PlayerPanel_buttons__2k6lM\",\"playerWrapper\":\"PlayerPanel_playerWrapper__fY2EN\",\"previewButtons\":\"PlayerPanel_previewButtons__3F-Qp\",\"loadIcon\":\"PlayerPanel_loadIcon__1kpcc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerPanel\":\"App_playerPanel__35IVj\",\"editingPanel\":\"App_editingPanel__3M5CZ\",\"container\":\"App_container__1MQN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInput\":\"TimeInput_timeInput__33xoy\",\"changeButton\":\"TimeInput_changeButton__Q4fU1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"MultiPlayer_player__3BLbd\",\"playerPlaceholder\":\"MultiPlayer_playerPlaceholder__duL1K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchLine\":\"UrlInput_searchLine__3gxQh\"};"],"sourceRoot":""}