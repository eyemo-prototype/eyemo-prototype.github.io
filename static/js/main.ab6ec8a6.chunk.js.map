{"version":3,"sources":["components/SourcesPanel.module.sass","store/index.ts","utils/format-time.ts","components/TimeInput.tsx","components/MultiPlayer/MultiPlayer.tsx","components/MultiPlayer/index.tsx","components/PlayerPanel.tsx","components/Logo/logo.svg","components/Logo/index.tsx","components/CutItem.tsx","components/CutsPanel.tsx","components/SourcesPanel.tsx","components/GifsPanel.tsx","components/TabsPanel.tsx","App.tsx","serviceWorker.ts","index.tsx","components/CutsPanel.module.sass","components/CutItem.module.sass","components/TabsPanel.module.sass","components/PlayerPanel.module.sass","App.module.css","components/GifsPanel.module.sass","components/TimeInput.module.sass","components/MultiPlayer/MultiPlayer.module.sass"],"names":["module","exports","Mode","configure","enforceActions","url","parse","window","location","href","urlStory","urlSources","query","story","raw","decodeURIComponent","split","map","player","parts","id","index","parseFloat","cut","startTime","endTime","video","source","hasUrl","length","store","makeObservable","this","autorun","console","log","mode","toUpperCase","cuts","push","uuid","sources","currentSourceIndex","changeModeToCreate","sourceIndex","cutIndex","players","activePlayerIndex","playing","currentCutIndex","nextCutIndex","filter","item","Create","i","isVisible","instance","getInternalPlayer","stopVideo","PlayOne","setTimeout","startPlayingCurrentCut","PlayAll","setDefaultPlayerState","Show","seekTo","muted","baseUrl","encodeURIComponent","join","reduce","duration","observable","computed","action","pad","x","formatTime","long","hours","Math","floor","mins","seconds","fract","time","Adornment","onClick","position","InputAdornment","IconButton","edge","className","styles","changeButton","style","fontSize","TimeInput","props","textFieldRef","useRef","onWheel","e","preventDefault","deltaY","onAdd","onRemove","value","newVal","onChange","useEffect","textField","current","addEventListener","removeEventListener","formattedProps","TextField","timeInput","size","helperText","variant","ref","InputProps","startAdornment","endAdornment","readOnly","observer","MultiPlayer","updatePosition","onReady","onProgress","playerIndex","playerState","playerStore","playedSeconds","undefined","isInCut","stopPlayOne","goToNextCut","onBuffer","onBufferEnd","onStart","onPlay","preloadNextCut","onPause","onEnded","onSeek","nextPlayerId","nextPlayerIndex","array","curIndex","key","visibility","width","height","bind","progressInterval","controls","config","youtube","playerVars","playerPlaceholder","PlayerPanel","state","changeStart","setState","max","changeEnd","min","play","intervalId","setInterval","getCurrentTime","clearInterval","clear","onAddCut","addCut","onStartFrame","onEndFrame","Grid","classNames","playerWrapper","justify","container","lg","Button","disableElevation","fullWidth","color","timeRow","alignContent","label","buttons","xs","wrap","previewButtons","changeModeToShow","React","Component","_extends","Object","assign","target","arguments","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fillRule","clipRule","d","fill","_ref3","cx","cy","rx","ry","_ref4","SvgLogo","_ref","svgRef","title","titleId","viewBox","xmlns","ForwardRef","Logo","idx","block","changeModeToPlayOne","setStart","setEnd","rightBlock","remove","removeCut","timeTotal","useState","showCopied","setShowCopied","cutsPanel","direction","infoLine","trailerLength","changeModeToPlayAll","shareUrlBlock","shareUrl","shareUrlText","text","onCopy","gtag","copiedText","copiedTextShown","cutsPanelBlank","FetchType","setUrl","changeSource","searchLine","placeholder","spacing","backgroundColor","addSource","disabled","giphyFetch","GiphyFetch","Gifs","searchText","fetchType","fetchGifs","offset","Search","search","limit","Trending","trending","columns","gutter","GifsPanel","giphyGrid","createRef","setWidth","setSearchText","showGrid","setShowGrid","offsetWidth","delayDebounce","clearTimeout","root","gifsPanel","onResize","TabPanel","children","other","role","hidden","aria-labelledby","tabsPanel","Box","p","a11yProps","TabsPanel","setValue","Tabs","orientation","event","newValue","aria-label","tabs","Tab","icon","tab","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","LocalizationProvider","dateAdapter","DateFnsAdapter","Container","header","editingPanel","playerPanel","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"mFACAA,EAAOC,QAAU,CAAC,WAAa,mC,wGCmCnBC,E,iQA9BZC,YAAU,CAAEC,eAAgB,U,SA8BhBF,K,gBAAAA,E,kBAAAA,E,kBAAAA,E,aAAAA,M,KAOZ,IAAMG,EAAMC,IAAMC,OAAOC,SAASC,MAAM,GACpCC,EAA8B,KAC9BC,EAA8B,KAElC,GAAIN,EAAIO,MAAMC,MAAO,CACpB,IAAMC,EAAMC,mBAAmBV,EAAIO,MAAMC,OACzCH,EAAWI,EAAIE,MAAM,KAAKC,KAAI,SAACC,GAC9B,IAAMC,EAAQD,EAAOF,MAAM,MAE3B,MAAO,CACNI,GAAID,EAAM,GACVE,MAAOC,WAAWH,EAAM,IACxBd,IAAKc,EAAM,GACXI,IAAK,CACJC,UAAWF,WAAWH,EAAM,IAC5BM,QAASH,WAAWH,EAAM,SAM9B,GAAId,EAAIO,MAAMc,MAAO,CACpB,IAAMZ,EAAMC,mBAAmBV,EAAIO,MAAMc,OACzCf,EAAaG,EAAIE,MAAM,KAAKC,KAAI,SAACU,GAChC,IAAMR,EAAQQ,EAAOX,MAAM,MAE3B,MAAO,CACNI,GAAID,EAAM,GACVE,MAAOC,WAAWH,EAAM,IACxBd,IAAKc,EAAM,OAKd,IAAMS,EAASjB,GAAcA,EAAWkB,OAAS,EAiOlCC,EAFD,I,aANb,aAAe,IAAD,uSACbC,YAAeC,MACfC,aAAQ,kBAAMC,QAAQC,IAAR,oBAAsB,EAAKC,KAAKC,cAAhC,a,mDAnKRd,GACNS,KAAKM,KAAKC,KAAK,CACdnB,GAAIoB,cACJnB,MAAOW,KAAKM,KAAKT,OACjBxB,IAAK2B,KAAKS,QAAQT,KAAKU,oBAAoBrC,IAC3CkB,IAAK,CACJC,UAAWD,EAAIC,UACfC,QAASF,EAAIE,a,gCAMNpB,GACT2B,KAAKS,QAAL,sBACIT,KAAKS,SADT,CAEC,CACCrB,GAAIoB,cACJnB,MAAOW,KAAKS,QAAQZ,OACpBxB,IAAKA,KAIP2B,KAAKW,mBAAmBX,KAAKS,QAAQZ,OAAS,K,mCAIlCe,GACZZ,KAAKU,mBAAqBE,EAC1BZ,KAAKW,mBAAmBC,K,gCAIfC,KAERb,KAAKc,QAAQd,KAAKe,mBAAmBC,SACpCH,IAAab,KAAKiB,iBAAmBJ,IAAab,KAAKkB,gBAIrDL,IAAab,KAAKiB,gBAKtBjB,KAAKM,KAAON,KAAKM,KACfa,QAAO,SAACC,GAAD,OAAUA,EAAK/B,QAAUwB,KAChC5B,KAAI,SAACmC,EAAM/B,GAEX,OADA+B,EAAK/B,MAAQA,EACN+B,KARRpB,KAAKW,mBAAmB,M,yCAaPC,GAClBZ,KAAKI,KAAOlC,EAAKmD,OAEjBrB,KAAKU,mBAAqBE,EAE1B,IAAK,IAAIU,EAAI,EAAGA,EAAItB,KAAKc,QAAQjB,OAAQyB,GAAK,EAAG,CAAC,IAAD,EAC5CA,IAAMtB,KAAKe,mBACdf,KAAKc,QAAQQ,GAAb,2BACItB,KAAKc,QAAQQ,IADjB,IAECC,WAAW,EACXlD,IAAK2B,KAAKS,QAAQG,GAAavC,IAC/B2C,SAAS,IAGVhB,KAAKiB,iBAAmB,IAExBjB,KAAKc,QAAQQ,GAAGC,WAAY,EAC5BvB,KAAKc,QAAQQ,GAAGN,SAAU,GAI3B,UAAAhB,KAAKc,QAAQQ,GAAGE,gBAAhB,SAA0BC,oBAAoBC,e,0CAK5Bb,GAAmB,IAAD,OACrCb,KAAKI,KAAOlC,EAAKyD,QAEjB3B,KAAKc,QAAQd,KAAKe,mBAAlB,2BACIf,KAAKc,QAAQd,KAAKe,oBADtB,IAEC1C,IAAK2B,KAAKM,KAAKO,GAAUxC,IACzBwC,WACAG,SAAS,IAEVhB,KAAKiB,gBAAkBJ,EAEvBe,YAAW,kBAAM,EAAKC,uBAAuB,EAAKvB,KAAK,EAAKW,iBAAiB1B,OAAM,O,4CAKnF,GAAyB,IAArBS,KAAKM,KAAKT,OAGb,OAFAG,KAAKW,mBAAmB,QACxBX,KAAKc,QAAQd,KAAKe,mBAAmBC,SAAU,GAIhDhB,KAAKI,KAAOlC,EAAK4D,QAEjB9B,KAAK+B,0B,yCAKL/B,KAAKI,KAAOlC,EAAK8D,KACjBhC,KAAK+B,0B,6CAIiBxC,GAAW,IAAD,SAC3BA,IAEL,UAAAS,KAAKc,QAAQd,KAAKe,mBAAmBS,gBAArC,SAA+CS,OAAO1C,EAAIC,WAE1DoC,YAAW,WAAO,IAAD,EAChB,YAAKd,QAAQ,EAAKC,mBAAmBS,gBAArC,SAA+CS,OAAO1C,EAAIC,WAC1D,EAAKsB,QAAQ,EAAKC,mBAAmBC,SAAU,IAC7C,Q,8CAGqB,IAAD,OACvBhB,KAAKc,QAAQd,KAAKe,mBAAmBC,SAAU,EAE/CY,YAAW,WACV,IAAK,IAAIN,EAAI,EAAGA,EAAI,EAAKR,QAAQjB,OAAQyB,GAAK,EAAG,CAAC,IAAD,EAEhD,YAAKR,QAAQQ,GAAGE,gBAAhB,SAA0BC,oBAAoBC,YAG7C,EAAKZ,QAAQQ,GADJ,IAANA,EACe,CACjBlC,GAAI,EAAK0B,QAAQQ,GAAGlC,GACpBoC,SAAU,EAAKV,QAAQQ,GAAGE,SAC1BD,WAAW,EACXW,OAAO,EACP7D,IAAK,EAAKiC,KAAK,GAAGjC,IAClB2C,SAAS,EACTH,SAAU,GAGO,CACjBzB,GAAI,EAAK0B,QAAQQ,GAAGlC,GACpBoC,SAAU,EAAKV,QAAQQ,GAAGE,SAC1BD,WAAW,EACXW,OAAO,EACP7D,IAAK,EAAKiC,KAAK,GAAGjC,IAClB2C,SAAS,GAKZ,EAAKD,kBAAoB,EACzB,EAAKE,gBAAkB,EACvB,EAAKY,uBAAuB,EAAKvB,KAAK,EAAKW,iBAAiB1B,OAC1D,O,+BAlMH,GAA4B,IAAxBS,KAAKS,QAAQZ,OAAc,OAAO,KACtC,IAAMsC,EAAU5D,OAAOC,SAASC,KAAKO,MAAM,KAAK,GAEhD,MAAM,GAAN,OAAUmD,EAAV,kBAA2BC,mBAC1BpC,KAAKS,QACHxB,KAAI,SAACU,GACL,MAAO,CAACA,EAAOP,GAAIO,EAAON,MAAOM,EAAOtB,KAAKgE,KAAK,SAElDA,KAAK,MALR,kBAMWD,mBACVpC,KAAKM,KACHrB,KAAI,SAACC,EAAQoC,GAAO,IAAD,IACnB,MAAO,CAACpC,EAAOE,GAAIF,EAAOG,MAAOH,EAAOb,IAAjC,UAAsCa,EAAOK,WAA7C,aAAsC,EAAYC,UAAlD,UAA6DN,EAAOK,WAApE,aAA6D,EAAYE,SAAS4C,KAAK,SAE9FA,KAAK,S,oCAKR,OAAOrC,KAAKM,KAAKgC,QAAO,SAACC,EAAUrD,EAAQG,GAC1C,OAAKH,EAAOK,IACLgD,EAAWrD,EAAOK,IAAIE,QAAUP,EAAOK,IAAIC,UAD1B+C,IAEtB,K,sCAIH,OAAIvC,KAAKe,oBAAsBf,KAAKc,QAAQjB,OAAS,EAAU,EACxDG,KAAKe,kBAAoB,I,mCAIhC,OAAIf,KAAKiB,kBAAoBjB,KAAKM,KAAKT,OAAS,EAAU,EACnDG,KAAKiB,gBAAkB,M,0CAjD9BuB,K,yEAA+B7D,GAAc,M,kCAC7C6D,K,yEAAyB5C,EAAuB1B,EAAK8D,KAAnB9D,EAAKmD,U,kCACvCmB,K,yEAA8B9D,GAAY,M,qCAC1C8D,K,mFAA+B,CAAC,EAAG,EAAG,GAAGvD,KAAI,SAACC,EAAQoC,GACtD,MAAO,CACNlC,GAAIkC,EACJC,UAAiB,IAAND,EACXN,SAAS,EACTkB,OAAO,EACP7D,IAAK,EAAKoC,QAAQ,GAAK,EAAKA,QAAQ,GAAGpC,IAAM,U,+CAG9CmE,K,yEAAuC,K,6CACvCA,K,yEAAqCxC,KAAKM,KAAKT,OAAS,EAAI,GAAK,K,gDACjE2C,K,yEAAwCxC,KAAKS,QAAQZ,OAAS,EAAI,GAAK,K,oCAEvE4C,K,8GAmBAA,K,qHAOAA,K,oHAKAA,K,2GAKAC,K,wGAaAA,K,8GAcAA,K,8GAMAA,K,oHAqBAA,K,8HA0BAA,K,+HAeAA,K,4HAaAA,K,+HAMAA,K,sFCtPF,SAASC,EAAIC,GACZ,OAAIA,EAAI,GAAU,IAAN,OAAWA,GAChBA,EAGD,SAASC,EAAWN,GAAwC,IAAfO,EAAc,wDACjE,IAAKP,EAAU,MAAM,aACrB,IAAMQ,EAAQC,KAAKC,MAAMV,EAAW,GAAK,IACnCW,EAAOF,KAAKC,MAAOV,EAAW,GAAM,IACpCY,EAAUH,KAAKC,MAAMV,EAAW,IAChCa,EAAQJ,KAAKC,MAA0C,IAAnCV,EAAWS,KAAKC,MAAMV,KAC5Cc,EAAI,UAAMV,EAAII,GAAV,YAAoBJ,EAAIO,GAAxB,YAAiCP,EAAIQ,IAE7C,OADIL,IAAMO,EAAI,UAAMA,EAAN,YAAcD,IACrBC,E,4GCER,SAASC,GAAT,GAA+F,IAA1EC,EAAyE,EAAzEA,QAASC,EAAgE,EAAhEA,SAC7B,OACC,kBAACC,EAAA,EAAD,CAAgBD,SAAUA,GACzB,kBAACE,EAAA,EAAD,CAAYC,KAAMH,EAAUD,QAASA,EAASK,UAAWC,KAAOC,cACjD,UAAbN,EAAuB,kBAAC,KAAD,CAAYO,MAAO,CAAEC,SAAU,MAAW,kBAAC,KAAD,CAASD,MAAO,CAAEC,SAAU,QAMnF,SAASC,GAAUC,GAEjC,IAAMC,EAAeC,iBAAO,MAK5B,SAASC,EAAQC,GAChBA,EAAEC,iBAEED,EAAEE,OAAS,EACdC,IAEAC,IAIF,SAASA,IACR,GAAKR,EAAMS,MAAX,CAEA,IAAIC,EAASV,EAAMS,MAAQ,GAEvBC,EAAS,IAAGA,EAAS,GAEzBV,EAAMW,SAASD,IAGhB,SAASH,IACRP,EAAMW,SAASX,EAAMS,MAAQ,IAG9BG,qBAAU,WACT,IAAMC,EAAYZ,EAAaa,QAG/B,OADA,OAACD,QAAD,IAACA,KAAmBE,iBAAiB,QAASZ,GACvC,WACN,OAACU,QAAD,IAACA,KAAmBG,oBAAoB,QAASb,MAEhD,CAACH,EAAMS,QAEV,IAAMQ,EAAc,2BAChBjB,GADgB,IAEnBS,MAAO9B,EAAWqB,EAAMS,OAAO,KAkBhC,OAfkB,kBAACS,EAAA,EAAD,iBACbD,EADa,CAEjBvB,UAAWC,KAAOwB,UAClBC,KAAM,QACNC,WAAY,KACZC,QAAQ,WACRX,SA/CD,SAAkBP,KAgDjBmB,IAAKtB,EACLuB,WAAY,CACXC,eAAgB,kBAACrC,GAAD,CAAWE,SAAS,QAAQD,QAASmB,IACrDkB,aAAc,kBAACtC,GAAD,CAAWE,SAAS,MAAMD,QAASkB,IACjDoB,UAAU,M,6CCkIEC,ICjNAC,GDiNAD,aAxMf,SAAqB5B,GAAe,IAC3B8B,EAAmB9B,EAAnB8B,eAOR,SAASC,EAAQ5G,EAAeH,GAC/BgB,QAAQC,IAAR,iBAAsBd,EAAtB,aAEAS,EAAMgB,QAAQzB,GAAOmC,SAAWtC,EAGjC,SAASgH,EAAWC,EAAqBC,GACxC,IAAMC,EAAcvG,EAAMgB,QAAQqF,GAC5BtF,EAAWf,EAAMgB,QAAQqF,GAAatF,SAG5C,GAFIwF,EAAY9E,WAAWyE,EAAeI,EAAYE,oBAErCC,IAAb1F,IAAqD,IAA3Bf,EAAMmB,gBAApC,CAIA,IAAM1B,EAAMO,EAAMQ,KAAKO,GAAUtB,IAKjC,OAJAW,QAAQC,IAAR,iBACWgG,EADX,0BACwCC,EAAYE,cADpD,2BAC6E/G,QAD7E,IAC6EA,OAD7E,EAC6EA,EAAKC,UADlF,sBACkGD,QADlG,IACkGA,OADlG,EACkGA,EAAKE,UAG/FK,EAAMM,MACb,KAAKlC,EAAKmD,OACT,MACD,KAAKnD,EAAKyD,QACT,IAAK0E,EAAY9E,WAAaiF,EAAQjH,EAAK6G,EAAYE,eAAgB,OACvEG,EAAYN,GAEZ,MACD,KAAKjI,EAAK4D,QAIV,KAAK5D,EAAK8D,KACT,IAAKqE,EAAY9E,WAAaiF,EAAQjH,EAAK6G,EAAYE,eAAgB,OACvEI,EAAYP,SAtBbjG,QAAQC,IAAI,0BA2Bd,SAASwG,EAASR,GACjBjG,QAAQC,IAAR,iBAAsBgG,EAAtB,cAGD,SAASS,EAAYT,GACpBjG,QAAQC,IAAR,iBAAsBgG,EAAtB,iBAGD,SAASU,EAAQV,GAChBjG,QAAQC,IAAR,iBAAsBgG,EAAtB,aAID,SAASW,EAAOX,GAIf,OAHAjG,QAAQC,IAAR,iBAAsBgG,EAAtB,YAGQrG,EAAMM,MACb,KAAKlC,EAAKmD,OAEV,KAAKnD,EAAKyD,QACT,MACD,KAAKzD,EAAK4D,QAGV,KAAK5D,EAAK8D,KACT+E,KAKH,SAASC,EAAQb,GAChBjG,QAAQC,IAAR,iBAAsBgG,EAAtB,aAID,SAASc,EAAQd,GAChBjG,QAAQC,IAAR,iBAAsBgG,EAAtB,aAID,SAASe,EAAOf,EAAqB7B,GACpCpE,QAAQC,IAAR,iBAAsBgG,EAAtB,YAGD,SAASY,IAAkB,IAAD,EACnBI,EAAerH,EAAMsH,gBACrBlG,EAAepB,EAAMoB,aACrB1B,EAAS,UAAGM,EAAMQ,KAAKY,GAAc3B,WAA5B,aAAG,EAA8BC,UAEhDU,QAAQC,IAAR,iBAAsBgH,EAAtB,mBAEArH,EAAMgB,QAAQqG,GAAd,2BACIrH,EAAMgB,QAAQqG,IADlB,IAECtG,SAAUf,EAAMQ,KAAKY,GAAc7B,MACnChB,IAAKyB,EAAMQ,KAAKY,GAAc7C,IAC9B6D,OAAO,EACPlB,SAAS,IAGVY,YAAW,WAAO,IAAD,EAChB9B,EAAMgB,QAAQqG,GAAcnG,SAAU,EACtClB,EAAMgB,QAAQqG,GAAcjF,OAAQ,EACpC,UAAApC,EAAMgB,QAAQqG,GAAc3F,gBAA5B,SAAsCS,OAAOzC,GAAa,GAC1DU,QAAQC,IAAR,iBAAsBgH,EAAtB,mBACE,KAGJ,SAASX,EAAQjH,EAA6B+G,GAC7C,QAAK/G,IACD+G,GAAiB/G,EAAIC,WAAa8G,GAAiB/G,EAAIE,SAI5D,SAASiH,EAAYP,GAKpB,GAJAM,EAAYN,GAEMrG,EAAMmB,kBAAoBnB,EAAMQ,KAAKT,OAAS,EAG/DK,QAAQC,IAAI,uBACN,CACND,QAAQC,IAAR,kBAAuBL,EAAMmB,gBAA7B,eAAmDnB,EAAMoB,aAAzD,SACApB,EAAMgB,QAAQhB,EAAMiB,mBAAmBQ,WAAY,EACnDzB,EAAMgB,QAAQhB,EAAMsH,iBAAiB7F,WAAY,EACjDzB,EAAMgB,QAAQhB,EAAMsH,iBAAiBpG,SAAU,EAE/C,IAAMoG,EAAkBtH,EAAMsH,gBACxBlG,EAAepB,EAAMoB,aAC3BpB,EAAMiB,kBAAoBqG,EAC1BtH,EAAMmB,gBAAkBC,GAI1B,SAASuF,EAAYN,GAAsB,IAAD,EACzCrG,EAAMgB,QAAQqF,GAAanF,SAAU,EAGrC,UAAAlB,EAAMgB,QAAQqF,GAAa3E,gBAA3B,SAAqCC,oBAAoBC,YAG1D,OACC,6BACE5B,EAAMW,QAAQZ,OAAS,EACvBC,EAAMgB,QAAQ7B,KAAI,SAACmC,EAAM/B,EAAOgI,GAC/B,IAAMC,EAAWD,EAAMxH,OAAS,EAAIR,EAEpC,OACC,yBACCkI,IAAKzH,EAAMgB,QAAQwG,GAAUlI,GAC7B2E,MAAO,CAAEyD,WAAY1H,EAAMgB,QAAQwG,GAAU/F,UAAY,UAAY,WAErE,kBAAC,KAAD,CAECP,QAASlB,EAAMgB,QAAQwG,GAAUtG,QACjC4C,UAAWC,KAAO3E,OAClBb,IAAKyB,EAAMgB,QAAQwG,GAAUjJ,IAC7B6D,MAAOpC,EAAMgB,QAAQwG,GAAUpF,MAC/BuF,MAAM,OACNC,OAAO,OACPZ,OAAQA,EAAOa,KAAK,KAAML,GAC1BpB,WAAYA,EAAWyB,KAAK,KAAML,GAClCT,QAASA,EAAQc,KAAK,KAAML,GAC5BN,QAASA,EAAQW,KAAK,KAAML,GAC5BL,QAASA,EAAQU,KAAK,KAAML,GAC5BrB,QAASA,EAAQ0B,KAAK,KAAML,GAC5BJ,OAAQA,EAAOS,KAAK,KAAML,GAC1BV,YAAaA,EAAYe,KAAK,KAAML,GACpCX,SAAUA,EAASgB,KAAK,KAAML,GAC9BM,iBAAkB,IAClBC,UAAU,EACVC,OAAQ,CACPC,QAAS,CACRC,WAAY,WAclB,yBAAKpE,UAAWC,KAAOoE,wBE5LrBC,G,kDAGL,WAAYhE,GAAa,IAAD,8BACvB,cAAMA,IAHPiE,WAEwB,IAUxBC,YAAc,SAAC/E,GACd,EAAKgF,SAAS,CACb9I,IAAK,CACJC,UAAW6D,EACX5D,QAASuD,KAAKsF,IAAI,EAAKH,MAAM5I,IAAKE,QAAS4D,EAAO,OAd7B,EAmBxBkF,UAAY,SAAClF,GACZ,EAAKgF,SAAS,CACb9I,IAAK,CACJC,UAAWwD,KAAKwF,IAAI,EAAKL,MAAM5I,IAAKC,UAAW6D,EAAO,GACtD5D,QAAS4D,MAvBY,EA4BxBoF,KAAO,WAAa,IAAD,EACVlJ,EAAQ,EAAK4I,MAAb5I,IAEHA,IAELO,EAAMgB,QAAQhB,EAAMiB,mBAAmBC,SAAU,EACjD,UAAAlB,EAAMgB,QAAQhB,EAAMiB,mBAAmBS,gBAAvC,SAAiDS,OAAO1C,EAAIC,WAE5DoC,YAAW,WACV9B,EAAMgB,QAAQhB,EAAMiB,mBAAmBC,SAAU,EAEjD,IAYM0H,EAAaC,aAZF,WAAO,IACfpJ,EAAQ,EAAK4I,MAAb5I,IACR,GAAKA,EAAL,CAEA,IAAML,EAASY,EAAMgB,QAAQhB,EAAMiB,mBAAmBS,SAChDgC,EAAWtE,EAASA,EAAO0J,iBAAmB,EAEhDpF,IAAQ,OAAIjE,QAAJ,IAAIA,OAAJ,EAAIA,EAAKC,YAAagE,IAAQ,OAAIjE,QAAJ,IAAIA,OAAJ,EAAIA,EAAKE,WACnDoJ,cAAcH,GACd5I,EAAMgB,QAAQhB,EAAMiB,mBAAmBC,SAAU,MAGT,OACvC,OApDoB,EAuDxB8H,MAAQ,WACP,EAAKT,SAAS,CACb9I,IAAK,QAzDiB,EA6DxBwJ,SAAW,WAAO,IACTxJ,EAAQ,EAAK4I,MAAb5I,IAEHA,IAELO,EAAMkJ,OAAOzJ,GACb,EAAK8I,SAAS,CACb7I,UAAW,EACXC,QAAS,MArEa,EAyExBuG,eAAiB,SAACM,GACjB,EAAK+B,SAAS,CAAE7E,SAAU8C,KA1EH,EA6ExB2C,aAAe,WAAO,IAAD,EACM,EAAKd,MAAvB3E,EADY,EACZA,SAAUjE,EADE,EACFA,IACZyF,EAAU,CACfxF,WAAc,OAAHD,QAAG,IAAHA,OAAA,EAAAA,EAAKC,YAAa,EAC7BC,SAAY,OAAHF,QAAG,IAAHA,OAAA,EAAAA,EAAKE,UAAW,GAG1BuF,EAAQxF,UAAYgE,EAChBwB,EAAQvF,QAAU+D,IAAUwB,EAAQvF,QAAU+D,EAAW,GAC7D,EAAK6E,SAAS,CAAE9I,IAAKyF,KAtFE,EAyFxBkE,WAAa,WAAO,IAAD,EACQ,EAAKf,MAAvB3E,EADU,EACVA,SAAUjE,EADA,EACAA,IACZyF,EAAU,CACfxF,WAAc,OAAHD,QAAG,IAAHA,OAAA,EAAAA,EAAKC,YAAa,EAC7BC,SAAY,OAAHF,QAAG,IAAHA,OAAA,EAAAA,EAAKE,UAAW,GAG1BuF,EAAQvF,QAAU+D,EACdwB,EAAQxF,UAAYgE,IAAUwB,EAAQxF,UAAYgE,EAAW,GACjE,EAAK6E,SAAS,CAAE9I,IAAKyF,KA/FrB,EAAKmD,MAAQ,CACZ5I,IAAK,KACLyB,SAAS,EACTwC,SAAU,GANY,E,qDAqGd,IAAD,EACkBxD,KAAKmI,MAAvB3E,EADA,EACAA,SAAUjE,EADV,EACUA,IAElB,OACC,oCACC,kBAAC4J,EAAA,EAAD,CAAMvF,UAAWwF,IAAW,SAAUvF,IAAOwF,gBAC5C,kBAAC,GAAD,CAAarD,eAAgBhG,KAAKgG,kBAElClG,EAAMM,OAASlC,EAAK8D,MAAQlC,EAAMW,QAAQZ,OAAS,EACnD,oCACC,kBAACsJ,EAAA,EAAD,CAAMG,QAAQ,SAASC,WAAS,GAC9B1G,EAAWW,GAAU,IAEvB,kBAAC2F,EAAA,EAAD,CAAMI,WAAS,GACd,kBAACJ,EAAA,EAAD,CAAMvF,UAAU,SAASxC,MAAI,EAACoI,IAAE,GAC/B,kBAACC,EAAA,EAAD,CACCjE,QAAQ,YACRkE,kBAAgB,EAChBC,WAAS,EACTpG,QAASvD,KAAKiJ,aACdW,MAAM,WALP,mBAUD,kBAACT,EAAA,EAAD,CAAMvF,UAAU,SAASxC,MAAI,EAACoI,IAAE,GAC/B,kBAACC,EAAA,EAAD,CACCjE,QAAQ,YACRkE,kBAAgB,EAChBnG,QAASvD,KAAKkJ,WACdS,WAAS,EACTC,MAAM,WALP,kBAWDrK,GACA,kBAAC4J,EAAA,EAAD,CAAMI,WAAS,EAACD,QAAQ,SAAS1F,UAAWC,IAAOgG,QAASC,aAAa,YACxE,kBAACX,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GACZ,kBAACvF,GAAD,CAAWU,MAAOpF,EAAIC,UAAWuK,MAAM,aAAalF,SAAU7E,KAAKoI,eAEpE,kBAACe,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GACZ,kBAACvF,GAAD,CAAWU,MAAK,OAAEpF,QAAF,IAAEA,OAAF,EAAEA,EAAKE,QAASsK,MAAM,WAAWlF,SAAU7E,KAAKuI,aAEjE,kBAACY,EAAA,EAAD,CACC/H,MAAI,EACJwC,UAAWC,IAAOmG,QAClBC,IAAE,EACFX,QAAS,WACTQ,aAAc,SACdP,WAAS,EACTW,KAAM,UAEN,kBAACT,EAAA,EAAD,CAAQjE,QAAQ,WAAWkE,kBAAgB,EAACnG,QAASvD,KAAKyI,MAA1D,QAGA,kBAACgB,EAAA,EAAD,CACCjE,QAAQ,YACRoE,MAAM,UACNF,kBAAgB,EAChBnG,QAASvD,KAAK+I,UAJf,OAQA,kBAACU,EAAA,EAAD,CAAQjE,QAAQ,YAAYkE,kBAAgB,EAACnG,QAASvD,KAAK8I,OAA3D,YAQJ,oCACC,kBAACK,EAAA,EAAD,CAAMvF,UAAWC,IAAOsG,eAAgBZ,WAAS,GAChD,kBAACE,EAAA,EAAD,CACCjE,QAAQ,YACRF,KAAK,QACLsE,MAAM,UACNF,kBAAgB,EAChBnG,QAAS,kBAAMzD,EAAMsK,qBALtB,gBASA,kBAACX,EAAA,EAAD,CACCjE,QAAQ,YACRoE,MAAM,UACNF,kBAAgB,EAChBnG,QAAS,kBAAMzD,EAAMa,mBAAmB,KAJzC,gC,GA5LmB0J,IAAMC,WA4MjBxE,eAASoC,IC7NxB,SAASqC,KAA2Q,OAA9PA,GAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIpJ,EAAI,EAAGA,EAAIqJ,UAAU9K,OAAQyB,IAAK,CAAE,IAAI3B,EAASgL,UAAUrJ,GAAI,IAAK,IAAIiG,KAAO5H,EAAc6K,OAAOI,UAAUC,eAAeC,KAAKnL,EAAQ4H,KAAQmD,EAAOnD,GAAO5H,EAAO4H,IAAY,OAAOmD,IAA2BK,MAAM/K,KAAM2K,WAEhT,SAASK,GAAyBrL,EAAQsL,GAAY,GAAc,MAAVtL,EAAgB,MAAO,GAAI,IAAkE4H,EAAKjG,EAAnEoJ,EAEzF,SAAuC/K,EAAQsL,GAAY,GAAc,MAAVtL,EAAgB,MAAO,GAAI,IAA2D4H,EAAKjG,EAA5DoJ,EAAS,GAAQQ,EAAaV,OAAOW,KAAKxL,GAAqB,IAAK2B,EAAI,EAAGA,EAAI4J,EAAWrL,OAAQyB,IAAOiG,EAAM2D,EAAW5J,GAAQ2J,EAASG,QAAQ7D,IAAQ,IAAamD,EAAOnD,GAAO5H,EAAO4H,IAAQ,OAAOmD,EAFxMW,CAA8B1L,EAAQsL,GAAuB,GAAIT,OAAOc,sBAAuB,CAAE,IAAIC,EAAmBf,OAAOc,sBAAsB3L,GAAS,IAAK2B,EAAI,EAAGA,EAAIiK,EAAiB1L,OAAQyB,IAAOiG,EAAMgE,EAAiBjK,GAAQ2J,EAASG,QAAQ7D,IAAQ,GAAkBiD,OAAOI,UAAUY,qBAAqBV,KAAKnL,EAAQ4H,KAAgBmD,EAAOnD,GAAO5H,EAAO4H,IAAU,OAAOmD,EAMne,IAAIe,GAAqB,gBAAoB,OAAQ,CACnDC,SAAU,UACVC,SAAU,UACVC,EAAG,uOACHC,KAAM,YAGJC,GAAqB,gBAAoB,UAAW,CACtDC,GAAI,GACJC,GAAI,GACJC,GAAI,EACJC,GAAI,EACJL,KAAM,YAGJM,GAAqB,gBAAoB,OAAQ,CACnDP,EAAG,y4DACHC,KAAM,YAGR,SAASO,GAAQC,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACftI,EAAQ8G,GAAyBqB,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO9B,GAAS,CACtD9C,MAAO,GACPC,OAAQ,GACR+E,QAAS,YACTZ,KAAM,OACNa,MAAO,6BACPjH,IAAK6G,EACL,kBAAmBE,GAClBtI,GAAQqI,EAAqB,gBAAoB,QAAS,CAC3DnN,GAAIoN,GACHD,GAAS,KAAMd,GAAOK,GAAOK,IAGlC,IAAIQ,GAA0B,aAAiBP,IC9BhCQ,ID+BA,ICvCF,SAAC,GAA8B,IAA5BhJ,EAA2B,EAA3BA,UACf,OACC,yBAAKA,UAAWA,GACf,kBAAC,GAAD,S,oRC2DYkC,oBAtDf,SAAiB5B,GA4BhB,OACC,kBAACiF,EAAA,EAAD,CAAMI,WAAS,EAAC3F,UAAWC,KAAO0F,WACjC,kBAACJ,EAAA,EAAD,CAAM/H,MAAI,EAACwC,UAAWC,KAAOgJ,KAC3B3I,EAAM2I,IAAM,GAEd,kBAAC1D,EAAA,EAAD,CAAMvF,UAAWC,KAAOiJ,MAAOvD,WAAS,EAACnI,MAAI,EAACoI,IAAE,GAC/C,kBAACL,EAAA,EAAD,CAAM/H,MAAI,GACT,kBAACqI,EAAA,EAAD,CAAQ7F,UAAWC,KAAO4E,KAAMlF,QAlCpC,WACCzD,EAAMiN,oBAAoB7I,EAAM2I,OAkC5B,kBAAC,KAAD,QAGF,kBAAC1D,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GACZ,kBAACvF,GAAD,CAAWU,MAAOT,EAAM3E,IAAIC,UAAWqF,SAAU,SAACxB,GAAD,OA/BrD,SAAkBA,GACjBa,EAAM3E,IAAIC,UAAY6D,EAClBa,EAAM3E,IAAIE,QAAUyE,EAAM3E,IAAIC,UAAY,IAAG0E,EAAM3E,IAAIE,QAAUyE,EAAM3E,IAAIC,UAAY,GAE3FM,EAAMQ,KAAK4D,EAAM2I,KAAKtN,IAAM,CAC3BC,UAAW0E,EAAM3E,IAAIC,UACrBC,QAASyE,EAAM3E,IAAIE,SAyB0CuN,CAAS3J,OAErE,kBAAC8F,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GACZ,kBAACvF,GAAD,CAAWU,MAAOT,EAAM3E,IAAIE,QAASoF,SAAU,SAACxB,GAAD,OAxBnD,SAAgBA,GACfa,EAAM3E,IAAIE,QAAU4D,EAChBa,EAAM3E,IAAIC,UAAY0E,EAAM3E,IAAIE,QAAU,IAAGyE,EAAM3E,IAAIC,UAAY0E,EAAM3E,IAAIE,QAAU,GAC3FK,EAAMQ,KAAK4D,EAAM2I,KAAKtN,IAAM,CAC3BC,UAAW0E,EAAM3E,IAAIC,UACrBC,QAASyE,EAAM3E,IAAIE,SAmBwCwN,CAAO5J,OAEjE,kBAAC8F,EAAA,EAAD,CAAM/H,MAAI,EAACwC,UAAWC,KAAOqJ,YAC5B,kBAAC,KAAD,CAAWtJ,UAAWC,KAAOsJ,OAAQnJ,SAAS,QAAQT,QAzC1D,WACCzD,EAAMsN,UAAUlJ,EAAM2I,QAyCnB,yBAAKjJ,UAAWC,KAAOwJ,WAAYxK,EAAWqB,EAAM3E,IAAIE,QAAUyE,EAAM3E,IAAIC,kBCQlEsG,oBA1DR,WAAsB,IAAD,EACSwH,oBAAS,GADlB,oBACpBC,EADoB,KACRC,EADQ,KAe3B,OACC,kBAACrE,EAAA,EAAD,CAAMvF,UAAWC,KAAO4J,WACtB3N,EAAMW,QAAQZ,OAAS,EACvB,oCACC,kBAACsJ,EAAA,EAAD,CAAMI,WAAS,EAACmE,UAAU,UACxB5N,EAAMQ,KAAKrB,KAAI,SAACmC,EAAMyL,GAAP,OACf,kBAAC,GAAD,CAAStF,IAAKnG,EAAKhC,GAAIyN,IAAKA,EAAKtN,IAAK6B,EAAK7B,UAG7C,kBAAC4J,EAAA,EAAD,CAAMI,WAAS,EAAC3F,UAAWC,KAAO8J,SAAUvM,MAAI,GAC/C,kBAAC+H,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GAAb,qBACoB3G,EAAW/C,EAAM8N,gBAErC,kBAACzE,EAAA,EAAD,CAAM/H,MAAI,EAACoI,IAAE,GAAb,qBACoB1J,EAAMQ,KAAKT,SAGhC,kBAACsJ,EAAA,EAAD,KACC,kBAACM,EAAA,EAAD,CAAQjE,QAAQ,YAAYkE,kBAAgB,EAACnG,QA9BlD,WACCzD,EAAM+N,uBA6B6DlE,WAAS,EAACC,MAAM,WAA/E,aAID,kBAACT,EAAA,EAAD,CAAMvF,UAAWC,KAAOiK,eACvB,yBAAKlK,UAAWC,KAAOkK,UACtB,0BAAMnK,UAAWC,KAAOmK,cAAelO,EAAMiO,UAC7C,kBAAC,KAAD,CAAiBE,KAAMnO,EAAMiO,UAAY,GAAIG,OAjCnD,WACCV,GAAc,GACd5L,YAAW,kBAAM4L,GAAc,KAAQ,KACvCW,KAAK,QAAS,WAAY,CACzB9P,IAAKyB,EAAMiO,aA8BN,kBAAC,KAAD,OAED,yBAAKnK,UAAWwF,IAAWvF,KAAOuK,WAAR,gBAAuBvK,KAAOwK,gBAAkBd,KAA1E,aAOH,kBAACpE,EAAA,EAAD,CAAMI,WAAS,EAAC3F,UAAWC,KAAOyK,gBAAlC,+C,qBCJWxI,ICjDVyI,GDiDUzI,gBArDf,WAAyB,IAAD,EACDwH,mBAAS,IADR,oBAChBjP,EADgB,KACXmQ,EADW,KAYvB,SAASC,EAAa7N,GACrBd,EAAM2O,aAAa7N,GAGpB,OACC,oCACEd,EAAMM,OAASlC,EAAK8D,MACpB,kBAACmH,EAAA,EAAD,CAAMI,WAAS,EAACmE,UAAU,UACzB,kBAACvE,EAAA,EAAD,CAAMvF,UAAWC,KAAO6K,WAAYtN,MAAI,GACvC,kBAACgE,EAAA,EAAD,CAAWuE,WAAS,EAACgF,YAAY,sBAAsBhK,MAAOtG,EAAKwG,SAlBxE,SAAqBP,GACpBkK,EAAOlK,EAAEoG,OAAO/F,WAmBb,kBAACwE,EAAA,EAAD,CAAM/H,MAAI,EAACmI,WAAS,EAACqF,QAAS,GAC5B9O,EAAMW,QAAQxB,KAAI,SAACU,GAAD,OAClB,kBAACwJ,EAAA,EAAD,CAAM5B,IAAK5H,EAAOP,GAAIgC,MAAI,GACzB,kBAACqI,EAAA,EAAD,CACCjE,QAAQ,YACRkE,kBAAgB,EAChBnG,QAASkL,EAAa9G,KAAK,KAAMhI,EAAON,OACxCuK,MAAM,UACN7F,MACCpE,EAAON,QAAUS,EAAMY,mBACpB,CAAEmO,gBAAiB,WACnB,CAAEA,gBAAiB,YARxB,UAWSlP,EAAON,MAAQ,OAI1B,kBAAC8J,EAAA,EAAD,CAAM/H,MAAI,GACT,kBAACqI,EAAA,EAAD,CAAQjE,QAAQ,YAAYjC,QAnClC,WACCzD,EAAMgP,UAAUzQ,GAChBmQ,EAAO,KAiC8CO,SAAkB,KAAR1Q,GAA1D,qB,gFCxCD2Q,GAAa,IAAIC,cAAW,oCAalC,SAASC,GAAT,GAA4D,IAA5CzH,EAA2C,EAA3CA,MAAO0H,EAAoC,EAApCA,WAAYC,EAAwB,EAAxBA,UAOlC,OAAO,kBAAC,QAAD,CAAWC,UANlB,SAAmBC,GAClB,OAAIF,IAAcb,GAAUgB,OAAeP,GAAWQ,OAAOL,EAAY,CAAEG,SAAQG,MAAO,MACxElB,GAAUmB,SAAiBV,GAAWW,SAAS,CAAEL,SAAQG,MAAO,OAI3ChI,MAAOA,EAAOmI,QAAS,EAAGC,OAAQ,K,SAlBtEtB,K,oBAAAA,E,iBAAAA,Q,KA0EUuB,OAnDf,SAAmB5L,GAClB,IAAM6L,EAAY1F,IAAM2F,YADQ,EAGN1C,mBAAwB,MAHlB,oBAGzB7F,EAHyB,KAGlBwI,EAHkB,OAII3C,mBAAiB,IAJrB,oBAIzB6B,EAJyB,KAIbe,EAJa,OAKA5C,oBAAS,GALT,oBAKzB6C,EALyB,KAKfC,EALe,KA2BhC,OApBAtL,qBAAU,WACJiL,GAELE,EAASF,EAAU/K,QAAQqL,gBAG5BvL,qBAAU,WACT,IAAMwL,EAAgB1O,YAAW,WAChCwO,GAAY,KACV,KAEH,OAAO,kBAAMG,aAAaD,OAU1B,kBAACnH,EAAA,EAAD,CAAMI,WAAS,EAAC9D,IAAKsK,EAAWnM,UAAWC,KAAO2M,KAAM9C,UAAU,UACjE,kBAACvE,EAAA,EAAD,CAAM/H,MAAI,EAACwC,UAAWC,KAAO6K,YAC5B,kBAACtJ,EAAA,EAAD,CAAWuE,WAAS,EAACgF,YAAY,oBAAoBhK,MAAOwK,EAAYtK,SAT3E,SAA4BP,GAC3B8L,GAAY,GACZ,IAAMnC,EAAO3J,EAAEoG,OAAO/F,MACtBuL,EAAcjC,OAQZxG,GACA,kBAAC0B,EAAA,EAAD,CAAM/H,MAAI,EAACwC,UAAWC,KAAO4M,WAC3BN,GAA2B,KAAfhB,GACZ,kBAACD,GAAD,CAAMzH,MAAOA,EAAO0H,WAAYA,EAAYC,UAAWb,GAAUmB,WAEjES,GAA2B,KAAfhB,GACZ,kBAACD,GAAD,CAAMzH,MAAOA,EAAO0H,WAAYA,EAAYC,UAAWb,GAAUgB,SAElE,kBAAC,KAAD,CACCmB,SAAU,YAAe,EAAZjJ,YCtDnB,SAASkJ,GAASzM,GAAuB,IAChC0M,EAAqC1M,EAArC0M,SAAUjM,EAA2BT,EAA3BS,MAAOtF,EAAoB6E,EAApB7E,MAAUwR,EADI,aACM3M,EADN,8BAGvC,OACC,uCACC4M,KAAK,WACLC,OAAQpM,IAAUtF,EAClBD,GAAE,4BAAuBC,GACzB2R,kBAAA,uBAAiC3R,GACjCuE,UAAWC,KAAOoN,WACdJ,GAEHlM,IAAUtF,GAAS,kBAAC6R,EAAA,EAAD,CAAKC,EAAG,GAAIP,IAKnC,SAASQ,GAAU/R,GAClB,MAAO,CACND,GAAG,gBAAD,OAAkBC,GACpB,gBAAgB,qBAAhB,OAAsCA,IA0CzBgS,OAtCf,WAAsB,IAAD,EACMhH,IAAMiD,SAAS,GADrB,oBACb3I,EADa,KACN2M,EADM,KAOpB,OACC,kBAACJ,EAAA,EAAD,CAAKtN,UAAWC,KAAO2M,MACtB,kBAACe,GAAA,EAAD,CACCC,YAAY,WACZ7M,MAAOA,EACPE,SATkB,SAAC4M,EAA8BC,GACnDJ,EAASI,IASPC,aAAW,wBACX/N,UAAWC,KAAO+N,MAElB,kBAACC,GAAA,EAAD,eAAKC,KAAM,kBAAC,KAAD,CAAc9N,SAAS,UAAYJ,UAAWC,KAAOkO,KAASX,GAAU,KACnF,kBAACS,GAAA,EAAD,eAAKC,KAAM,kBAAC,KAAD,CAAgB9N,SAAS,UAAYJ,UAAWC,KAAOkO,KAASX,GAAU,KACrF,kBAACS,GAAA,EAAD,eAAKC,KAAM,kBAAC,KAAD,CAAS9N,SAAS,UAAYJ,UAAWC,KAAOkO,KAASX,GAAU,KAC9E,kBAACS,GAAA,EAAD,eAAKC,KAAM,kBAAC,KAAD,CAAe9N,SAAS,UAAYJ,UAAWC,KAAOkO,KAASX,GAAU,MAErF,kBAACT,GAAD,CAAUhM,MAAOA,EAAOtF,MAAO,GAC9B,kBAAC,GAAD,MACA,kBAAC,GAAD,OAED,kBAACsR,GAAD,CAAUhM,MAAOA,EAAOtF,MAAO,GAA/B,QAGA,kBAACsR,GAAD,CAAUhM,MAAOA,EAAOtF,MAAO,GAC9B,kBAAC,GAAD,OAED,kBAACsR,GAAD,CAAUhM,MAAOA,EAAOtF,MAAO,GAA/B,WC9DG2S,GAAQC,YAAe,CAC5BC,QAAS,CACRC,QAAS,CACRC,KAAM,WAEPC,UAAW,CACVD,KAAM,cAkCMtM,oBA7Bf,WACC,OACC,kBAACwM,EAAA,EAAD,CAAeN,MAAOA,IACrB,kBAACO,EAAA,EAAD,CAAsBC,YAAaC,KAClC,kBAACC,EAAA,EAAD,CAAW9O,UAAWC,KAAO0F,WAC5B,kBAACJ,EAAA,EAAD,CAAMvF,UAAWC,KAAO8O,OAAQpJ,WAAS,EAACO,aAAa,UACtD,kBAAC,GAAD,OAED,kBAACX,EAAA,EAAD,CAAMI,WAAS,EAACW,KAAM,UACpBpK,EAAMM,OAASlC,EAAK8D,MACpB,kBAACmH,EAAA,EAAD,CAAM/H,MAAI,EAAC6I,GAAI,EAAGrG,UAAWC,KAAO+O,cACnC,kBAAC,GAAD,OAGF,kBAAC1B,EAAA,EAAD,CAAKtN,UAAWC,KAAOgP,aACtB,yBAAK9O,MAAO,CAAEC,SAAU,SAAxB,WACUlE,EAAMiB,kBADhB,IACoCjB,EAAMgB,QAAQjB,OAAS,EAD3D,QACmE,IACjEC,EAAMmB,gBAFR,IAE0BnB,EAAMQ,KAAKT,OAAS,EAF9C,YAE0DC,EAAMY,mBAFhE,IAGEZ,EAAMW,QAAQZ,OAAS,GAEzB,kBAAC,GAAD,cChCaiT,QACW,cAA7BvU,OAAOC,SAASuU,UAEe,UAA7BxU,OAAOC,SAASuU,UAEhBxU,OAAOC,SAASuU,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDiIpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL3T,QAAQ2T,MAAMA,EAAMC,a,mBEhJ5B9V,EAAOC,QAAU,CAAC,UAAY,6BAA6B,eAAiB,kCAAkC,UAAY,6BAA6B,MAAQ,yBAAyB,QAAU,2BAA2B,SAAW,4BAA4B,cAAgB,iCAAiC,SAAW,4BAA4B,aAAe,gCAAgC,WAAa,8BAA8B,gBAAkB,mCAAmC,SAAW,8B,mBCAtfD,EAAOC,QAAU,CAAC,UAAY,2BAA2B,MAAQ,uBAAuB,IAAM,qBAAqB,KAAO,sBAAsB,WAAa,4BAA4B,OAAS,wBAAwB,UAAY,6B,mBCAtOD,EAAOC,QAAU,CAAC,KAAO,wBAAwB,KAAO,wBAAwB,IAAM,uBAAuB,UAAY,+B,mBCAzHD,EAAOC,QAAU,CAAC,OAAS,4BAA4B,QAAU,6BAA6B,QAAU,6BAA6B,cAAgB,mCAAmC,eAAiB,oCAAoC,SAAW,gC,mBCAxPD,EAAOC,QAAU,CAAC,YAAc,yBAAyB,aAAe,0BAA0B,UAAY,yB,mBCA9GD,EAAOC,QAAU,CAAC,WAAa,8BAA8B,UAAY,+B,mBCAzED,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,kC,mBCA1ED,EAAOC,QAAU,CAAC,OAAS,4BAA4B,kBAAoB,0C","file":"static/js/main.ab6ec8a6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchLine\":\"SourcesPanel_searchLine__b7z42\"};","import { observable, makeObservable, configure, computed, action, autorun } from 'mobx'\nimport { v4 as uuid } from 'uuid'\n\nimport parse from 'url-parse'\nimport ReactPlayer from 'react-player'\n\nconfigure({ enforceActions: 'never' })\n\nexport interface Cut {\n\tstartTime: number\n\tendTime: number\n}\n\nexport interface Player {\n\tid: number\n\tisVisible: boolean\n\tplaying: boolean\n\tmuted: boolean\n\turl: string\n\tinstance?: ReactPlayer\n\tcutIndex?: number\n}\n\nexport interface CutStore {\n\tid: string\n\tindex: number\n\turl: string\n\tcut: Cut\n}\n\nexport interface Source {\n\tid: string\n\tindex: number\n\turl: string\n}\n\nexport enum Mode {\n\tCreate = 'create',\n\tPlayOne = 'playOne',\n\tPlayAll = 'playAll',\n\tShow = 'show',\n}\n\nconst url = parse(window.location.href, true)\nlet urlStory: CutStore[] | null = null\nlet urlSources: Source[] | null = null\n\nif (url.query.story) {\n\tconst raw = decodeURIComponent(url.query.story)\n\turlStory = raw.split(',').map((player) => {\n\t\tconst parts = player.split('::')\n\n\t\treturn {\n\t\t\tid: parts[0],\n\t\t\tindex: parseFloat(parts[1]),\n\t\t\turl: parts[2],\n\t\t\tcut: {\n\t\t\t\tstartTime: parseFloat(parts[3]),\n\t\t\t\tendTime: parseFloat(parts[4]),\n\t\t\t},\n\t\t}\n\t})\n}\n\nif (url.query.video) {\n\tconst raw = decodeURIComponent(url.query.video)\n\turlSources = raw.split(',').map((source) => {\n\t\tconst parts = source.split('::')\n\n\t\treturn {\n\t\t\tid: parts[0],\n\t\t\tindex: parseFloat(parts[1]),\n\t\t\turl: parts[2],\n\t\t}\n\t})\n}\n\nconst hasUrl = urlSources && urlSources.length > 0\n\nclass Store {\n\t@observable sources: Source[] = urlSources || []\n\t@observable mode: Mode = !hasUrl ? Mode.Create : Mode.Show\n\t@observable cuts: CutStore[] = urlStory || []\n\t@observable players: Player[] = [0, 1, 2].map((player, i) => {\n\t\treturn {\n\t\t\tid: i,\n\t\t\tisVisible: i === 0,\n\t\t\tplaying: false,\n\t\t\tmuted: false,\n\t\t\turl: this.sources[0] ? this.sources[0].url : '',\n\t\t}\n\t})\n\t@observable activePlayerIndex: number = 0\n\t@observable currentCutIndex: number = this.cuts.length > 0 ? 0 : -1\n\t@observable currentSourceIndex: number = this.sources.length > 0 ? 0 : -1\n\n\t@computed get shareUrl() {\n\t\tif (this.sources.length === 0) return null\n\t\tconst baseUrl = window.location.href.split('?')[0]\n\n\t\treturn `${baseUrl}?video=${encodeURIComponent(\n\t\t\tthis.sources\n\t\t\t\t.map((source) => {\n\t\t\t\t\treturn [source.id, source.index, source.url].join('::')\n\t\t\t\t})\n\t\t\t\t.join(',')\n\t\t)}&story=${encodeURIComponent(\n\t\t\tthis.cuts\n\t\t\t\t.map((player, i) => {\n\t\t\t\t\treturn [player.id, player.index, player.url, player.cut?.startTime, player.cut?.endTime].join('::')\n\t\t\t\t})\n\t\t\t\t.join(',')\n\t\t)}`\n\t}\n\n\t@computed get trailerLength() {\n\t\treturn this.cuts.reduce((duration, player, index) => {\n\t\t\tif (!player.cut) return duration\n\t\t\treturn duration + player.cut.endTime - player.cut.startTime\n\t\t}, 0)\n\t}\n\n\t@computed get nextPlayerIndex() {\n\t\tif (this.activePlayerIndex === this.players.length - 1) return 0\n\t\treturn this.activePlayerIndex + 1\n\t}\n\n\t@computed get nextCutIndex() {\n\t\tif (this.currentCutIndex === this.cuts.length - 1) return 0\n\t\treturn this.currentCutIndex + 1\n\t}\n\n\t@action\n\taddCut(cut: Cut) {\n\t\tthis.cuts.push({\n\t\t\tid: uuid(),\n\t\t\tindex: this.cuts.length,\n\t\t\turl: this.sources[this.currentSourceIndex].url,\n\t\t\tcut: {\n\t\t\t\tstartTime: cut.startTime,\n\t\t\t\tendTime: cut.endTime,\n\t\t\t},\n\t\t})\n\t}\n\n\t@action\n\taddSource(url: string) {\n\t\tthis.sources = [\n\t\t\t...this.sources,\n\t\t\t{\n\t\t\t\tid: uuid(),\n\t\t\t\tindex: this.sources.length,\n\t\t\t\turl: url,\n\t\t\t},\n\t\t]\n\n\t\tthis.changeModeToCreate(this.sources.length - 1)\n\t}\n\n\t@action\n\tchangeSource(sourceIndex: number) {\n\t\tthis.currentSourceIndex = sourceIndex\n\t\tthis.changeModeToCreate(sourceIndex)\n\t}\n\n\t@action\n\tremoveCut(cutIndex: number) {\n\t\tif (\n\t\t\tthis.players[this.activePlayerIndex].playing &&\n\t\t\t(cutIndex === this.currentCutIndex || cutIndex === this.nextCutIndex)\n\t\t)\n\t\t\treturn\n\n\t\tif (cutIndex === this.currentCutIndex) {\n\t\t\tthis.changeModeToCreate(0)\n\t\t\treturn\n\t\t}\n\n\t\tthis.cuts = this.cuts\n\t\t\t.filter((item) => item.index !== cutIndex)\n\t\t\t.map((item, index) => {\n\t\t\t\titem.index = index\n\t\t\t\treturn item\n\t\t\t})\n\t}\n\n\t@action\n\tchangeModeToCreate(sourceIndex: number) {\n\t\tthis.mode = Mode.Create\n\n\t\tthis.currentSourceIndex = sourceIndex\n\n\t\tfor (let i = 0; i < this.players.length; i += 1) {\n\t\t\tif (i === this.activePlayerIndex) {\n\t\t\t\tthis.players[i] = {\n\t\t\t\t\t...this.players[i],\n\t\t\t\t\tisVisible: true,\n\t\t\t\t\turl: this.sources[sourceIndex].url,\n\t\t\t\t\tplaying: false,\n\t\t\t\t}\n\n\t\t\t\tthis.currentCutIndex = -1\n\t\t\t} else {\n\t\t\t\tthis.players[i].isVisible = false\n\t\t\t\tthis.players[i].playing = false\n\t\t\t}\n\n\t\t\t// @ts-ignore\n\t\t\tthis.players[i].instance?.getInternalPlayer().stopVideo()\n\t\t}\n\t}\n\n\t@action\n\tchangeModeToPlayOne(cutIndex: number) {\n\t\tthis.mode = Mode.PlayOne\n\n\t\tthis.players[this.activePlayerIndex] = {\n\t\t\t...this.players[this.activePlayerIndex],\n\t\t\turl: this.cuts[cutIndex].url,\n\t\t\tcutIndex,\n\t\t\tplaying: false,\n\t\t}\n\t\tthis.currentCutIndex = cutIndex\n\n\t\tsetTimeout(() => this.startPlayingCurrentCut(this.cuts[this.currentCutIndex].cut), 500)\n\t}\n\n\t@action\n\tchangeModeToPlayAll() {\n\t\tif (this.cuts.length === 0) {\n\t\t\tthis.changeModeToCreate(0)\n\t\t\tthis.players[this.activePlayerIndex].playing = true\n\t\t\treturn\n\t\t}\n\n\t\tthis.mode = Mode.PlayAll\n\n\t\tthis.setDefaultPlayerState()\n\t}\n\n\t@action\n\tchangeModeToShow() {\n\t\tthis.mode = Mode.Show\n\t\tthis.setDefaultPlayerState()\n\t}\n\n\t@action\n\tstartPlayingCurrentCut(cut: Cut) {\n\t\tif (!cut) return\n\n\t\tthis.players[this.activePlayerIndex].instance?.seekTo(cut.startTime)\n\n\t\tsetTimeout(() => {\n\t\t\tthis.players[this.activePlayerIndex].instance?.seekTo(cut.startTime)\n\t\t\tthis.players[this.activePlayerIndex].playing = true\n\t\t}, 2000)\n\t}\n\n\tsetDefaultPlayerState() {\n\t\tthis.players[this.activePlayerIndex].playing = false\n\n\t\tsetTimeout(() => {\n\t\t\tfor (let i = 0; i < this.players.length; i += 1) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tthis.players[i].instance?.getInternalPlayer().stopVideo()\n\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tthis.players[i] = {\n\t\t\t\t\t\tid: this.players[i].id,\n\t\t\t\t\t\tinstance: this.players[i].instance,\n\t\t\t\t\t\tisVisible: true,\n\t\t\t\t\t\tmuted: false,\n\t\t\t\t\t\turl: this.cuts[0].url,\n\t\t\t\t\t\tplaying: false,\n\t\t\t\t\t\tcutIndex: 0,\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.players[i] = {\n\t\t\t\t\t\tid: this.players[i].id,\n\t\t\t\t\t\tinstance: this.players[i].instance,\n\t\t\t\t\t\tisVisible: false,\n\t\t\t\t\t\tmuted: false,\n\t\t\t\t\t\turl: this.cuts[0].url,\n\t\t\t\t\t\tplaying: false,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.activePlayerIndex = 0\n\t\t\tthis.currentCutIndex = 0\n\t\t\tthis.startPlayingCurrentCut(this.cuts[this.currentCutIndex].cut)\n\t\t}, 1000)\n\t}\n\n\tconstructor() {\n\t\tmakeObservable(this)\n\t\tautorun(() => console.log(`--> In ${this.mode.toUpperCase()} mode`))\n\t}\n}\n\nconst store = new Store()\n\nexport default store\n","function pad(x: number) {\n\tif (x < 10) return `0${x}`\n\treturn x\n}\n\nexport function formatTime(duration: number | null, long = false) {\n\tif (!duration) return `00:00:00.0`\n\tconst hours = Math.floor(duration / 60 / 60)\n\tconst mins = Math.floor((duration / 60) % 60)\n\tconst seconds = Math.floor(duration % 60)\n\tconst fract = Math.floor((duration - Math.floor(duration)) * 10)\n\tlet time = `${pad(hours)}:${pad(mins)}:${pad(seconds)}`\n\tif (long) time = `${time}.${fract}`\n\treturn time\n}\n","import React, { ChangeEvent, useEffect, useRef, WheelEvent } from 'react'\n\nimport { IconButton, InputAdornment, TextField } from '@material-ui/core'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport AddIcon from '@material-ui/icons/Add'\n\nimport styles from './TimeInput.module.sass'\nimport { formatTime } from \"../utils/format-time\";\n\ninterface Props {\n\tvalue: number\n\tlabel?: string\n\tonChange: (value: number) => void\n}\n\nfunction Adornment({ onClick, position }: { position: 'start' | 'end'; onClick: () => void }) {\n\treturn (\n\t\t<InputAdornment position={position}>\n\t\t\t<IconButton edge={position} onClick={onClick} className={styles.changeButton}>\n\t\t\t\t{position === 'start' ? <RemoveIcon style={{ fontSize: 12 }} /> : <AddIcon style={{ fontSize: 12 }} />}\n\t\t\t</IconButton>\n\t\t</InputAdornment>\n\t)\n}\n\nexport default function TimeInput(props: Props) {\n\n\tconst textFieldRef = useRef(null);\n\n\tfunction onChange(e: ChangeEvent<HTMLInputElement>) {\n\t}\n\n\tfunction onWheel(e: WheelEvent<HTMLElement>): void {\n\t\te.preventDefault();\n\n\t\tif (e.deltaY > 0) {\n\t\t\tonAdd();\n\t\t} else {\n\t\t\tonRemove();\n\t\t}\n\t}\n\n\tfunction onRemove() {\n\t\tif (!props.value) return;\n\n\t\tlet newVal = props.value - 0.1;\n\n\t\tif (newVal < 0) newVal = 0;\n\n\t\tprops.onChange(newVal);\n\t}\n\n\tfunction onAdd() {\n\t\tprops.onChange(props.value + 0.1);\n\t}\n\n\tuseEffect(() => {\n\t\tconst textField = textFieldRef.current;\n\n\t\t(textField as any)?.addEventListener('wheel', onWheel);\n\t\treturn () => {\n\t\t\t(textField as any)?.removeEventListener(\"wheel\", onWheel);\n\t\t};\n\t}, [props.value]);\n\n\tconst formattedProps = {\n\t\t...props,\n\t\tvalue: formatTime(props.value, true)\n\t};\n\n\tconst textField = <TextField\n\t\t{...formattedProps}\n\t\tclassName={styles.timeInput}\n\t\tsize={'small'}\n\t\thelperText={null}\n\t\tvariant='outlined'\n\t\tonChange={onChange}\n\t\tref={textFieldRef}\n\t\tInputProps={{\n\t\t\tstartAdornment: <Adornment position='start' onClick={onRemove} />,\n\t\t\tendAdornment: <Adornment position='end' onClick={onAdd} />,\n\t\t\treadOnly: true,\n\t\t}}\n\t/>;\n\n\treturn (\n\t\ttextField\n\t)\n}\n","import React from 'react'\nimport ReactPlayer from 'react-player'\nimport { observer } from 'mobx-react'\n\nimport store, { Cut, Mode } from '../../store'\nimport styles from './MultiPlayer.module.sass'\n\ninterface Props {\n\tupdatePosition: (playedSeconds: number) => void\n}\n\nfunction MultiPlayer(props: Props) {\n\tconst { updatePosition } = props\n\t// const playerRef = React.createRef<ReactPlayer>()\n\n\t// useEffect(() => {\n\t// \tif (store.mode === Mode.Show) store.changeModeToCreate()\n\t// })\n\n\tfunction onReady(index: number, player: ReactPlayer) {\n\t\tconsole.log(`Player ${index} onReady`)\n\n\t\tstore.players[index].instance = player\n\t}\n\n\tfunction onProgress(playerIndex: number, playerState: any) {\n\t\tconst playerStore = store.players[playerIndex]\n\t\tconst cutIndex = store.players[playerIndex].cutIndex\n\t\tif (playerStore.isVisible) updatePosition(playerState.playedSeconds)\n\n\t\tif (cutIndex === undefined || store.currentCutIndex === -1) {\n\t\t\tconsole.log('No cut index in player')\n\t\t\treturn\n\t\t}\n\t\tconst cut = store.cuts[cutIndex].cut\n\t\tconsole.log(\n\t\t\t`Player ${playerIndex} onProgress in ${playerState.playedSeconds} sec (s: ${cut?.startTime} e: ${cut?.endTime}`\n\t\t)\n\n\t\tswitch (store.mode) {\n\t\t\tcase Mode.Create:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayOne:\n\t\t\t\tif (!playerStore.isVisible || isInCut(cut, playerState.playedSeconds)) return\n\t\t\t\tstopPlayOne(playerIndex)\n\t\t\t\t// store.changeModeToCreate()\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayAll:\n\t\t\t\tif (!playerStore.isVisible || isInCut(cut, playerState.playedSeconds)) return\n\t\t\t\tgoToNextCut(playerIndex)\n\t\t\t\tbreak\n\t\t\tcase Mode.Show:\n\t\t\t\tif (!playerStore.isVisible || isInCut(cut, playerState.playedSeconds)) return\n\t\t\t\tgoToNextCut(playerIndex)\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction onBuffer(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onBuffer`)\n\t}\n\n\tfunction onBufferEnd(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onBufferEnd`)\n\t}\n\n\tfunction onStart(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onStart`)\n\t\t// store.playersChain[playerIndex].playing = true\n\t}\n\n\tfunction onPlay(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onPlay`)\n\t\t// store.playersChain[playerIndex].playing = true\n\n\t\tswitch (store.mode) {\n\t\t\tcase Mode.Create:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayOne:\n\t\t\t\tbreak\n\t\t\tcase Mode.PlayAll:\n\t\t\t\tpreloadNextCut()\n\t\t\t\tbreak\n\t\t\tcase Mode.Show:\n\t\t\t\tpreloadNextCut()\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tfunction onPause(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onPause`)\n\t\t// store.playersChain[playerIndex].playing = false\n\t}\n\n\tfunction onEnded(playerIndex: number) {\n\t\tconsole.log(`Player ${playerIndex} onEnded`)\n\t\t// store.playersChain[playerIndex].playing = false\n\t}\n\n\tfunction onSeek(playerIndex: number, e: any) {\n\t\tconsole.log(`Player ${playerIndex} onSeek`)\n\t}\n\n\tfunction preloadNextCut() {\n\t\tconst nextPlayerId = store.nextPlayerIndex\n\t\tconst nextCutIndex = store.nextCutIndex\n\t\tconst startTime = store.cuts[nextCutIndex].cut?.startTime\n\n\t\tconsole.log(`Player ${nextPlayerId} START preload`)\n\n\t\tstore.players[nextPlayerId] = {\n\t\t\t...store.players[nextPlayerId],\n\t\t\tcutIndex: store.cuts[nextCutIndex].index,\n\t\t\turl: store.cuts[nextCutIndex].url,\n\t\t\tmuted: true,\n\t\t\tplaying: true,\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tstore.players[nextPlayerId].playing = false\n\t\t\tstore.players[nextPlayerId].muted = false\n\t\t\tstore.players[nextPlayerId].instance?.seekTo(startTime || 0)\n\t\t\tconsole.log(`Player ${nextPlayerId} END preload`)\n\t\t}, 1000)\n\t}\n\n\tfunction isInCut(cut: Cut | null | undefined, playedSeconds: number) {\n\t\tif (!cut) return false\n\t\tif (playedSeconds >= cut.startTime && playedSeconds <= cut.endTime) return true\n\t\treturn false\n\t}\n\n\tfunction goToNextCut(playerIndex: number) {\n\t\tstopPlayOne(playerIndex)\n\n\t\tconst isLastCut = store.currentCutIndex === store.cuts.length - 1\n\n\t\tif (isLastCut) {\n\t\t\tconsole.log('Last cut is end')\n\t\t} else {\n\t\t\tconsole.log(`Go from ${store.currentCutIndex} to ${store.nextCutIndex} cut`)\n\t\t\tstore.players[store.activePlayerIndex].isVisible = false\n\t\t\tstore.players[store.nextPlayerIndex].isVisible = true\n\t\t\tstore.players[store.nextPlayerIndex].playing = true\n\n\t\t\tconst nextPlayerIndex = store.nextPlayerIndex\n\t\t\tconst nextCutIndex = store.nextCutIndex\n\t\t\tstore.activePlayerIndex = nextPlayerIndex\n\t\t\tstore.currentCutIndex = nextCutIndex\n\t\t}\n\t}\n\n\tfunction stopPlayOne(playerIndex: number) {\n\t\tstore.players[playerIndex].playing = false\n\n\t\t// @ts-ignore\n\t\tstore.players[playerIndex].instance?.getInternalPlayer().stopVideo()\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t{store.sources.length > 0 ? (\n\t\t\t\tstore.players.map((item, index, array) => {\n\t\t\t\t\tconst curIndex = array.length - 1 - index\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={store.players[curIndex].id}\n\t\t\t\t\t\t\tstyle={{ visibility: store.players[curIndex].isVisible ? 'visible' : 'hidden' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReactPlayer\n\t\t\t\t\t\t\t\t// ref={playerRef}\n\t\t\t\t\t\t\t\tplaying={store.players[curIndex].playing}\n\t\t\t\t\t\t\t\tclassName={styles.player}\n\t\t\t\t\t\t\t\turl={store.players[curIndex].url}\n\t\t\t\t\t\t\t\tmuted={store.players[curIndex].muted}\n\t\t\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\t\t\theight='100%'\n\t\t\t\t\t\t\t\tonPlay={onPlay.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonProgress={onProgress.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonStart={onStart.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonPause={onPause.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonEnded={onEnded.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonReady={onReady.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonSeek={onSeek.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonBufferEnd={onBufferEnd.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tonBuffer={onBuffer.bind(null, curIndex)}\n\t\t\t\t\t\t\t\tprogressInterval={100}\n\t\t\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\t\t\tyoutube: {\n\t\t\t\t\t\t\t\t\t\tplayerVars: {},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t// twitch: {\n\t\t\t\t\t\t\t\t\t// \toptions: {\n\t\t\t\t\t\t\t\t\t// \t\tautoplay: true,\n\t\t\t\t\t\t\t\t\t// \t\ttime: '0h0m0s',\n\t\t\t\t\t\t\t\t\t// \t},\n\t\t\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t) : (\n\t\t\t\t<div className={styles.playerPlaceholder} />\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default observer(MultiPlayer)\n","import MultiPlayer from './MultiPlayer'\n\nexport default MultiPlayer\n","import React from 'react'\nimport { Button, Grid } from '@material-ui/core'\nimport classNames from 'classnames'\nimport { observer } from 'mobx-react'\n\nimport store, { Cut, Mode } from '../store'\nimport { formatTime } from '../utils/format-time'\nimport styles from './PlayerPanel.module.sass'\nimport TimeInput from './TimeInput'\nimport MultiPlayer from './MultiPlayer'\n\ninterface PlayerPanelState {\n\tcut: Cut | null\n\tplaying: boolean\n\tposition: number\n}\n\nclass PlayerPanel extends React.Component {\n\tstate: PlayerPanelState\n\n\tconstructor(props: any) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\tcut: null,\n\t\t\tplaying: false,\n\t\t\tposition: 0,\n\t\t}\n\t}\n\n\tchangeStart = (time: number) => {\n\t\tthis.setState({\n\t\t\tcut: {\n\t\t\t\tstartTime: time,\n\t\t\t\tendTime: Math.max(this.state.cut!.endTime, time + 1),\n\t\t\t},\n\t\t})\n\t}\n\n\tchangeEnd = (time: number) => {\n\t\tthis.setState({\n\t\t\tcut: {\n\t\t\t\tstartTime: Math.min(this.state.cut!.startTime, time - 1),\n\t\t\t\tendTime: time,\n\t\t\t},\n\t\t})\n\t}\n\n\tplay = (): void => {\n\t\tconst { cut } = this.state\n\n\t\tif (!cut) return\n\n\t\tstore.players[store.activePlayerIndex].playing = false\n\t\tstore.players[store.activePlayerIndex].instance?.seekTo(cut.startTime)\n\n\t\tsetTimeout(() => {\n\t\t\tstore.players[store.activePlayerIndex].playing = true\n\n\t\t\tconst checkCut = () => {\n\t\t\t\tconst { cut } = this.state\n\t\t\t\tif (!cut) return\n\n\t\t\t\tconst player = store.players[store.activePlayerIndex].instance\n\t\t\t\tconst position = player ? player.getCurrentTime() : 0\n\n\t\t\t\tif (position >= cut?.startTime && position <= cut?.endTime) return\n\t\t\t\tclearInterval(intervalId)\n\t\t\t\tstore.players[store.activePlayerIndex].playing = false\n\t\t\t}\n\n\t\t\tconst intervalId = setInterval(checkCut, 100)\n\t\t}, 1000)\n\t}\n\n\tclear = () => {\n\t\tthis.setState({\n\t\t\tcut: null,\n\t\t})\n\t}\n\n\tonAddCut = () => {\n\t\tconst { cut } = this.state\n\n\t\tif (!cut) return\n\n\t\tstore.addCut(cut)\n\t\tthis.setState({\n\t\t\tstartTime: 0,\n\t\t\tendTime: 0,\n\t\t})\n\t}\n\n\tupdatePosition = (playedSeconds: number) => {\n\t\tthis.setState({ position: playedSeconds })\n\t}\n\n\tonStartFrame = () => {\n\t\tconst { position, cut } = this.state\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\n\t\tcurrent.startTime = position\n\t\tif (current.endTime < position) current.endTime = position + 5\n\t\tthis.setState({ cut: current })\n\t}\n\n\tonEndFrame = () => {\n\t\tconst { position, cut } = this.state\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\n\t\tcurrent.endTime = position\n\t\tif (current.startTime > position) current.startTime = position - 5\n\t\tthis.setState({ cut: current })\n\t}\n\n\trender() {\n\t\tconst { position, cut } = this.state\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Grid className={classNames('padded', styles.playerWrapper)}>\n\t\t\t\t\t<MultiPlayer updatePosition={this.updatePosition} />\n\t\t\t\t</Grid>\n\t\t\t\t{store.mode !== Mode.Show && store.sources.length > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Grid justify='center' container>\n\t\t\t\t\t\t\t{formatTime(position, true)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tonClick={this.onStartFrame}\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tStart of frame\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={this.onEndFrame}\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEnd of frame\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{cut && (\n\t\t\t\t\t\t\t<Grid container justify='center' className={styles.timeRow} alignContent='flex-end'>\n\t\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t\t<TimeInput value={cut.startTime} label='Start time' onChange={this.changeStart} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t\t<TimeInput value={cut?.endTime} label='End time' onChange={this.changeEnd} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\t\tclassName={styles.buttons}\n\t\t\t\t\t\t\t\t\txs\n\t\t\t\t\t\t\t\t\tjustify={'flex-end'}\n\t\t\t\t\t\t\t\t\talignContent={'center'}\n\t\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\twrap={'nowrap'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Button variant='outlined' disableElevation onClick={this.play}>\n\t\t\t\t\t\t\t\t\t\tPlay\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\t\tonClick={this.onAddCut}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={this.clear}>\n\t\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Grid className={styles.previewButtons} container>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tonClick={() => store.changeModeToShow()}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPlay trailer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\tonClick={() => store.changeModeToCreate(0)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tMake your own trailer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default observer(PlayerPanel)\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M45.3237 37.4146C47.6541 33.6649 49 29.2396 49 24.5C49 10.969 38.031 0 24.5 0C10.969 0 0 10.969 0 24.5C0 38.031 10.969 49 24.5 49C30.7748 49 36.4987 46.6411 40.8332 42.7617L38.759 37.5H41.1243L38.759 31.5H42.983L45.3237 37.4146Z\",\n  fill: \"#4D6DDF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 92,\n  cy: 37,\n  rx: 2,\n  ry: 3,\n  fill: \"#4D6DDF\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.728 38.248C34.56 38.752 33.168 40.264 31.104 40.264C29.856 40.264 28.872 39.52 28.44 38.536L37.272 36.928C37.296 36.832 37.272 36.736 37.272 36.616C37.152 33.304 34.44 30.664 31.104 30.664C27.672 30.664 24.912 33.424 24.912 36.856C24.912 37.624 25.056 38.392 25.344 39.088C26.28 41.512 28.704 43.048 31.104 43.048C35.28 43.048 37.08 39.616 37.296 39.064L34.728 38.248ZM28.08 35.824C28.344 34.528 29.448 33.496 30.72 33.4C31.968 33.28 33.216 34.024 33.792 35.176L28.008 36.208L28.08 35.824ZM45.981 31L43.437 37.792L40.749 31H37.677L41.925 41.776L39.741 47.584H42.813L49.053 31H45.981ZM59.2436 38.248C59.0756 38.752 57.6836 40.264 55.6196 40.264C54.3716 40.264 53.3876 39.52 52.9556 38.536L61.7876 36.928C61.8116 36.832 61.7876 36.736 61.7876 36.616C61.6676 33.304 58.9556 30.664 55.6196 30.664C52.1876 30.664 49.4276 33.424 49.4276 36.856C49.4276 37.624 49.5716 38.392 49.8596 39.088C50.7956 41.512 53.2196 43.048 55.6196 43.048C59.7956 43.048 61.5956 39.616 61.8116 39.064L59.2436 38.248ZM52.5956 35.824C52.8596 34.528 53.9636 33.496 55.2356 33.4C56.4836 33.28 57.7316 34.024 58.3076 35.176L52.5236 36.208L52.5956 35.824ZM77.9706 30.808C76.0026 30.808 74.5386 31.576 73.6746 32.752C72.8106 31.552 71.4666 30.808 69.8106 30.808C68.6106 30.808 67.4346 31.336 66.5706 32.2V31H63.4986V43H66.5706V36.4C66.5706 34.792 67.6266 33.64 69.0906 33.64C70.5546 33.64 71.6106 34.768 71.6106 36.376V43H74.7306V36.4C74.7306 34.792 75.7866 33.64 77.2506 33.64C78.7146 33.64 79.7466 34.768 79.7466 36.376V43H82.8906V36.304C82.8906 33.184 80.8986 30.808 77.9706 30.808ZM90.8462 43.192C94.2782 43.192 97.0382 40.408 97.0382 37C97.0382 33.592 94.2782 30.808 90.8462 30.808C87.4382 30.808 84.6542 33.592 84.6542 37C84.6542 40.408 87.4382 43.192 90.8462 43.192ZM90.9662 40.312C89.1422 40.312 87.8462 38.92 87.8462 37C87.8462 35.08 89.1422 33.688 90.9662 33.688C92.7662 33.688 94.0862 35.08 94.0862 37C94.0862 38.92 92.7662 40.312 90.9662 40.312Z\",\n  fill: \"#252525\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 98,\n    height: 50,\n    viewBox: \"0 0 98 50\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.533b66be.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport { ReactComponent as EyemoLogo } from './logo.svg'\n\ntype LogoProps = {\n\tclassName?: string\n}\n\nconst Logo = ({ className }: LogoProps) => {\n\treturn (\n\t\t<div className={className}>\n\t\t\t<EyemoLogo />\n\t\t</div>\n\t)\n}\n\nexport default Logo\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport { Button, Grid } from '@material-ui/core'\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport store, { Cut } from '../store'\nimport styles from './CutItem.module.sass'\nimport TimeInput from './TimeInput'\nimport { formatTime } from '../utils/format-time'\n\ninterface Props {\n\tcut: Cut\n\tidx: number\n}\n\nfunction CutItem(props: Props) {\n\tfunction play() {\n\t\tstore.changeModeToPlayOne(props.idx)\n\t}\n\n\tfunction remove() {\n\t\tstore.removeCut(props.idx)\n\t}\n\n\tfunction setStart(time: number) {\n\t\tprops.cut.startTime = time\n\t\tif (props.cut.endTime < props.cut.startTime + 1) props.cut.endTime = props.cut.startTime + 1\n\n\t\tstore.cuts[props.idx].cut = {\n\t\t\tstartTime: props.cut.startTime,\n\t\t\tendTime: props.cut.endTime,\n\t\t}\n\t}\n\n\tfunction setEnd(time: number) {\n\t\tprops.cut.endTime = time\n\t\tif (props.cut.startTime > props.cut.endTime - 1) props.cut.startTime = props.cut.endTime - 1\n\t\tstore.cuts[props.idx].cut = {\n\t\t\tstartTime: props.cut.startTime,\n\t\t\tendTime: props.cut.endTime,\n\t\t}\n\t}\n\n\treturn (\n\t\t<Grid container className={styles.container}>\n\t\t\t<Grid item className={styles.idx}>\n\t\t\t\t{props.idx + 1}\n\t\t\t</Grid>\n\t\t\t<Grid className={styles.block} container item lg>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Button className={styles.play} onClick={play}>\n\t\t\t\t\t\t<PlayArrowIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.startTime} onChange={(time) => setStart(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.endTime} onChange={(time) => setEnd(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={styles.rightBlock}>\n\t\t\t\t\t<CloseIcon className={styles.remove} fontSize='small' onClick={remove} />\n\t\t\t\t\t<div className={styles.timeTotal}>{formatTime(props.cut.endTime - props.cut.startTime)}</div>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default observer(CutItem)\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport AssignmentTurnedInOutlinedIcon from '@material-ui/icons/AssignmentTurnedInOutlined'\nimport { useState } from 'react'\nimport classNames from 'classnames'\nimport { Button, Grid } from '@material-ui/core'\n\nimport store, { Cut } from '../store'\nimport styles from './CutsPanel.module.sass'\nimport CutItem from './CutItem'\nimport { formatTime } from '../utils/format-time'\n\nexport function CutsPanel() {\n\tconst [showCopied, setShowCopied] = useState(false)\n\n\tfunction playAll() {\n\t\tstore.changeModeToPlayAll()\n\t}\n\n\tfunction onUrlCopy() {\n\t\tsetShowCopied(true)\n\t\tsetTimeout(() => setShowCopied(false), 3000)\n\t\tgtag('event', 'url-copy', {\n\t\t\turl: store.shareUrl,\n\t\t})\n\t}\n\n\treturn (\n\t\t<Grid className={styles.cutsPanel}>\n\t\t\t{store.sources.length > 0 ? (\n\t\t\t\t<>\n\t\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t\t{store.cuts.map((item, idx) => (\n\t\t\t\t\t\t\t<CutItem key={item.id} idx={idx} cut={item.cut as Cut} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container className={styles.infoLine} item>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tTrailer duration: {formatTime(store.trailerLength)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tNumber of frames: {store.cuts.length}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={playAll} fullWidth color='primary'>\n\t\t\t\t\t\t\tPlay all\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid className={styles.shareUrlBlock}>\n\t\t\t\t\t\t<div className={styles.shareUrl}>\n\t\t\t\t\t\t\t<span className={styles.shareUrlText}>{store.shareUrl}</span>\n\t\t\t\t\t\t\t<CopyToClipboard text={store.shareUrl || ''} onCopy={onUrlCopy}>\n\t\t\t\t\t\t\t\t<AssignmentTurnedInOutlinedIcon />\n\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t<div className={classNames(styles.copiedText, { [styles.copiedTextShown]: showCopied })}>\n\t\t\t\t\t\t\t\tCopied\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Grid container className={styles.cutsPanelBlank}>\n\t\t\t\t\tPlease select video for trailer editing\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n\nexport default observer(CutsPanel)\n","import { Button, Grid, TextField } from '@material-ui/core'\nimport React, { ChangeEvent, useState } from 'react'\nimport styles from './SourcesPanel.module.sass'\nimport store, { Mode } from '../store'\nimport { observer } from 'mobx-react'\n\nfunction SourcesPanel() {\n\tconst [url, setUrl] = useState('')\n\n\tfunction onChangeUrl(e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) {\n\t\tsetUrl(e.target.value)\n\t}\n\n\tfunction addSource() {\n\t\tstore.addSource(url)\n\t\tsetUrl('')\n\t}\n\n\tfunction changeSource(sourceIndex: number) {\n\t\tstore.changeSource(sourceIndex)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{store.mode !== Mode.Show && (\n\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t<Grid className={styles.searchLine} item>\n\t\t\t\t\t\t<TextField fullWidth placeholder='Paste a YouTube url' value={url} onChange={onChangeUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item container spacing={2}>\n\t\t\t\t\t\t{store.sources.map((source: any) => (\n\t\t\t\t\t\t\t<Grid key={source.id} item>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\t\t\tonClick={changeSource.bind(null, source.index)}\n\t\t\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tsource.index === store.currentSourceIndex\n\t\t\t\t\t\t\t\t\t\t\t? { backgroundColor: '#ee103c' }\n\t\t\t\t\t\t\t\t\t\t\t: { backgroundColor: '#314eb7' }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSource {source.index + 1}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Button variant='contained' onClick={addSource} disabled={url === ''}>\n\t\t\t\t\t\t\t\tAdd source\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default observer(SourcesPanel)\n","import React, { ChangeEvent, useEffect, useState } from 'react'\nimport { Grid as GiphyGrid } from '@giphy/react-components'\nimport { GiphyFetch } from '@giphy/js-fetch-api'\nimport ResizeObserver from 'react-resize-observer'\n\nimport styles from './GifsPanel.module.sass'\nimport { Grid, TextField } from '@material-ui/core'\n\nconst giphyFetch = new GiphyFetch('IPKlChsULe1Qlt19wbrWHlnjDr04SZa8')\n\nenum FetchType {\n\tTrending = 'trending',\n\tSearch = 'search',\n}\n\ninterface GifsProps {\n\twidth: number\n\tsearchText: string\n\tfetchType: FetchType\n}\n\nfunction Gifs({ width, searchText, fetchType }: GifsProps) {\n\tfunction fetchGifs(offset: number) {\n\t\tif (fetchType === FetchType.Search) return giphyFetch.search(searchText, { offset, limit: 10 })\n\t\tif (fetchType === FetchType.Trending) return giphyFetch.trending({ offset, limit: 10 })\n\t\treturn giphyFetch.trending({ offset, limit: 10 })\n\t}\n\n\treturn <GiphyGrid fetchGifs={fetchGifs} width={width} columns={4} gutter={6} />\n}\n\ninterface Props {}\n\nfunction GifsPanel(props: Props) {\n\tconst giphyGrid = React.createRef<any>()\n\n\tconst [width, setWidth] = useState<number | null>(null)\n\tconst [searchText, setSearchText] = useState<string>('')\n\tconst [showGrid, setShowGrid] = useState(true)\n\n\tuseEffect(() => {\n\t\tif (!giphyGrid) return\n\n\t\tsetWidth(giphyGrid.current.offsetWidth)\n\t})\n\n\tuseEffect(() => {\n\t\tconst delayDebounce = setTimeout(() => {\n\t\t\tsetShowGrid(true)\n\t\t}, 1000)\n\n\t\treturn () => clearTimeout(delayDebounce)\n\t})\n\n\tfunction onChangeSearchText(e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) {\n\t\tsetShowGrid(false)\n\t\tconst text = e.target.value\n\t\tsetSearchText(text)\n\t}\n\n\treturn (\n\t\t<Grid container ref={giphyGrid} className={styles.root} direction='column'>\n\t\t\t<Grid item className={styles.searchLine}>\n\t\t\t\t<TextField fullWidth placeholder='Search with GIPHY' value={searchText} onChange={onChangeSearchText} />\n\t\t\t</Grid>\n\t\t\t{width && (\n\t\t\t\t<Grid item className={styles.gifsPanel}>\n\t\t\t\t\t{showGrid && searchText === '' && (\n\t\t\t\t\t\t<Gifs width={width} searchText={searchText} fetchType={FetchType.Trending} />\n\t\t\t\t\t)}\n\t\t\t\t\t{showGrid && searchText !== '' && (\n\t\t\t\t\t\t<Gifs width={width} searchText={searchText} fetchType={FetchType.Search} />\n\t\t\t\t\t)}\n\t\t\t\t\t<ResizeObserver\n\t\t\t\t\t\tonResize={({ width }) => {\n\t\t\t\t\t\t\t// setWidth(width)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</Grid>\n\t)\n}\n\nexport default GifsPanel\n","import React from 'react'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\nimport Box from '@material-ui/core/Box'\nimport TheatersIcon from '@material-ui/icons/Theaters'\nimport TextFieldsIcon from '@material-ui/icons/TextFields'\nimport GifIcon from '@material-ui/icons/Gif'\nimport MusicNoteIcon from '@material-ui/icons/MusicNote'\n\nimport CutsPanel from './CutsPanel'\nimport SourcesPanel from './SourcesPanel'\nimport styles from './TabsPanel.module.sass'\nimport GifsPanel from './GifsPanel'\n\ninterface TabPanelProps {\n\tchildren?: React.ReactNode\n\tindex: any\n\tvalue: any\n}\n\nfunction TabPanel(props: TabPanelProps) {\n\tconst { children, value, index, ...other } = props\n\n\treturn (\n\t\t<div\n\t\t\trole='tabpanel'\n\t\t\thidden={value !== index}\n\t\t\tid={`vertical-tabpanel-${index}`}\n\t\t\taria-labelledby={`vertical-tab-${index}`}\n\t\t\tclassName={styles.tabsPanel}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <Box p={3}>{children}</Box>}\n\t\t</div>\n\t)\n}\n\nfunction a11yProps(index: any) {\n\treturn {\n\t\tid: `vertical-tab-${index}`,\n\t\t'aria-controls': `vertical-tabpanel-${index}`,\n\t}\n}\n\nfunction TabsPanel() {\n\tconst [value, setValue] = React.useState(0)\n\n\tconst handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n\t\tsetValue(newValue)\n\t}\n\n\treturn (\n\t\t<Box className={styles.root}>\n\t\t\t<Tabs\n\t\t\t\torientation='vertical'\n\t\t\t\tvalue={value}\n\t\t\t\tonChange={handleChange}\n\t\t\t\taria-label='Vertical tabs example'\n\t\t\t\tclassName={styles.tabs}\n\t\t\t>\n\t\t\t\t<Tab icon={<TheatersIcon fontSize='large' />} className={styles.tab} {...a11yProps(0)} />\n\t\t\t\t<Tab icon={<TextFieldsIcon fontSize='large' />} className={styles.tab} {...a11yProps(1)} />\n\t\t\t\t<Tab icon={<GifIcon fontSize='large' />} className={styles.tab} {...a11yProps(2)} />\n\t\t\t\t<Tab icon={<MusicNoteIcon fontSize='large' />} className={styles.tab} {...a11yProps(3)} />\n\t\t\t</Tabs>\n\t\t\t<TabPanel value={value} index={0}>\n\t\t\t\t<SourcesPanel />\n\t\t\t\t<CutsPanel />\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\tText\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={2}>\n\t\t\t\t<GifsPanel />\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={3}>\n\t\t\t\tAudio\n\t\t\t</TabPanel>\n\t\t</Box>\n\t)\n}\n\nexport default TabsPanel\n","import React from 'react'\nimport { Box, Container, createMuiTheme, Grid, ThemeProvider } from '@material-ui/core'\nimport DateFnsAdapter from '@material-ui/pickers/adapter/date-fns'\nimport { LocalizationProvider } from '@material-ui/pickers'\nimport { observer } from 'mobx-react'\n\nimport './App.css'\nimport PlayerPanel from './components/PlayerPanel'\nimport Logo from './components/Logo'\nimport styles from './App.module.css'\nimport store, { Mode } from './store'\nimport TabsPanel from './components/TabsPanel'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#4d6ddf',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#314eb7',\n\t\t},\n\t},\n})\n\nfunction App() {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<LocalizationProvider dateAdapter={DateFnsAdapter}>\n\t\t\t\t<Container className={styles.container}>\n\t\t\t\t\t<Grid className={styles.header} container alignContent='center'>\n\t\t\t\t\t\t<Logo />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container wrap={'nowrap'}>\n\t\t\t\t\t\t{store.mode !== Mode.Show && (\n\t\t\t\t\t\t\t<Grid item xs={6} className={styles.editingPanel}>\n\t\t\t\t\t\t\t\t<TabsPanel />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Box className={styles.playerPanel}>\n\t\t\t\t\t\t\t<div style={{ fontSize: '10px' }}>\n\t\t\t\t\t\t\t\tPlayer: {store.activePlayerIndex}/{store.players.length - 1} Cut:{' '}\n\t\t\t\t\t\t\t\t{store.currentCutIndex}/{store.cuts.length - 1} Source: {store.currentSourceIndex}/\n\t\t\t\t\t\t\t\t{store.sources.length - 1}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<PlayerPanel />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\t\t\t</LocalizationProvider>\n\t\t</ThemeProvider>\n\t)\n}\n\nexport default observer(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cutsPanel\":\"CutsPanel_cutsPanel__yRaZp\",\"cutsPanelBlank\":\"CutsPanel_cutsPanelBlank__V7SXQ\",\"timeInput\":\"CutsPanel_timeInput__2Qrs0\",\"input\":\"CutsPanel_input__2-BNw\",\"stepBtn\":\"CutsPanel_stepBtn__2UpLP\",\"infoLine\":\"CutsPanel_infoLine__H7V1j\",\"shareUrlBlock\":\"CutsPanel_shareUrlBlock__37_Bd\",\"shareUrl\":\"CutsPanel_shareUrl__VqaQP\",\"shareUrlText\":\"CutsPanel_shareUrlText__1Kg2U\",\"copiedText\":\"CutsPanel_copiedText__1e3OD\",\"copiedTextShown\":\"CutsPanel_copiedTextShown__23BhM\",\"loadIcon\":\"CutsPanel_loadIcon__w5MA-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CutItem_container__2rPPd\",\"block\":\"CutItem_block__109Jg\",\"idx\":\"CutItem_idx__AiXXt\",\"play\":\"CutItem_play__3Lhqn\",\"rightBlock\":\"CutItem_rightBlock__1BaAB\",\"remove\":\"CutItem_remove__OqVCk\",\"timeTotal\":\"CutItem_timeTotal__HHslm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TabsPanel_root__2VRfS\",\"tabs\":\"TabsPanel_tabs__1KnNl\",\"tab\":\"TabsPanel_tab__2eqO7\",\"tabsPanel\":\"TabsPanel_tabsPanel__QlMpJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"PlayerPanel_header__3Ofwm\",\"timeRow\":\"PlayerPanel_timeRow__2JdIQ\",\"buttons\":\"PlayerPanel_buttons__2k6lM\",\"playerWrapper\":\"PlayerPanel_playerWrapper__fY2EN\",\"previewButtons\":\"PlayerPanel_previewButtons__3F-Qp\",\"loadIcon\":\"PlayerPanel_loadIcon__1kpcc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playerPanel\":\"App_playerPanel__35IVj\",\"editingPanel\":\"App_editingPanel__3M5CZ\",\"container\":\"App_container__1MQN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchLine\":\"GifsPanel_searchLine__1aan7\",\"gifsPanel\":\"GifsPanel_gifsPanel__3Ypkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInput\":\"TimeInput_timeInput__33xoy\",\"changeButton\":\"TimeInput_changeButton__Q4fU1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"MultiPlayer_player__3BLbd\",\"playerPlaceholder\":\"MultiPlayer_playerPlaceholder__duL1K\"};"],"sourceRoot":""}