(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{100:function(e,t,n){e.exports={title:"additional_title__1m0_k",list:"additional_list__1avp9",player:"additional_player__2-ajd",playerBlocker:"additional_playerBlocker__17tFI"}},101:function(e,t,n){e.exports={container:"input_container__1OlOE",input:"input_input__3I3G6",buttonsBlock:"input_buttonsBlock__241nw",clearButton:"input_clearButton__3FPaA",copyButton:"input_copyButton__20L6h",error:"input_error__1kf2V"}},102:function(e,t,n){e.exports={container:"CutEditPanel_container__2WfnO",btn:"CutEditPanel_btn__-T5s8",playBtn:"CutEditPanel_playBtn__lkGoH",duration:"CutEditPanel_duration__360gs"}},103:function(e,t,n){e.exports={container:"AddSourceItem_container__3ZG2M",isActive:"AddSourceItem_isActive__3nUnA",list:"AddSourceItem_list__1UvK7",dashContainer:"AddSourceItem_dashContainer__6ofOv",listItem:"AddSourceItem_listItem__1lFJm"}},104:function(e,t,n){e.exports={container:"notifications_container__37YZM",topBlock:"notifications_topBlock__2PcdH",title:"notifications_title__3YGhf",seeAll:"notifications_seeAll__tV8Oc"}},114:function(e,t,n){e.exports={root:"bestViewers_root__2pUs6",usersContainer:"bestViewers_usersContainer__4vSmB",title:"bestViewers_title__HQ4gA",otherViews:"bestViewers_otherViews__3LLLQ"}},115:function(e,t,n){e.exports={container:"confirmDialog_container__dLTem",title:"confirmDialog_title__1khqV",description:"confirmDialog_description__Uk4nP",buttons:"confirmDialog_buttons__32C22"}},116:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},117:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",isActive:"contentBlock_isActive__1EC5r",content:"contentBlock_content__1xBTD",hideBlock:"contentBlock_hideBlock__2Wym6"}},118:function(e,t,n){e.exports={container:"CustomSlider_container__WcW3I",root:"CustomSlider_root__hemha",label:"CustomSlider_label__2lMkh",tooltipContainer:"CustomSlider_tooltipContainer__3CM33",tooltipIcon:"CustomSlider_tooltipIcon__3iVXY"}},120:function(e,t,n){e.exports={imageUploader:"avatar_imageUploader__2W-mG",title:"avatar_title__1xETB",imageWrapper:"avatar_imageWrapper__3Xr9R"}},121:function(e,t,n){e.exports={header:"header_header__2Hcu_",rightBlock:"header_rightBlock__2de4S",buttons:"header_buttons__1VIAW",createClip:"header_createClip__2RL0m"}},143:function(e,t,n){e.exports={container:"tabs_container__3b688",link:"tabs_link__8wANO",active:"tabs_active__W4KZM"}},144:function(e,t,n){e.exports={container:"myPortfolio_container__2VBfS",title:"myPortfolio_title__1WP4w",list:"myPortfolio_list__1Eoys",imageWrapper:"myPortfolio_imageWrapper__3QVuY",addButton:"myPortfolio_addButton__1Q3RZ",playerWrapper:"myPortfolio_playerWrapper__1YNl7",player:"myPortfolio_player__1HVWS",buttons:"myPortfolio_buttons__60JuR",buttonsContainer:"myPortfolio_buttonsContainer__1hR0s",buttonsList:"myPortfolio_buttonsList__2loS5",button:"myPortfolio_button__3tNWC",buttonItem:"myPortfolio_buttonItem__oK_Lr",shareButton:"myPortfolio_shareButton__3ECfX",duration:"myPortfolio_duration__2YxkK",overlay:"myPortfolio_overlay__9bQfU",playerBlocker:"myPortfolio_playerBlocker__3SNoA",shareContainer:"myPortfolio_shareContainer__3Biv5",shareMenu:"myPortfolio_shareMenu__wIFtq"}},145:function(e,t,n){e.exports={container:"content_container__3-ZBv",player:"content_player__NWuLE",infoWrapper:"content_infoWrapper__3WgIW",shareContainer:"content_shareContainer__2aGS6"}},146:function(e,t,n){e.exports={container:"notFound_container__7FBZ9",title:"notFound_title__1Uk9Y",caption:"notFound_caption__1NtgD"}},147:function(e,t,n){e.exports={playerPanel:"mainView_playerPanel__2qpku",content:"mainView_content__2OnP2",contentWrapper:"mainView_contentWrapper__2i6MG"}},148:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__1DdM7",form:"SourcesPanel_form__1o_MA",inputWrapper:"SourcesPanel_inputWrapper__2NF9J"}},149:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2qCbT",cutsPanelBlank:"CutsPanel_cutsPanelBlank__2gLJh",timeInput:"CutsPanel_timeInput__FdtI3",input:"CutsPanel_input__4Og8R",stepBtn:"CutsPanel_stepBtn__3kDcm",infoLine:"CutsPanel_infoLine__3lLJ8",loadIcon:"CutsPanel_loadIcon__1BsrY",bottomBtn:"CutsPanel_bottomBtn__2J2gr",cutsList:"CutsPanel_cutsList__1Nvl5"}},150:function(e,t,n){e.exports={container:"settingTabs_container__3ul44",link:"settingTabs_link__2J6Jf",active:"settingTabs_active__3Y1ku"}},167:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb","slick-slide":"App_slick-slide__2pNaG"}},171:function(e,t,n){e.exports={block:"modal_block__1GAxY",closeButton:"modal_closeButton__246Uq"}},172:function(e,t,n){e.exports={container:"contentView_container__HlNrD",title:"contentView_title__13t0d"}},173:function(e,t,n){e.exports={root:"GiphyPanel_root__2Hx9n",searchLine:"GiphyPanel_searchLine__69zTm",gifsPanel:"GiphyPanel_gifsPanel__2OqQn"}},175:function(e,t,n){e.exports={container:"GifMenu_container__20wqN",btn:"GifMenu_btn__MgwTd"}},176:function(e,t,n){e.exports={gif:"CutGifsList_gif__1zFY4",isSelected:"CutGifsList_isSelected__1hbWU"}},177:function(e,t,n){e.exports={container:"buttons_container__24qbY",rightBtnGroup:"buttons_rightBtnGroup__1o9qX"}},178:function(e,t,n){e.exports={button:"socialItem_button__1SH6F",input:"socialItem_input__N3oXM"}},179:function(e,t,n){e.exports={container:"settings_container__D_8z-",content:"settings_content__N0K7s"}},180:function(e,t,n){e.exports={container:"loginModal_container__2JncL",content:"loginModal_content__RWDdw"}},181:function(e,t,n){e.exports={notificationBlock:"notificationBlock_notificationBlock__3-qIR",notifications:"notificationBlock_notifications__3fwQ8"}},224:function(e,t,n){e.exports={container:"UserProfile_container__2kkVd"}},229:function(e,t,n){e.exports={container:"baseContainer_container__3gWT5"}},232:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},235:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},239:function(e,t,n){e.exports={item:"userItem_item__1-Mkf"}},240:function(e,t,n){e.exports={container:"actionButton_container__35clG"}},243:function(e,t,n){e.exports={button:"smallButton_button__100sP"}},244:function(e,t,n){},245:function(e,t,n){e.exports={container:"SignMenu_container__CFRMs",modalContainer:"SignMenu_modalContainer__3unD8",alert:"SignMenu_alert__vJhZ_"}},247:function(e,t,n){e.exports={list:"feedList_list__2ROUl"}},248:function(e,t,n){e.exports={container:"feed_container__1jCY7"}},35:function(e,t,n){e.exports={description:"changeProfile_description__1hTwR",field:"changeProfile_field__2mO5u",fieldBlock:"changeProfile_fieldBlock__2jMB9",fieldTitle:"changeProfile_fieldTitle__2mfXp",buttons:"changeProfile_buttons__35ioz",deleteButton:"changeProfile_deleteButton__354u1",socialsWrapper:"changeProfile_socialsWrapper__OdFhr"}},37:function(e,t,n){e.exports={container:"timeLineItem_container__xQUm0",videoWrapper:"timeLineItem_videoWrapper__1iGSb",isActive:"timeLineItem_isActive__hk5F6",player:"timeLineItem_player__2pv5Z",actionBlock:"timeLineItem_actionBlock__8nvXQ",activeIcon:"timeLineItem_activeIcon__GEpyq",defaultIcon:"timeLineItem_defaultIcon__iW-P8",listWrapper:"timeLineItem_listWrapper__FTQFr",list:"timeLineItem_list__35pAO",listItem:"timeLineItem_listItem__1icJS",block:"timeLineItem_block__3n2ah",blockContent:"timeLineItem_blockContent__kgIZ4",topButtons:"timeLineItem_topButtons__1kfqT",buttomButtons:"timeLineItem_buttomButtons__OvQJV",playButton:"timeLineItem_playButton__2uyY4",isVisible:"timeLineItem_isVisible__2Ldl3"}},428:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var i,r,a,o,c,s,u=n(0),l=n.n(u),d=n(22),p=n.n(d),m=n(249),b=n(465),f=n(6),h=n(27),j=n(32),v=n(250),O=n(167),g=n.n(O),x=n(39),y=n(12),_=n(38),C=n(47),w=n(95),k=n(141),S=n(140),I=n(7),P=(n(123),n(3)),N=n(192),T=n(21),L=n(13),B=n(4),E=n.n(B),A=n(8);!function(e){e.PlayerStore="eyeMoPlayerStore",e.EditorStore="eyeMoEditorStore",e.UserStore="eyeMoUserStore",e.UiStore="eyeMoUiStore"}(i||(i={})),function(e){e.Create="create",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show",e.EditGifs="editGifs",e.EditShot="editShot"}(r||(r={})),function(e){e.GOOGLE="google"}(a||(a={})),function(e){e.Discord="discord",e.Instagram="instagram",e.Facebook="facebook",e.Reddit="reddit",e.Telegram="telegram",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.YouTube="youtube",e.HomePage="homepage"}(o||(o={})),function(e){e.YouTube="youtube",e.SoundCloud="soundcloud"}(c||(c={})),function(e){e.Audio="audio",e.Video="video"}(s||(s={}));var M=n(223),V=n.n(M),D=n(251),U=n(50),G={isDev:!1,agora:{appId:"df4bc258854f4cb293dc97a3ab0fc123",appToken:"006df4bc258854f4cb293dc97a3ab0fc123IACrGJ2lVwuokMZ2x6ksR30jre117a/3bMmzvzuwsWLIQHiLwJYAAAAAEAAEa9nryolLYAEAAQDKiUtg"},google:{clientId:"19102331721-6a3c7p36nfer392torh4fn8d2lqjoa76.apps.googleusercontent.com"},server:{url:"https://api.eyemo.app"}},R=V.a.create({baseURL:G.server.url,responseType:"json"}),W=function(){var e=Object(A.a)(E.a.mark((function e(){var t,n,i,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.load();case 2:return n=e.sent,e.next=5,n.get({debug:!1});case 5:i=e.sent,r=i.visitorId,nt.visitorId=r,R.defaults.headers.Authorization="Bearer ".concat(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken),R.defaults.headers["x-browser-fingerprint"]=nt.visitorId,R.defaults.baseURL=G.server.url;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z={getUserProfile:function(){return R({method:"GET",url:"/user/profile"})},getNewAccessToken:function(){var e;return R({method:"GET",url:"/user/access/token?refreshToken=".concat(null===(e=nt.tokens)||void 0===e?void 0:e.refreshToken)})},getVideoById:function(e){var t,n;return R({method:"GET",url:"/video/".concat(e),headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},checkUsername:function(e){return R({method:"GET",url:"/user/".concat(e,"/availability")})},getUserVideos:function(e){var t=e.limit,n=void 0===t?10:t,i=e.offset,r=void 0===i?0:i;return R({method:"GET",url:"/video/list?limit=".concat(n,"&offset=").concat(r)})},getCreatorVideos:function(e){var t,n,i=e.creatorName,r=e.limit,a=void 0===r?10:r,o=e.offset,c=void 0===o?0:o;return R({method:"GET",url:"/user/".concat(i,"/videos?limit=").concat(a,"&offset=").concat(c),headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},getRandomUserVideosByName:function(e){var t,n,i=e.userName,r=e.limit,a=void 0===r?10:r,o=e.offset,c=void 0===o?0:o;return R({method:"GET",url:"/user/".concat(i,"/videos/random?limit=").concat(a,"&offset=").concat(c),headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},getUserSecondsCount:function(){return R({method:"GET",url:"/user/profile/seconds-count"})},getAnotherUserSecondsCount:function(e){var t,n;return R({method:"GET",url:"/user/".concat(e,"/seconds-count"),headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},getUserInfoByName:function(e){var t,n;return R({method:"GET",url:"/user/".concat(e,"/data"),headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},postLogin:function(){return R({method:"POST",url:"/user/login/google",data:{idToken:nt.googleToken}})},postLogout:function(){var e;return R({method:"POST",url:"/user/logout",data:{refreshToken:null===(e=nt.tokens)||void 0===e?void 0:e.refreshToken}})},createVideo:function(e){var t,n;return R({method:"POST",url:"/video",data:e,headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},trackVideoWatching:function(e){var t,n;return R({method:"POST",url:"/video/watch/stop/action",data:e,headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},pingVideosSecondsCount:function(e){var t,n;return R({method:"POST",url:"/video/wrap/list/seconds-count",data:e,headers:{Authorization:(null===(t=nt.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=nt.tokens)||void 0===n?void 0:n.accessToken):""}})},updateVideo:function(e){return R({method:"PUT",url:"/video/".concat(e.id),data:e})},uploadAvatar:function(e){return R({method:"PUT",url:"/user/profile/photo",headers:{"content-type":"multipart/form-data"},data:e})},updateUserProfile:function(e){return R({method:"PUT",url:"/user/profile",data:e})},updateUsername:function(e){return R({method:"PATCH",url:"/user/".concat(e)})},deleteVideoById:function(e){return R({method:"DELETE",url:"/video/".concat(e)})},deleteUserProfile:function(){return R({method:"DELETE",url:"/user/profile"})}};R.interceptors.response.use((function(e){return e}),function(){var e=Object(A.a)(E.a.mark((function e(t){var n,i,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,"ERR_REFRESH_TOKEN_EXPIRED"!==t.response.data.code){e.next=6;break}return nt.logout(),Object(U.a)().push("/"),window.location.reload(),e.abrupt("return");case 6:if("ERR_ACCESS_TOKEN_EXPIRED"!==t.response.data.code||n._retry){e.next=25;break}return n._retry=!0,e.prev=8,e.next=11,z.getNewAccessToken();case 11:if(i=e.sent,r=i.data,200===i.status&&nt.tokens){e.next=16;break}return e.abrupt("return");case 16:return n.headers.Authorization="Bearer ".concat(r.value),nt.tokens.accessToken=r.value,R.defaults.headers.common.Authorization="Bearer ".concat(r.value),e.abrupt("return",R(n));case 22:e.prev=22,e.t0=e.catch(8),console.error(e.t0);case 25:return e.abrupt("return",Promise.reject(t));case 26:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}());var F,H,Y,q,Z,J,Q,K,X,$,ee,te,ne,ie,re,ae,oe,ce,se,ue,le,de,pe,me,be,fe,he,je,ve,Oe,ge=z,xe=new(function(){function e(){Object(_.a)(this,e),this.control=[],this.audioControl=null,this.store=Re}return Object(C.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t,this.store.players[e].isReady=!0}},{key:"setAudioPlayer",value:function(e){this.audioControl=e,this.store.audioPlayer.isReady=!0}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[this.store.activePlayerIndex].player.getCurrentTime()}},{key:"stop",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!1,e.next=5,Object(P.s)((function(){return!n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!0,e.next=5,Object(P.s)((function(){return n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(!(n.length>1&&void 0!==n[1])||n[1])&&(this.store.mode=r.PlayOne),this.store.isLoading=!0,e.next=5,this.stop(this.store.activePlayerIndex);case 5:return this.store.currentCutIndex=t,e.next=8,this.preloadCut(this.store.activePlayerIndex,t);case 8:return e.next=10,this.start(this.store.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.isLoading=!0,this.store.createCurrentCuts(this.store.shotCuts),0!==this.store.currentCuts.length){e.next=6;break}return e.next=5,this.start(this.store.activePlayerIndex);case 5:return e.abrupt("return");case 6:return t||(this.store.mode=r.PlayAll),e.next=9,this.preloadShotCuts();case 9:return e.next=11,this.start(this.store.activePlayerIndex);case 11:this.startAudio();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.mode=r.Create,this.store.currentCutIndex=-1,void 0!==this.store.sources[t]){e.next=4;break}return e.abrupt("return");case 4:this.store.currentSourceIndex=t,n=0;case 6:if(!(n<this.store.players.length)){e.next=13;break}return e.next=9,this.stop(n);case 9:n===this.store.activePlayerIndex&&(this.store.players[n]=Object(L.a)(Object(L.a)({},this.store.players[n]),{},{url:this.store.sources[t].url,playing:!1}));case 10:n+=1,e.next=6;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.mode=r.Show,e.next=3,this.playAll(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(A.a)(E.a.mark((function e(t,n){var i=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.players[t]=Object(L.a)(Object(L.a)({},this.store.players[t]),{},{url:this.store.currentCuts[n].url,cutIndex:n}),e.next=3,Object(P.s)((function(){return i.store.players[t].isReady}));case 3:return this.store.players[t].muted=!0,e.next=6,this.start(t);case 6:return e.next=8,this.stop(t);case 8:this.control[t].player.seekTo(this.store.currentCuts[n].time.startTime),this.store.players[t].muted=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"quickMoveToPosition",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.store.activePlayerIndex,this.control[n].player.seekTo(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rewindOn",value:function(){var e=Object(A.a)(E.a.mark((function e(t){var n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.activePlayerIndex,void 0!==(i=this.control[n].player.getCurrentTime())&&null!==i){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.quickMoveToPosition(i+t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"preloadShotCuts",value:function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.store.players.length)){e.next=14;break}return e.next=4,this.stop(t);case 4:if(!(t<this.store.shotCuts.length)){e.next=10;break}return this.store.players[t].isVisible=0===t,e.next=8,this.preloadCut(t,t);case 8:e.next=11;break;case 10:this.store.players[t]={id:this.store.players[t].id,url:"",playing:!1,cutIndex:t,isVisible:!1,isReady:!1,muted:!1};case 11:t+=1,e.next=1;break;case 14:this.store.activePlayerIndex=0,this.store.currentCutIndex=0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToNextShotCut",value:function(){var e=Object(A.a)(E.a.mark((function e(t,n){var i,r,a,o=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.store.currentCutIndex===this.store.currentCuts.length-1,this.store.isShowTransition=!i,e.next=4,this.stop(t);case 4:if(this.sendTimePosition(),!i){e.next=10;break}return console.log("Last cut is end"),this.stopAudio(),n&&n(),e.abrupt("return");case 10:return r=this.store.currentCutIndex+this.store.players.length,a=r<this.store.currentCuts.length,console.log("Go from ".concat(this.store.currentCutIndex," to ").concat(this.store.nextCutIndex," cut")),this.store.activePlayerIndex=this.store.nextPlayerIndex,this.store.currentCutIndex=this.store.nextCutIndex,e.next=17,this.start(this.store.activePlayerIndex);case 17:if(this.store.players[t].isVisible=!1,this.store.players[this.store.activePlayerIndex].isVisible=!0,setTimeout((function(){return o.store.isShowTransition=!1}),400),a){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,this.preloadCut(t,r);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTimePosition",value:function(){var e=this.control[this.store.activePlayerIndex].player.getCurrentTime();if(this.store.currentCutIndex<0)this.store.timePosition=e||0;else{for(var t=0,n=0;n<this.store.currentCuts.length&&!(n>this.store.currentCutIndex);n+=1){var i=this.store.currentCuts[n].time.startTime,r=this.store.currentCuts[n].time.endTime;n===this.store.currentCutIndex?t+=e-i:t+=r-i}this.store.timePosition=t}}},{key:"getCurrentPlayerDuration",value:function(){if(this.control[this.store.activePlayerIndex]){var e=this.control[this.store.activePlayerIndex].player.getDuration();return null!==e?e:0}}},{key:"getAudioPlayerDuration",value:function(){if(!this.audioControl)return 0;var e=this.audioControl.player.getDuration();return null!==e?e:0}},{key:"sendTimePosition",value:function(){this.store.watchId&&this.store.mode===r.Show&&ge.trackVideoWatching({watchId:this.store.watchId,cutId:this.store.currentCuts[this.store.currentCutIndex].id,timePosition:this.control[this.store.activePlayerIndex].player.getCurrentTime()}).then((function(){})).catch((function(e){return console.error(e)}))}},{key:"pauseAudio",value:function(){this.store.audioPlayer.isReady&&this.store.audioPlayer.playing&&(this.store.audioPlayer.playing=!1)}},{key:"stopAudio",value:function(){var e;this.store.audioPlayer.isReady&&this.store.audioPlayer.playing&&(this.store.audioPlayer.playing=!1,null===(e=this.audioControl)||void 0===e||e.player.seekTo(0))}},{key:"startAudio",value:function(){this.store.audioPlayer.isReady&&(this.store.audioPlayer.playing=!0)}},{key:"moveToAudioPosition",value:function(e){this.audioControl&&this.audioControl.player.seekTo(e)}}]),e}()),ye=new(function(){function e(){Object(_.a)(this,e),this.customGif=null,this.store=Re}return Object(C.a)(e,[{key:"getCutTime",value:function(e){var t={startTime:0,endTime:0},n=this.getGifIndexById(e);if(null!==n){var i=this.store.gifs[n].cutId;this.store.currentCuts.map((function(e){return e.id===i&&(t=e.time),e}))}return t}},{key:"setGifTime",value:function(e,t){var n=this.getGifIndexById(e);null!==n&&(this.store.gifs[n].startShowTime=t[0],this.store.gifs[n].endShowTime=t[1])}},{key:"getGifIndexById",value:function(e){var t=null;return this.store.gifs.map((function(n,i){return n.id===e&&(t=i),n})),t}},{key:"getGifTime",value:function(e){var t=[0,0],n=this.getGifIndexById(e);return null!==n&&(t=[this.store.gifs[n].startShowTime,this.store.gifs[n].endShowTime]),t}},{key:"isShowGif",value:function(e){if(void 0===this.store.currentCuts[this.store.currentCutIndex]||e.cutId!==this.store.currentCuts[this.store.currentCutIndex].id)return!1;var t=xe.getActivePlayerPosition();return t>=e.startShowTime&&t<=e.endShowTime}},{key:"checkShowGifs",value:function(e){if(this.store)for(var t=0;t<this.store.gifs.length;t+=1){var n,i,r=this.store.gifs[t];if(void 0!==this.store.currentCuts[this.store.currentCutIndex]){var a=r.id===(null===(n=this.customGif)||void 0===n?void 0:n.id)?this.customGif.startShowTime:r.startShowTime,o=r.id===(null===(i=this.customGif)||void 0===i?void 0:i.id)?this.customGif.endShowTime:r.endShowTime;r.cutId===this.store.currentCuts[this.store.currentCutIndex].id&&r.cutId===this.store.currentCuts[this.store.currentCutIndex].id&&e>=a&&e<o?(this.store.gifs[t].isShow||console.log("Show gif on position: "+e),this.store.gifs[t].isShow=!0):(this.store.gifs[t].isShow&&console.log("Hide gif on position: "+e),this.store.gifs[t].isShow=!1)}else this.store.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){this.store.gifs=this.store.gifs.filter((function(t){return t.id!==e}))}},{key:"setCustomGifData",value:function(e){this.customGif=e}},{key:"getGifListForCut",value:function(e){if(void 0===this.store.currentCuts[e])return[];var t=this.store.currentCuts[e].id;return this.store.gifs.filter((function(e){return e.cutId===t}))}}]),e}());Object(P.i)({enforceActions:"never"});var _e=(F=function(){function e(){Object(_.a)(this,e),Object(y.a)(this,"mode",H,this),Object(y.a)(this,"sources",Y,this),Object(y.a)(this,"cuts",q,this),Object(y.a)(this,"shotCuts",Z,this),Object(y.a)(this,"audioCut",J,this),Object(y.a)(this,"currentCuts",Q,this),Object(y.a)(this,"gifs",K,this),Object(y.a)(this,"videoId",X,this),Object(y.a)(this,"watchId",$,this),Object(y.a)(this,"secondsCount",ee,this),Object(y.a)(this,"timePosition",te,this),Object(y.a)(this,"playList",ne,this),Object(y.a)(this,"currentPlayListPositionIndex",ie,this),Object(y.a)(this,"audioPlayer",re,this),Object(y.a)(this,"players",ae,this),Object(y.a)(this,"playing",oe,this),Object(y.a)(this,"activePlayerIndex",ce,this),Object(y.a)(this,"currentCutIndex",se,this),Object(y.a)(this,"currentSourceIndex",ue,this),Object(y.a)(this,"isEnableCanvas",le,this),Object(y.a)(this,"canvasSize",de,this),Object(y.a)(this,"isLoading",pe,this),Object(y.a)(this,"isShowTransition",me,this),Object(y.a)(this,"isConnectedChat",be,this),Object(y.a)(this,"isEnableMic",fe,this),Object(y.a)(this,"isShowRecButton",he,this),Object(y.a)(this,"isShowGifList",je,this),Object(y.a)(this,"selectedGifId",ve,this),Object(y.a)(this,"creator",Oe,this),Object(P.o)(this)}return Object(C.a)(e,[{key:"shareUrl",value:function(e){if(null===e)return null;var t=window.location.origin;return"".concat(t,"/#/v/").concat(e)}},{key:"getIframeCode",value:function(e){var t=window.location.origin;return'<iframe src="'.concat(t,"/#/embed/").concat(e,'" name="').concat(e,'" width="560px" height="315px" scrolling="no" style="border:none;"></iframe>')}},{key:"trailerLength",get:function(){return this.cuts.reduce((function(e,t,n){return t.time?e+t.time.endTime-t.time.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.currentCutIndex===this.currentCuts.length-1?0:this.currentCutIndex+1}},{key:"isCleanEditorStore",get:function(){return 0===this.shotCuts.length}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,i=t.width,r=t.canvasWidth,a=t.canvasHeight,o=t.x,c=t.y,s=this.canvasSize.width/r,u=this.canvasSize.height/a;this.gifs[e]=Object(L.a)(Object(L.a)({},this.gifs[e]),{},{height:n*u,width:i*s,x:o*s,y:c*u,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"createCurrentCuts",value:function(e){this.currentCuts=JSON.parse(JSON.stringify(e))}},{key:"clearStore",value:function(){var e=this;this.sources=[],this.mode=r.Create,this.cuts=[],this.shotCuts=[],this.currentCuts=[],this.audioCut=null,this.gifs=[],this.players=[0,1,2,3].map((function(t,n){return{id:n,playing:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n,isReady:!1,muted:!1}})),this.audioPlayer={id:0,playing:!1,url:"",isVisible:!1,isReady:!1,muted:!1},this.activePlayerIndex=0,this.currentCutIndex=-1,this.currentSourceIndex=-1,this.selectedGifId=null,this.videoId=null,this.watchId=null,this.secondsCount=0,this.timePosition=0,this instanceof Ne&&(this.activeCutIndex=null,this.editCutIndex=null)}},{key:"loadVideoToStore",value:function(e){var t=this,n=e.video,i=e.watchId;this.shotCuts=n.cuts,this.sources=n.sources,this.gifs=n.gifs,this.videoId=n.id,this.watchId=i,this.secondsCount=n.secondsCount||0,this.players=[0,1,2,3].map((function(e,n){return{id:n,playing:!1,url:n===t.activePlayerIndex&&(t.shotCuts[0].url||t.sources[0].url)||"",isVisible:n===t.activePlayerIndex,isReady:!1,muted:!1}})),this.mode=r.Show,this.creator=n.creator||null}},{key:"setCreatorSecondsCount",value:function(e){this.creator&&(this.creator.secondsCount=e)}}]),e}(),H=Object(I.a)(F.prototype,"mode",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r.Show}}),Y=Object(I.a)(F.prototype,"sources",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Object(I.a)(F.prototype,"cuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=Object(I.a)(F.prototype,"shotCuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(I.a)(F.prototype,"audioCut",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Object(I.a)(F.prototype,"currentCuts",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Object(I.a)(F.prototype,"gifs",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=Object(I.a)(F.prototype,"videoId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=Object(I.a)(F.prototype,"watchId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=Object(I.a)(F.prototype,"secondsCount",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),te=Object(I.a)(F.prototype,"timePosition",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=Object(I.a)(F.prototype,"playList",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=Object(I.a)(F.prototype,"currentPlayListPositionIndex",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),re=Object(I.a)(F.prototype,"audioPlayer",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:0,playing:!1,url:"",isVisible:!1,isReady:!1,muted:!1}}}),ae=Object(I.a)(F.prototype,"players",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n,isReady:!1,muted:!1}}))}}),oe=Object(I.a)(F.prototype,"playing",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(e){return!1}))}}),ce=Object(I.a)(F.prototype,"activePlayerIndex",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),se=Object(I.a)(F.prototype,"currentCutIndex",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.shotCuts.length>0?0:-1}}),ue=Object(I.a)(F.prototype,"currentSourceIndex",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),le=Object(I.a)(F.prototype,"isEnableCanvas",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=Object(I.a)(F.prototype,"canvasSize",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),pe=Object(I.a)(F.prototype,"isLoading",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=Object(I.a)(F.prototype,"isShowTransition",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=Object(I.a)(F.prototype,"isConnectedChat",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=Object(I.a)(F.prototype,"isEnableMic",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(I.a)(F.prototype,"isShowRecButton",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),je=Object(I.a)(F.prototype,"isShowGifList",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=Object(I.a)(F.prototype,"selectedGifId",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=Object(I.a)(F.prototype,"creator",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(I.a)(F.prototype,"trailerLength",[P.h],Object.getOwnPropertyDescriptor(F.prototype,"trailerLength"),F.prototype),Object(I.a)(F.prototype,"nextPlayerIndex",[P.h],Object.getOwnPropertyDescriptor(F.prototype,"nextPlayerIndex"),F.prototype),Object(I.a)(F.prototype,"nextCutIndex",[P.h],Object.getOwnPropertyDescriptor(F.prototype,"nextCutIndex"),F.prototype),Object(I.a)(F.prototype,"isCleanEditorStore",[P.h],Object.getOwnPropertyDescriptor(F.prototype,"isCleanEditorStore"),F.prototype),Object(I.a)(F.prototype,"scaleGifs",[P.f],Object.getOwnPropertyDescriptor(F.prototype,"scaleGifs"),F.prototype),Object(I.a)(F.prototype,"createCurrentCuts",[P.f],Object.getOwnPropertyDescriptor(F.prototype,"createCurrentCuts"),F.prototype),Object(I.a)(F.prototype,"clearStore",[P.f],Object.getOwnPropertyDescriptor(F.prototype,"clearStore"),F.prototype),Object(I.a)(F.prototype,"loadVideoToStore",[P.f],Object.getOwnPropertyDescriptor(F.prototype,"loadVideoToStore"),F.prototype),Object(I.a)(F.prototype,"setCreatorSecondsCount",[P.f],Object.getOwnPropertyDescriptor(F.prototype,"setCreatorSecondsCount"),F.prototype),F),Ce=new _e;G.isDev&&(window.playerStore=Ce);var we,ke,Se,Ie=Ce,Pe=new T.a(Ce,{storageKey:i.PlayerStore,storage:localStorage});Object(P.i)({enforceActions:"never"});var Ne=(we=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(_.a)(this,n),e=t.call(this),Object(y.a)(e,"activeCutIndex",ke,Object(w.a)(e)),Object(y.a)(e,"editCutIndex",Se,Object(w.a)(e)),e.mode=r.Create,Object(P.o)(Object(w.a)(e)),Object(P.g)((function(){return console.log("--\x3e In ".concat(e.mode.toUpperCase()," mode"))})),Object(P.g)((function(){if(null!==e.selectedGifId){var t=ye.getGifIndexById(e.selectedGifId);e.isEnableCanvas||null===e.activeCutIndex||null===t||e.currentCuts[e.activeCutIndex].id===e.gifs[t].cutId||(e.selectedGifId=null)}})),Object(P.g)((function(){-1===e.currentCutIndex&&ye.checkShowGifs(0)})),Object(P.g)((function(){e.mode===r.Create?(e.editCutIndex=null,e.isShowRecButton=!0,e.activeCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===r.Show||e.mode===r.PlayAll?(e.editCutIndex=null,e.isShowRecButton=!1,e.activeCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===r.PlayOne?(e.editCutIndex=null,e.isShowRecButton=!1,e.isEnableCanvas=!1):e.mode===r.EditShot?(e.isShowRecButton=!1,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===r.EditGifs&&(e.editCutIndex=null,e.isShowRecButton=!1,e.isShowGifList=!0,e.isEnableCanvas=!0)})),e}return Object(C.a)(n,[{key:"addCutAndShot",value:function(e){var t=Object(N.a)();this.cuts.push({id:t,url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}}),this.shotCuts.push({id:Object(N.a)(),url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}})}},{key:"addShot",value:function(e){var t=this.getCutById(e);null!==t&&this.shotCuts.push({id:Object(N.a)(),url:t.url,time:{startTime:t.time.startTime,endTime:t.time.endTime}})}},{key:"addAudioCut",value:function(e,t){this.audioCut={id:Object(N.a)(),url:e,time:t}}},{key:"replaceShot",value:function(e,t,n){var i=this.shotCuts.find((function(t){return t.id===e}));i&&(this.shotCuts.splice(t,1),this.shotCuts.splice(n,0,i))}},{key:"addSource",value:function(e){this.sources=[].concat(Object(x.a)(this.sources),[{id:Object(N.a)(),index:this.sources.length,url:e}]),xe.changeModeToCreate(this.sources.length-1)}},{key:"addGif",value:function(e,t){var n=this.currentCuts[t];this.gifs=[].concat(Object(x.a)(this.gifs),[{id:Object(N.a)(),src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:n.time.startTime,endShowTime:n.time.endTime,cutId:n.id,isShow:!0}])}},{key:"removeCut",value:function(e){this.cuts=this.cuts.filter((function(t,n){return n!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeShotCut",value:function(e){this.shotCuts=this.shotCuts.filter((function(t){return t.id!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeSource",value:function(e){var t=this.sources[e].url;this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})),this.cuts=this.cuts.filter((function(e){return e.url!==t}))}},{key:"getCutById",value:function(e){var t=null;return this.cuts.map((function(n){return n.id===e&&(t=n),n})),t}}]),n}(_e),ke=Object(I.a)(we.prototype,"activeCutIndex",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Object(I.a)(we.prototype,"editCutIndex",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(I.a)(we.prototype,"addCutAndShot",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"addCutAndShot"),we.prototype),Object(I.a)(we.prototype,"addShot",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"addShot"),we.prototype),Object(I.a)(we.prototype,"addAudioCut",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"addAudioCut"),we.prototype),Object(I.a)(we.prototype,"replaceShot",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"replaceShot"),we.prototype),Object(I.a)(we.prototype,"addSource",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"addSource"),we.prototype),Object(I.a)(we.prototype,"addGif",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"addGif"),we.prototype),Object(I.a)(we.prototype,"removeCut",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"removeCut"),we.prototype),Object(I.a)(we.prototype,"removeShotCut",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"removeShotCut"),we.prototype),Object(I.a)(we.prototype,"removeSource",[P.f],Object.getOwnPropertyDescriptor(we.prototype,"removeSource"),we.prototype),we),Te=new Ne;G.isDev&&(window.editorStore=Te);var Le,Be,Ee,Ae,Me,Ve,De,Ue,Ge,Re=Te,We=new T.a(Te,{storageKey:i.EditorStore,storage:localStorage}),ze=n.p+"static/media/frames.7fe1096a.svg",Fe=n.p+"static/media/gif.cd91ed47.svg",He=n.p+"static/media/text.0504dd60.svg",Ye=n.p+"static/media/sticker.689907e4.svg",qe="frames",Ze="text",Je="gifs",Qe="sticker",Ke=[{id:qe,icon:ze},{id:Ze,icon:He},{id:Je,icon:Fe},{id:Qe,icon:Ye}],Xe=new(Le=function(){function e(){Object(_.a)(this,e),Object(y.a)(this,"user",Be,this),Object(y.a)(this,"modifiedUser",Ee,this),Object(y.a)(this,"tokens",Ae,this),Object(y.a)(this,"googleToken",Me,this),Object(y.a)(this,"visitorId",Ve,this),Object(y.a)(this,"tab",De,this),Object(y.a)(this,"isShowContent",Ue,this),Object(y.a)(this,"isDragStart",Ge,this),Object(P.o)(this)}return Object(C.a)(e,[{key:"changeTab",value:function(e){this.tab=e}},{key:"setIsShowContent",value:function(e){this.isShowContent=e}},{key:"setDragStart",value:function(e){this.isDragStart=e}},{key:"clearStore",value:function(){this.user=null,this.tokens=null,this.googleToken=null}},{key:"setUserSecondsCount",value:function(e){this.user&&(this.user.secondsCount=e)}},{key:"logout",value:function(){Xe.user=null,Xe.tokens=null,Xe.googleToken=null}}]),e}(),Be=Object(I.a)(Le.prototype,"user",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Object(I.a)(Le.prototype,"modifiedUser",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=Object(I.a)(Le.prototype,"tokens",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=Object(I.a)(Le.prototype,"googleToken",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=Object(I.a)(Le.prototype,"visitorId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=Object(I.a)(Le.prototype,"tab",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qe}}),Ue=Object(I.a)(Le.prototype,"isShowContent",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ge=Object(I.a)(Le.prototype,"isDragStart",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(I.a)(Le.prototype,"changeTab",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"changeTab"),Le.prototype),Object(I.a)(Le.prototype,"setIsShowContent",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"setIsShowContent"),Le.prototype),Object(I.a)(Le.prototype,"setDragStart",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"setDragStart"),Le.prototype),Object(I.a)(Le.prototype,"clearStore",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"clearStore"),Le.prototype),Object(I.a)(Le.prototype,"setUserSecondsCount",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"setUserSecondsCount"),Le.prototype),Object(I.a)(Le.prototype,"logout",[P.f],Object.getOwnPropertyDescriptor(Le.prototype,"logout"),Le.prototype),Le);G.isDev&&(window.userStore=Xe);var $e,et,tt,nt=Xe,it=new T.a(Xe,{storageKey:i.UserStore,storage:localStorage}),rt=new($e=function e(){Object(_.a)(this,e),Object(y.a)(this,"isLoadingApp",et,this),Object(y.a)(this,"showHeader",tt,this),Object(P.o)(this)},et=Object(I.a)($e.prototype,"isLoadingApp",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=Object(I.a)($e.prototype,"showHeader",[T.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$e);G.isDev&&(window.uiStore=rt);var at=rt,ot=new T.a(rt,{storageKey:i.UiStore,storage:localStorage}),ct=Object(u.createContext)({playerStore:Ie,editorStore:Re,userStore:nt,uiStore:at}),st=function(){return Object(u.useContext)(ct)},ut=n(224),lt=n.n(ut),dt=n.p+"static/media/user.e027a384.png",pt=n.p+"static/media/verify.51943624.svg",mt=n.p+"static/media/ig.d8864c2b.svg",bt=n.p+"static/media/twitter.91f79069.svg",ft=n(57),ht=n.n(ft);function jt(e){return e<10?"0".concat(e.toString(10)):e}function vt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"00:00:00.0";var n=Math.floor(e/60/60),i=Math.floor(e/60%60),r=Math.floor(e%60),a=Math.floor(10*(e-Math.floor(e))),o="".concat(jt(n),":").concat(jt(i),":").concat(jt(r));return t&&(o="".concat(o,".").concat(a)),o}var Ot,gt=function(e){return e.toString().split("").reduceRight((function(e,t,n){return(n+1)%3===0&&""!==e?t+"."+e:t+e}),"")},xt=n(114),yt=n.n(xt),_t=n(83),Ct=n.n(_t),wt=n(467),kt=n(1),St=function(e){var t=e.userInfo,n=e.viewSeconds,i=e.nameStyle,r=e.durationStyle;return Object(kt.jsxs)("div",{className:Ct.a.container,children:[Object(kt.jsx)("div",{className:Ct.a.image,children:(null===t||void 0===t?void 0:t.photoUrl)?Object(kt.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)||"",alt:"user"}):Object(kt.jsx)(wt.a,{className:Ct.a.avatar,children:t.firstName[0]+t.lastName[0]})}),Object(kt.jsxs)("div",{className:Ct.a.info,children:[Object(kt.jsx)(h.b,{to:"/u/".concat(null===t||void 0===t?void 0:t.username),className:Ct.a.name,style:i,children:null===t||void 0===t?void 0:t.username}),Object(kt.jsxs)("span",{className:Ct.a.duration,style:r,children:[gt(n)," sec. view"]})]})]})},It={id:"1",username:"NickName",about:"",firstName:"Nick",lastName:"Name",photoUrl:"",secondsCount:154453},Pt=[1,2].map((function(e,t){return It})),Nt=function(){return Object(kt.jsxs)("div",{className:yt.a.root,children:[Object(kt.jsx)("div",{className:yt.a.title,children:"Best viewers"}),Object(kt.jsx)("div",{className:yt.a.usersContainer,children:Pt.map((function(e,t){return Object(kt.jsx)(St,{userInfo:e,viewSeconds:e.secondsCount,nameStyle:{fontSize:"15px",color:"black"},durationStyle:{fontSize:"13px",color:"#00A3FF"}},t)}))}),Object(kt.jsxs)("div",{className:yt.a.otherViews,children:[Object(kt.jsx)("span",{children:"Other views: "}),Object(kt.jsx)("span",{children:"154,453 sec."})]})]})},Tt=n.p+"static/media/mockImage.2132a559.png",Lt=[{icon:mt,name:"sample"},{icon:bt,name:"sample"}],Bt=Object(f.a)((function(e){var t=e.user,n=e.isAnotherUser,i=Object(u.useRef)(null),r=st(),a=r.userStore,o=r.playerStore;return Object(u.useEffect)((function(){var e=setInterval((function(){ge.getAnotherUserSecondsCount(t.username).then((function(e){var t=e.data;n?o.setCreatorSecondsCount(t.value):a.setUserSecondsCount(t.value)})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}})),Object(kt.jsxs)("div",{className:ht.a.container,children:[Object(kt.jsx)("div",{className:ht.a.slides,children:Object(kt.jsx)("img",{src:Tt,alt:"background"})}),Object(kt.jsxs)("div",{className:ht.a.userImage,children:[Object(kt.jsx)("div",{className:ht.a.image,children:Object(kt.jsx)("img",{src:t.photoUrl||dt,alt:"User"})}),Object(kt.jsx)("div",{className:ht.a.status,children:Object(kt.jsx)("img",{src:pt,alt:"Active status"})})]}),Object(kt.jsx)("p",{className:ht.a.name,children:t.username}),Object(kt.jsx)("p",{className:ht.a.nickName,children:t.username}),Object(kt.jsx)("p",{className:ht.a.about,children:t.about||"Aleksandr Kostylev is a Natus Vincere player, who has achieved a number of important achievements and managed to grow into a real superstar on the global Counter-Strike: Global Offensive scene!"}),Object(kt.jsxs)("div",{ref:i,className:ht.a.totalTime,children:[gt(t.secondsCount||0)," sec.",Object(kt.jsx)("div",{className:ht.a.bestViewers,children:Object(kt.jsx)(Nt,{})})]}),Object(kt.jsx)("ul",{className:ht.a.socialList,children:Lt.map((function(e,t){return Object(kt.jsx)("li",{children:Object(kt.jsxs)("a",{href:"#",target:"_blank",children:[Object(kt.jsx)("img",{src:e.icon,alt:"Social item"}),Object(kt.jsx)("span",{children:e.name})]})},t)}))})]})})),Et=n(44),At=n.n(Et),Mt=n(229),Vt=n.n(Mt),Dt=function(e){var t=e.children;return Object(kt.jsx)("div",{className:Vt.a.container,children:t})},Ut=n(143),Gt=n.n(Ut),Rt=function(e){var t=e.tabs,n=e.url;return Object(kt.jsx)("div",{className:Gt.a.container,children:t.map((function(e){return Object(kt.jsx)(h.c,{exact:!0,to:"".concat(n,"/").concat(e.path),className:Gt.a.link,activeClassName:Gt.a.active,children:e.title},e.title)}))})},Wt=n(5),zt=n.p+"static/media/addIcon.f9e36598.svg",Ft=n(144),Ht=n.n(Ft),Yt=n(55),qt=n.n(Yt),Zt=n.p+"static/media/mock.a377b9bb.png",Jt=n.p+"static/media/more.99c8af66.svg",Qt=n.p+"static/media/share.281e367b.svg",Kt=n(456),Xt=n(457),$t=n(458),en=n(45),tn=n.n(en);function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function rn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function an(e,t){var n=e.title,i=e.titleId,r=rn(e,["title","titleId"]);return u.createElement("svg",nn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,Ot||(Ot=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.04467C0 12.022 2.88867 15.3293 6.66667 16V10.222H4.66667V8H6.66667V6.222C6.66667 4.222 7.95533 3.11133 9.778 3.11133C10.3553 3.11133 10.978 3.2 11.5553 3.28867V5.33333H10.5333C9.55533 5.33333 9.33333 5.822 9.33333 6.44467V8H11.4667L11.1113 10.222H9.33333V16C13.1113 15.3293 16 12.0227 16 8.04467C16 3.62 12.4 0 8 0C3.6 0 0 3.62 0 8.04467Z",fill:"#7D8DA7"})))}var on,cn,sn,un,ln=u.forwardRef(an);n.p;function dn(){return(dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mn(e,t){var n=e.title,i=e.titleId,r=pn(e,["title","titleId"]);return u.createElement("svg",dn({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,on||(on=u.createElement("path",{d:"M3.25301 6.61489L1.27006 8.59784C0.456855 9.41105 0 10.514 0 11.664C0 12.8141 0.456855 13.917 1.27006 14.7302C2.08327 15.5434 3.18621 16.0003 4.33626 16.0003C5.48631 16.0003 6.58926 15.5434 7.40246 14.7302L10.0445 12.0868C10.5349 11.5963 10.9004 10.9954 11.1105 10.3344C11.3206 9.67346 11.3691 8.97174 11.2518 8.28816C11.1346 7.60459 10.8551 6.95911 10.4368 6.4059C10.0185 5.8527 9.47354 5.40792 8.84776 5.10889L8.00082 5.95583C7.91482 6.04196 7.84004 6.13859 7.77824 6.24345C8.26173 6.38244 8.70058 6.64521 9.0514 7.00578C9.40221 7.36635 9.65285 7.81224 9.77854 8.29936C9.90422 8.78648 9.9006 9.29797 9.76803 9.78326C9.63546 10.2686 9.37853 10.7108 9.02265 11.0664L6.38208 13.7084C5.83969 14.2508 5.10405 14.5555 4.33699 14.5555C3.56993 14.5555 2.83428 14.2508 2.29189 13.7084C1.7495 13.166 1.44478 12.4304 1.44478 11.6633C1.44478 10.8963 1.7495 10.1606 2.29189 9.61822L3.43801 8.47354C3.2763 7.86757 3.21383 7.2394 3.25301 6.61344V6.61489Z",fill:"#7D8DA7"})),cn||(cn=u.createElement("path",{d:"M4.69435 7.21926L4.93572 6.9779C5.2938 6.6185 5.74057 6.36021 6.23071 6.22923C6.36168 5.7391 6.61997 5.29232 6.97937 4.93425L7.22074 4.69288C6.4937 4.65201 5.76806 4.79465 5.1106 5.10768C4.79263 5.77252 4.65389 6.49951 4.69435 7.21782V7.21926Z",fill:"#7D8DA7"})),sn||(sn=u.createElement("path",{d:"M5.95724 3.91207C5.46685 4.40252 5.10128 5.00345 4.8912 5.66443C4.68112 6.3254 4.63266 7.02712 4.74989 7.7107C4.86712 8.39427 5.14663 9.03975 5.56494 9.59295C5.98325 10.1462 6.52817 10.5909 7.15394 10.89L8.27405 9.76842C7.78402 9.63698 7.33721 9.37888 6.97854 9.02005C6.61986 8.66122 6.36194 8.21431 6.2307 7.72422C6.09947 7.23413 6.09953 6.71814 6.2309 6.22808C6.36226 5.73803 6.62029 5.29119 6.97906 4.93245L9.61962 2.29044C10.162 1.74805 10.8977 1.44334 11.6647 1.44334C12.4318 1.44334 13.1674 1.74805 13.7098 2.29044C14.2522 2.83284 14.5569 3.56848 14.5569 4.33554C14.5569 5.1026 14.2522 5.83825 13.7098 6.38064L12.5637 7.52532C12.7256 8.13234 12.7877 8.76105 12.7487 9.38542L14.7316 7.40247C15.5449 6.58926 16.0017 5.48631 16.0017 4.33626C16.0017 3.18622 15.5449 2.08327 14.7316 1.27006C13.9184 0.456855 12.8155 0 11.6654 0C10.5154 0 9.41245 0.456855 8.59924 1.27006L5.95724 3.91207Z",fill:"#7D8DA7"})),un||(un=u.createElement("path",{d:"M10.8914 10.8902C11.2058 10.2331 11.3489 9.50725 11.3076 8.78003L11.0663 9.02139C10.7082 9.3808 10.2614 9.63909 9.77128 9.77006C9.64031 10.2602 9.38202 10.707 9.02261 11.065L8.78125 11.3064C9.50828 11.3473 10.2339 11.2046 10.8914 10.8916V10.8902Z",fill:"#7D8DA7"})))}var bn,fn,hn,jn,vn,On,gn=u.forwardRef(mn);n.p;function xn(){return(xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function yn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _n(e,t){var n=e.title,i=e.titleId,r=yn(e,["title","titleId"]);return u.createElement("svg",xn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,bn||(bn=u.createElement("path",{d:"M8.00008 5.33325C9.76541 5.33325 11.3521 5.88392 12.4501 6.75992C12.8257 6.62825 13.236 6.63536 13.6069 6.77995C13.9777 6.92455 14.2846 7.19709 14.4719 7.54827C14.6593 7.89945 14.7147 8.30608 14.6283 8.69461C14.5419 9.08315 14.3193 9.42793 14.0007 9.66659C14.0007 12.0599 11.3141 13.9999 8.00075 13.9999C4.75075 13.9999 2.10408 12.1333 2.00075 9.80392L1.33408 9.66659C1.01554 9.42793 0.792926 9.08315 0.706508 8.69461C0.620089 8.30608 0.675573 7.89945 0.862923 7.54827C1.05027 7.19709 1.35712 6.92455 1.72795 6.77995C2.09879 6.63536 2.50913 6.62825 2.88475 6.75992C3.98208 5.88459 5.56875 5.33325 7.33408 5.33325H8.00008Z",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),fn||(fn=u.createElement("path",{d:"M8 5.33333L8.66667 2L12.6667 2.66667",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),hn||(hn=u.createElement("path",{d:"M12.6667 3.33333C13.0349 3.33333 13.3333 3.03486 13.3333 2.66667C13.3333 2.29848 13.0349 2 12.6667 2C12.2985 2 12 2.29848 12 2.66667C12 3.03486 12.2985 3.33333 12.6667 3.33333Z",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),jn||(jn=u.createElement("path",{d:"M6.00008 8.99992C6.18418 8.99992 6.33341 8.85068 6.33341 8.66659C6.33341 8.48249 6.18418 8.33325 6.00008 8.33325C5.81599 8.33325 5.66675 8.48249 5.66675 8.66659C5.66675 8.85068 5.81599 8.99992 6.00008 8.99992Z",fill:"#7D8DA7",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),vn||(vn=u.createElement("path",{d:"M10.0001 8.99992C10.1842 8.99992 10.3334 8.85068 10.3334 8.66659C10.3334 8.48249 10.1842 8.33325 10.0001 8.33325C9.81599 8.33325 9.66675 8.48249 9.66675 8.66659C9.66675 8.85068 9.81599 8.99992 10.0001 8.99992Z",fill:"#7D8DA7",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),On||(On=u.createElement("path",{d:"M6.66675 11.3333C7.11141 11.5553 7.55541 11.6666 8.00008 11.6666C8.44475 11.6666 8.88875 11.5553 9.33341 11.3333",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})))}var Cn,wn=u.forwardRef(_n);n.p;function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Sn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function In(e,t){var n=e.title,i=e.titleId,r=Sn(e,["title","titleId"]);return u.createElement("svg",kn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,Cn||(Cn=u.createElement("path",{d:"M13.0351 1.99802C12.8745 2.0097 12.717 2.04736 12.5686 2.10952H12.5666C12.4241 2.16602 11.7466 2.45102 10.7166 2.88302L7.02556 4.43752C4.37706 5.55252 1.77356 6.65052 1.77356 6.65052L1.80456 6.63852C1.80456 6.63852 1.62506 6.69752 1.43756 6.82602C1.32172 6.89973 1.22205 6.99618 1.14456 7.10952C1.05256 7.24452 0.978559 7.45102 1.00606 7.66452C1.05106 8.02552 1.28506 8.24202 1.45306 8.36152C1.62306 8.48252 1.78506 8.53902 1.78506 8.53902H1.78906L4.23056 9.36152C4.34006 9.71302 4.97456 11.799 5.12706 12.2795C5.21706 12.5665 5.30456 12.746 5.41406 12.883C5.46706 12.953 5.52906 13.0115 5.60356 13.0585C5.64229 13.081 5.68358 13.0988 5.72656 13.1115L5.70156 13.1055C5.70906 13.1075 5.71506 13.1135 5.72056 13.1155C5.74056 13.121 5.75406 13.123 5.77956 13.127C6.16606 13.244 6.47656 13.004 6.47656 13.004L6.49406 12.99L7.93556 11.6775L10.3516 13.531L10.4066 13.5545C10.9101 13.7755 11.4201 13.6525 11.6896 13.4355C11.9611 13.217 12.0666 12.9375 12.0666 12.9375L12.0841 12.8925L13.9511 3.32802C14.0041 3.09202 14.0176 2.87102 13.9591 2.65652C13.8987 2.43943 13.7594 2.25273 13.5686 2.13302C13.4083 2.03558 13.2224 1.98855 13.0351 1.99802ZM12.9846 3.02302C12.9826 3.05452 12.9886 3.05102 12.9746 3.11152V3.11702L11.1251 12.582C11.1171 12.5955 11.1036 12.625 11.0666 12.6545C11.0276 12.6855 10.9966 12.705 10.8341 12.6405L7.87906 10.375L6.09406 12.002L6.46906 9.60702L11.2971 5.10702C11.4961 4.92202 11.4296 4.88302 11.4296 4.88302C11.4436 4.65602 11.1291 4.81652 11.1291 4.81652L5.04106 8.58802L5.03906 8.57802L2.12106 7.59552V7.59352L2.11356 7.59202C2.11867 7.59032 2.12368 7.58832 2.12856 7.58602L2.14456 7.57802L2.16006 7.57252C2.16006 7.57252 4.76556 6.47452 7.41406 5.35952C8.74006 4.80102 10.0761 4.23852 11.1036 3.80452C12.1311 3.37302 12.8906 3.05652 12.9336 3.03952C12.9746 3.02352 12.9551 3.02352 12.9846 3.02352V3.02302Z",fill:"#7D8DA7"})))}var Pn=u.forwardRef(In),Nn=(n.p,n(113)),Tn=n.n(Nn),Ln=n(11),Bn=function(e,t,n){Object(u.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){n(!0)})),t.addEventListener("mouseleave",(function(){n(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){n(!1)})),t.removeEventListener("mouseleave",(function(){n(!1)})))}}),[e,t])},En=n(18),An=n.n(En),Mn=function(e){var t=e.child,n=e.onClick,i=Object(u.useState)(!1),r=Object(Wt.a)(i,2),a=r[0],o=r[1],c=Object(u.useRef)(null);return Bn(c,a,o),Object(kt.jsx)("div",{ref:c,className:An()(tn.a.menuItem,Object(Ln.a)({},tn.a.isActive,a)),onClick:n,children:t})},Vn=Object(f.a)((function(e){var t=e.videoId,n=st().editorStore,i=function(e){e.stopPropagation()},r=[Object(kt.jsx)(Kt.a,{quote:"This is my new clip",url:n.shareUrl(t),children:Object(kt.jsxs)("div",{className:tn.a.contentMenuItem,children:[Object(kt.jsx)(ln,{}),Object(kt.jsx)("span",{className:tn.a.title,children:"Facebook"})]})}),Object(kt.jsx)(Xt.a,{title:"This is my new clip",url:n.shareUrl(t),children:Object(kt.jsxs)("div",{className:tn.a.contentMenuItem,children:[Object(kt.jsx)(Pn,{}),Object(kt.jsx)("span",{className:tn.a.title,children:"Telegram"})]})}),Object(kt.jsx)($t.a,{title:"This is my new clip",url:n.shareUrl(t),children:Object(kt.jsxs)("div",{className:tn.a.contentMenuItem,children:[Object(kt.jsx)(wn,{}),Object(kt.jsx)("span",{className:tn.a.title,children:"Reddit"})]})}),Object(kt.jsx)(Tn.a,{text:n.shareUrl(t)||"",children:Object(kt.jsxs)("div",{className:tn.a.contentMenuItem,children:[Object(kt.jsx)(gn,{}),Object(kt.jsx)("span",{className:tn.a.title,children:"Copy link"})]})}),Object(kt.jsx)(Tn.a,{text:n.getIframeCode(t)||"",children:Object(kt.jsxs)("div",{className:tn.a.contentMenuItem,children:[Object(kt.jsx)(gn,{}),Object(kt.jsx)("span",{className:tn.a.title,children:"Copy iframe"})]})})];return Object(kt.jsx)("div",{className:tn.a.container,children:r.map((function(e,t){return Object(kt.jsx)(Mn,{child:e,onClick:i},t)}))})})),Dn=n(71),Un=n.n(Dn),Gn="blue",Rn="red",Wn="lightBlue",zn=n.p+"static/media/close.f88f3a6a.svg",Fn=function(e){var t,n=e.text,i=e.type,r=e.active,a=e.disabled,o=e.colorTheme,c=e.withBorder,s=e.deleteButton,u=e.onClick,l=e.onDelete;return Object(kt.jsxs)("button",{className:An()(Un.a.button,(t={},Object(Ln.a)(t,Un.a.active,r),Object(Ln.a)(t,Un.a.disabled,a),Object(Ln.a)(t,Un.a.withBorder,c),Object(Ln.a)(t,Un.a.redTheme,o===Rn),Object(Ln.a)(t,Un.a.blueTheme,o===Gn),Object(Ln.a)(t,Un.a.lightBlueTheme,o===Wn),t)),disabled:a,type:i||"submit",onClick:u,children:[n,s&&Object(kt.jsx)("div",{className:Un.a.delete,onClick:l,children:Object(kt.jsx)("img",{src:zn,alt:"close icon"})})]})},Hn=n(115),Yn=n.n(Hn),qn=n(170),Zn=n.n(qn),Jn=n.p+"static/media/close.15725202.svg",Qn=n(171),Kn=n.n(Qn);Zn.a.setAppElement("#root");var Xn={content:{position:"relative",border:"none",borderRadius:0,backgroundColor:"transparent",inset:"0 0 0 0",height:"100%",padding:"0",overflow:"hidden"},overlay:{zIndex:100,top:"0",left:"0",right:"0",bottom:"0",backdropFilter:"blur(3px)",backgroundColor:"rgba(0,0,0,.8)",display:"flex",alignItems:"center",justifyContent:"center"}},$n=function(e){var t=e.isOpen,n=e.children,i=e.toggleModal;return Object(kt.jsx)(Zn.a,{isOpen:t,style:Xn,onRequestClose:i,shouldCloseOnEsc:!0,children:Object(kt.jsxs)("div",{className:Kn.a.block,children:[Object(kt.jsx)("button",{className:Kn.a.closeButton,onClick:i,children:Object(kt.jsx)("img",{src:Jn,alt:"close"})}),n]})})},ei=function(e){var t=e.onConfirm,n=e.onCancel,i=e.title,r=e.description,a=e.confirmBtnText,o=e.isOpen,c=e.toggleModal;return Object(kt.jsx)($n,{isOpen:o,toggleModal:c,children:Object(kt.jsxs)("div",{className:Yn.a.container,children:[Object(kt.jsx)("p",{className:Yn.a.title,children:i}),r&&Object(kt.jsx)("p",{className:Yn.a.description,children:r}),Object(kt.jsxs)("div",{className:Yn.a.buttons,children:[Object(kt.jsx)(Fn,{text:"Cancel",onClick:n}),Object(kt.jsx)(Fn,{text:a,colorTheme:Gn,onClick:t})]})]})})},ti=function(e){var t=e.confirm,n=e.action,i=e.text,r=Object(u.useState)(!1),a=Object(Wt.a)(r,2),o=a[0],c=a[1],s=function(e){e&&e.stopPropagation(),c(!o)};return Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("button",{onClick:t?s:function(e){return n(e)},children:i}),t&&Object(kt.jsx)(ei,{title:t.title,description:t.description,confirmBtnText:t.confirmBtnText,onConfirm:n,onCancel:s,isOpen:o,toggleModal:s})]})},ni=function(e){var t=e.item,n=e.index,i=e.openModal,r=e.updateList,a=e.readonly,o=st(),c=o.editorStore,s=o.playerStore,l=Object(u.useRef)(null),d=Object(u.useState)(0),p=Object(Wt.a)(d,2),m=p[0],b=p[1],f=Object(j.g)();Object(u.useEffect)((function(){var e=setInterval((function(){m!==t.sources.length-1?b(m+1):b(0)}),2e3);return function(){return clearInterval(e)}}));var h=function(e){e.stopPropagation(),ge.getVideoById(t.id).then((function(e){var t=e.data;s.clearStore(),s.loadVideoToStore(t),i(!0)})).catch((function(e){return console.error(e)}))},v=[{text:"Open in modal",action:function(e){h(e)}},{text:"Edit video",action:function(e){e.stopPropagation(),ge.getVideoById(t.id).then((function(e){var t=e.data;c.clearStore(),c.loadVideoToStore(t),f.push("/"),xe.changeModeToCreate(0)})).catch((function(e){return console.error(e)}))}},{text:"Delete video",action:function(e){e.stopPropagation(),ge.deleteVideoById(t.id).then((function(){return r()})).catch((function(e){return console.error(e)}))},confirm:{title:"Delete video",description:"Are you sure you want to delete this video?",confirmBtnText:"Delete video"}}];return Object(kt.jsxs)("div",{className:At.a.playerWrapper,children:[Object(kt.jsxs)("div",{className:At.a.player,onClick:h,children:[0!==t.sources.length&&t.sources[m]?Object(kt.jsx)(qt.a,{ref:l,width:"100%",height:"100%",url:t.sources[m].url,muted:!0,controls:!1,light:!0,playIcon:Object(kt.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},t.sources[0].id):Object(kt.jsx)("img",{src:Zt,alt:"Mock",style:{width:"100%"}}),Object(kt.jsx)("div",{className:At.a.playerBlocker}),!a&&Object(kt.jsx)("div",{className:At.a.buttons,children:Object(kt.jsxs)("div",{className:At.a.buttonsContainer,children:[Object(kt.jsx)("button",{className:At.a.button,children:Object(kt.jsx)("img",{src:Jt,alt:"More"})}),Object(kt.jsx)("ul",{className:At.a.buttonsList,children:v.map((function(e,t){var n=e.text,i=e.action,r=e.confirm;return Object(kt.jsx)("li",{className:At.a.buttonItem,children:Object(kt.jsx)(ti,{confirm:r,action:i,text:n})},t)}))})]})}),Object(kt.jsxs)("div",{className:At.a.shareContainer,children:[Object(kt.jsx)("button",{className:At.a.shareButton,children:Object(kt.jsx)("img",{src:Qt,alt:"share"})}),Object(kt.jsx)("div",{className:At.a.shareMenu,children:Object(kt.jsx)(Vn,{videoId:t.id})})]})]},n),Object(kt.jsxs)("p",{className:At.a.duration,children:[gt(t.secondsCount||0)," sec. view"]})]})},ii=n(100),ri=n.n(ii),ai=n(142),oi=Object(f.a)((function(){var e=Object(u.useState)([]),t=Object(Wt.a)(e,2),n=t[0],i=t[1],r=Object(u.useState)(!1),a=Object(Wt.a)(r,2),o=a[0],c=a[1],s=Object(u.useState)(!0),l=Object(Wt.a)(s,2),d=l[0],p=l[1],m=Object(u.useState)(!1),b=Object(Wt.a)(m,2),f=b[0],h=b[1],j=Object(u.useState)(0),v=Object(Wt.a)(j,2),O=v[0],g=v[1],y=st().playerStore,_=function(){var e;ge.getRandomUserVideosByName({userName:(null===(e=y.creator)||void 0===e?void 0:e.username)||null,limit:10,offset:O}).then((function(e){var t=e.data;p(n.length+t.list.length<t.totalCount),i([].concat(Object(x.a)(n),Object(x.a)(t.list))),function(e){y.playList=e.map((function(e){return e.id})).filter((function(e){return e!==y.videoId}))}([].concat(Object(x.a)(n),Object(x.a)(t.list))),g(O+t.list.length)})).catch((function(e){console.error(e),h(!0)})).finally((function(){return c(!1)}))},C=Object(u.useCallback)(_,[y]);Object(u.useEffect)((function(){return C()}),[C]);var w=Object(ai.a)({loading:o,hasNextPage:d,onLoadMore:_,disabled:f}),k=Object(Wt.a)(w,1)[0],S=function(e,t){t.stopPropagation(),ge.getVideoById(e.id).then((function(e){var t=e.data;y.clearStore(),y.loadVideoToStore(t)})).catch((function(e){return console.error(e)}))};return Object(kt.jsxs)("div",{className:ri.a.container,children:[Object(kt.jsx)("p",{className:ri.a.title,children:"Also see other videos:"}),Object(kt.jsx)("ul",{className:ri.a.list,children:n.map((function(e,t){return Object(kt.jsxs)("div",{className:ri.a.player,onClick:S.bind(null,e),children:[Object(kt.jsx)(qt.a,{width:"100%",height:"100%",url:e.sources[0].url,muted:!0,controls:!1,light:!0,playIcon:Object(kt.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},e.sources[0].id),Object(kt.jsx)("div",{className:ri.a.playerBlocker})]},e.id)}))}),(o||d)&&Object(kt.jsx)("div",{ref:k,children:"Loading..."})]})})),ci=n(145),si=n.n(ci),ui=n(65),li=n.n(ui);var di,pi=Object(f.a)((function(e){var t=e.store,n=e.onEndPlay,i=st().uiStore;Object(u.useEffect)((function(){""===t.players[t.activePlayerIndex].url&&i.isLoadingApp&&(i.isLoadingApp=!1)}),[i.isLoadingApp]);var a=function(e,n){console.log("Player ".concat(e," onReady")),t.activePlayerIndex===e&&(i.isLoadingApp=!1),xe.setPlayer(e,{player:n})},o=function(){var e=Object(A.a)(E.a.mark((function e(i,a){var o,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye.checkShowGifs(a.playedSeconds),i===t.activePlayerIndex&&t.players[i].playing){e.next=4;break}return console.log("Player ".concat(i," onProgress stopped")),e.abrupt("return");case 4:if(t.isLoading&&(t.isLoading=!1),xe.setTimePosition(),void 0!==(o=t.players[i].cutIndex)&&-1!==t.currentCutIndex){e.next=9;break}return e.abrupt("return");case 9:c=t.currentCuts[o].time,console.log(),e.t0=t.mode,e.next=e.t0===r.Create?14:e.t0===r.PlayOne?15:e.t0===r.EditGifs?20:e.t0===r.EditShot?25:e.t0===r.PlayAll?30:e.t0===r.Show?35:40;break;case 14:return e.abrupt("break",40);case 15:if(!f(c,a.playedSeconds)){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,xe.stop(i);case 19:return e.abrupt("break",40);case 20:if(!f(c,a.playedSeconds)){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,xe.stop(i);case 24:return e.abrupt("break",40);case 25:if(!f(c,a.playedSeconds)){e.next=27;break}return e.abrupt("return");case 27:return e.next=29,xe.stop(i);case 29:return e.abrupt("break",40);case 30:if(!f(c,a.playedSeconds)){e.next=32;break}return e.abrupt("return");case 32:return e.next=34,xe.goToNextShotCut(i);case 34:return e.abrupt("break",40);case 35:if(!f(c,a.playedSeconds)){e.next=37;break}return e.abrupt("return");case 37:return e.next=39,xe.goToNextShotCut(i,n);case 39:return e.abrupt("break",40);case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(e){console.log("Player ".concat(e," onBuffer"))},s=function(e){console.log("Player ".concat(e," onBufferEnd"))},l=function(e){console.log("Player ".concat(e," onStart"))},d=function(e){console.log("Player ".concat(e," onPlay")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},p=function(e){console.log("Player ".concat(e," onPause")),t.playing[e]&&(t.playing[e]=!1),t.players[e].playing=!1},m=function(e){console.log("Player ".concat(e," onEnded"))},b=function(e,t){console.log("Player ".concat(e," onSeek"))},f=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(kt.jsx)("div",{children:t.sources.length>0?t.players.map((function(e,n,i){var r=i.length-1-n;return Object(kt.jsx)("div",{style:{visibility:t.players[r].isVisible?"visible":"hidden"},children:Object(kt.jsx)(qt.a,{playing:t.playing[r],className:li.a.player,url:t.players[r].url,muted:t.players[r].muted,width:"100%",height:"100%",onPlay:d.bind(null,r),onProgress:o.bind(null,r),onStart:l.bind(null,r),onPause:p.bind(null,r),onEnded:m.bind(null,r),onReady:a.bind(null,r),onSeek:b.bind(null,r),onBufferEnd:s.bind(null,r),onBuffer:c.bind(null,r),progressInterval:100,controls:!0,config:{youtube:{playerVars:{}}}})},t.players[r].id)})):Object(kt.jsx)("div",{className:li.a.playerPlaceholder})})})),mi=n(99),bi=n(232),fi=n.n(bi),hi=(n(358),Object(f.a)((function(e){var t=e.gif,n=e.isSelected,i=e.isShow,r=e.onChange,a=e.onSelect,o=st().editorStore,c=Object(u.useRef)(null),s=Object(u.useRef)(),l=Object(u.useMemo)((function(){return document.createElement("canvas")}),[]);Object(u.useEffect)((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(l),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),c.current&&c.current.getLayer().draw()}})),function(){var t;return null===(t=e)||void 0===t?void 0:t.stop()}}),[t.src,l]),Object(u.useEffect)((function(){n&&i&&s.current&&(s.current.nodes([c.current]),s.current.getLayer().batchDraw())}),[n,i]);return Object(kt.jsxs)(kt.Fragment,{children:[i&&Object(kt.jsx)(mi.a,{ref:c,image:l,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:a,onTap:a,onDragEnd:function(e){r(Object(L.a)(Object(L.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=c.current,i=n.scaleX(),a=n.scaleY();n.scaleX(1),n.scaleY(1),r(Object(L.a)(Object(L.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*i),height:Math.max(n.height()*a)}))}}),n&&i&&!o.players[o.activePlayerIndex].playing&&Object(kt.jsx)(mi.d,{ref:s,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})}))),ji=Object(f.a)((function(e){var t=e.store,n=function(e){e.target===e.target.getStage()&&(t.selectedGifId=null)},i=function(e){t.selectedGifId=e},r=function(e,n){return t.gifs[e]=n};return Object(kt.jsx)("div",{children:Object(kt.jsx)(mi.c,{className:fi.a.container,width:t.canvasSize.width,height:t.canvasSize.height,style:t.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:n,onTouchStart:n,children:Object(kt.jsx)(mi.b,{children:t.gifs.map((function(e,n){return Object(kt.jsx)(hi,{gif:e,isSelected:e.id===t.selectedGifId,isShow:e.isShow,onSelect:i.bind(null,e.id),onChange:r.bind(null,n)},e.id)}))})})})})),vi=n(134),Oi=n.n(vi),gi=n.p+"static/media/play.a44af37e.svg";function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function yi(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _i(e,t){var n=e.title,i=e.titleId,r=yi(e,["title","titleId"]);return u.createElement("svg",xi({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,di||(di=u.createElement("path",{d:"M10 24h-6v-24h6v24zm10 0h-6v-24h6v24zm-11-23h-4v22h4v-22zm10 0h-4v22h4v-22z"})))}var Ci,wi,ki=u.forwardRef(_i),Si=(n.p,n(84)),Ii=n.n(Si),Pi=function(e){var t=e.color;return Object(kt.jsx)("div",{className:Ii.a.container,children:Object(kt.jsx)("div",{className:An()(Ii.a.loaderContainer,Ii.a.arcRotateDouble),style:{backgroundColor:t},children:Object(kt.jsxs)("div",{className:Ii.a.loader,children:[Object(kt.jsx)("div",{className:Ii.a.arc1}),Object(kt.jsx)("div",{className:Ii.a.arc2})]})})})},Ni=Object(f.a)((function(e){var t,n=e.store;return Object(kt.jsx)("div",{style:{position:"absolute",visibility:"hidden"},children:Object(kt.jsx)(qt.a,{playing:n.audioPlayer.playing,className:li.a.player,url:n.audioPlayer.url,muted:n.audioPlayer.muted,volume:null===(t=n.audioCut)||void 0===t?void 0:t.volume,width:"100%",height:"100%",progressInterval:100,controls:!0,onReady:function(e){xe.setAudioPlayer({player:e}),n.audioPlayer.isReady=!0,n instanceof Ne&&n.addAudioCut(n.audioPlayer.url,{startTime:0,endTime:e.getDuration()})}})})})),Ti=Object(f.a)((function(e){var t=e.store,n=e.onEndPlay,i=Object(u.useRef)(),a=Object(u.useState)(!1),o=Object(Wt.a)(a,2),c=o[0],s=o[1];Object(u.useEffect)((function(){i.current&&(t.canvasSize={width:i.current.offsetWidth,height:i.current.offsetHeight})})),Object(u.useEffect)((function(){xe.store=t,ye.store=t}),[]);var l=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mode!==r.Show){e.next=5;break}return e.next=3,xe.changeModeToShow();case 3:e.next=7;break;case 5:return e.next=7,xe.start(t.activePlayerIndex);case 7:xe.startAudio();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.stop(t.activePlayerIndex);case 2:xe.pauseAudio(),xe.sendTimePosition();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(kt.jsxs)("div",{ref:i,className:An()("padded",li.a.playerWrapper),onMouseMove:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(kt.jsx)(Ni,{store:t}),Object(kt.jsx)(pi,{store:t,onEndPlay:n}),Object(kt.jsx)(ji,{store:t}),Object(kt.jsx)(Oi.a,{onResize:function(e){var n=e.width,i=e.height;t.canvasSize={width:n,height:i},t.scaleGifs()}}),!t.players[t.activePlayerIndex].playing&&Object(kt.jsx)("button",{className:li.a.playButton,onClick:l,children:Object(kt.jsx)("img",{src:gi,alt:"Play icon"})}),t.players[t.activePlayerIndex].playing&&c&&Object(kt.jsx)("button",{className:li.a.playButton,onClick:d,children:Object(kt.jsx)(ki,{className:li.a.pauseButton})}),Object(kt.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:t.isShowTransition?"visible":"hidden"}}),t.isLoading&&Object(kt.jsx)(Pi,{})]})}));function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Bi(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ei(e,t){var n=e.title,i=e.titleId,r=Bi(e,["title","titleId"]);return u.createElement("svg",Li({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,Ci||(Ci=u.createElement("circle",{cx:25,cy:25,r:25,fill:"white",fillOpacity:.15})),wi||(wi=u.createElement("path",{d:"M23.6666 19.2187V13.448L17.3906 19.724L12.3586 24.756L17.48 29.024L23.6666 34.18V28.5333C34.528 27.7147 38.3333 34 38.3333 34C38.3333 30.084 38.0106 26.02 34.932 22.9427C31.3533 19.3627 26.1706 19.1093 23.6666 19.2187Z",fill:"white"})))}var Ai,Mi,Vi=u.forwardRef(Ei),Di=(n.p,function(e){var t,n,i=e.toggleModal,r=st().playerStore,a=Object(u.useRef)(null),o=Object(u.useState)(!1),c=Object(Wt.a)(o,2),s=c[0],l=c[1];t=a,n=function(){return i()},Object(u.useEffect)((function(){var e=function(e){(null===t||void 0===t?void 0:t.current)&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]);Object(u.useEffect)((function(){var e=setInterval((function(){r.videoId&&ge.pingVideosSecondsCount({ids:[r.videoId]}).then((function(e){var t=e.data;r.secondsCount=t[0].secondsCount})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}}));var d=function(){var e=Object(A.a)(E.a.mark((function e(){var t,n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===r.playList.length||r.currentPlayListPositionIndex>=r.playList.length)){e.next=2;break}return e.abrupt("return");case 2:return t=r.playList[r.currentPlayListPositionIndex],e.prev=3,e.next=6,ge.getVideoById(t);case 6:n=e.sent,i=n.data,r.clearStore(),r.loadVideoToStore(i),setTimeout((function(){return xe.changeModeToShow()}),3e3),r.currentPlayListPositionIndex+=1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(kt.jsxs)("div",{className:si.a.container,ref:a,children:[Object(kt.jsx)(Ti,{store:r,onEndPlay:d}),Object(kt.jsxs)("div",{className:si.a.infoWrapper,children:[r.creator&&Object(kt.jsx)(St,{userInfo:r.creator,viewSeconds:r.secondsCount}),Object(kt.jsxs)("div",{className:si.a.shareContainer,onClick:function(e){e.stopPropagation(),l(!s)},children:[Object(kt.jsx)(Vi,{}),s&&Object(kt.jsx)(Vn,{videoId:r.videoId})]})]}),Object(kt.jsx)(oi,{})]})}),Ui=(Object(f.a)(Di),n(466)),Gi=n(468),Ri=n(460),Wi=n(461),zi=Object(f.a)((function(e){var t=e.isPersonalProfile,n=e.userName,i=st(),r=i.editorStore,a=i.userStore,o=i.playerStore,c=Object(j.g)(),s=Object(u.useState)(!1),l=Object(Wt.a)(s,2),d=l[0],p=l[1],m=Object(u.useState)(!1),b=Object(Wt.a)(m,2),f=b[0],h=b[1],v=Object(u.useState)([]),O=Object(Wt.a)(v,2),g=O[0],y=O[1],_=Object(u.useState)(!1),C=Object(Wt.a)(_,2),w=C[0],k=C[1],S=Object(u.useState)(!0),I=Object(Wt.a)(S,2),P=I[0],N=I[1],T=Object(u.useState)(!1),L=Object(Wt.a)(T,2),B=L[0],E=L[1],A=Object(u.useState)(0),M=Object(Wt.a)(A,2),V=M[0],D=M[1],U=t?ge.getUserVideos:ge.getCreatorVideos,G=function(){var e;k(!0),U({creatorName:(null===(e=o.creator)||void 0===e?void 0:e.username)||null,limit:10,offset:V}).then((function(e){var t=e.data;N(g.length+t.list.length<t.totalCount),y([].concat(Object(x.a)(g),Object(x.a)(t.list))),D(V+t.list.length)})).catch((function(e){console.error(e),E(!0)})).finally((function(){return k(!1)}))},R=Object(u.useCallback)(G,[a]);Object(u.useEffect)((function(){R()}),[R,o.creator]);var W=Object(ai.a)({loading:w,hasNextPage:P,onLoadMore:G,disabled:B}),z=Object(Wt.a)(W,1)[0],F=function(){return p(!d)},H=function(){return h(!1)};return Object(u.useEffect)((function(){var e=setInterval((function(){var e=g.reduce((function(e,t){return t.id?[].concat(Object(x.a)(e),[t.id]):e}),[]);ge.pingVideosSecondsCount({ids:e}).then((function(e){var t=e.data,n=g.map((function(e){for(var n=0;n<t.length;n+=1)if(e.id===t[n].id)return e.secondsCount=t[n].secondsCount,e;return e}));y(n)})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}}),[g]),Object(u.useEffect)((function(){null!==n&&void 0!==n&&ge.getUserInfoByName(n).then((function(e){var t=e.data;o.creator=t})).catch((function(e){return console.error(e)}))}),[o,n]),Object(kt.jsxs)("div",{className:Ht.a.container,children:[Object(kt.jsxs)("div",{className:Ht.a.list,children:[t&&Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("button",{className:Ht.a.addButton,onClick:function(){return h(!0)},children:Object(kt.jsx)("img",{src:zt,alt:"Add icon"})}),Object(kt.jsxs)(Ui.a,{open:f,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(kt.jsx)(Gi.a,{id:"alert-dialog-title",children:"Current video will be deleted. Continue?"}),Object(kt.jsxs)(Ri.a,{children:[Object(kt.jsx)(Wi.a,{onClick:H,color:"primary",children:"Cancel"}),Object(kt.jsx)(Wi.a,{onClick:function(e){r.clearStore(),c.push("/")},color:"primary",autoFocus:!0,children:"OK"})]})]})]}),g.map((function(e,n){return Object(kt.jsx)(ni,{item:e,index:n,openModal:F,updateList:R,readonly:!t},e.id)}))]}),(w||P)&&Object(kt.jsx)("div",{ref:z,children:"Loading..."}),Object(kt.jsx)($n,{isOpen:d,toggleModal:F,children:Object(kt.jsx)(Di,{toggleModal:F})})]})})),Fi=n(146),Hi=n.n(Fi),Yi=function(){return Object(kt.jsxs)("div",{className:Hi.a.container,children:[Object(kt.jsx)("p",{className:Hi.a.title,children:"No videos found"}),Object(kt.jsx)("p",{className:Hi.a.caption,children:"Come back soon! You can watch more videos on our website"})]})},qi=function(){return Object(kt.jsx)("div",{children:Object(kt.jsx)(Yi,{})})},Zi=function(){return Object(kt.jsx)("div",{children:Object(kt.jsx)(Yi,{})})},Ji=[{title:"My portfolio",path:"portfolio"},{title:"Recent videos",path:"recentVideos"},{title:"Saved videos",path:"savedVideos"}],Qi=[{title:"Portfolio",path:"portfolio"}],Ki=function(e){var t=e.isPersonalProfile,n=e.userName,i=Object(j.j)().url;return Object(kt.jsx)(Dt,{children:Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("div",{className:At.a.tabsWrapper,children:Object(kt.jsx)(Rt,{tabs:t?Ji:Qi,url:i})}),Object(kt.jsxs)(j.d,{children:[Object(kt.jsx)(j.b,{path:"".concat(i,"/portfolio"),exact:!0,render:function(){return Object(kt.jsx)(zi,{isPersonalProfile:t,userName:n})}}),Object(kt.jsx)(j.b,{path:"".concat(i,"/recentVideos"),component:qi}),Object(kt.jsx)(j.b,{path:"".concat(i,"/savedVideos"),exact:!0,component:Zi}),Object(kt.jsx)(j.a,{to:"".concat(i,"/portfolio")})]})]})})},Xi=Object(f.a)((function(){var e=st(),t=e.userStore,n=e.playerStore,i=Object(j.i)().userName,r=!!t.user&&t.user.username===i;return Object(kt.jsxs)("div",{className:lt.a.container,children:[r&&Object(kt.jsx)(Bt,{user:t.user,isAnotherUser:!r}),!r&&n.creator&&Object(kt.jsx)(Bt,{user:n.creator,isAnotherUser:!0}),Object(kt.jsx)(Ki,{isPersonalProfile:r,userName:i})]})})),$i=n(78),er=n(147),tr=n.n(er),nr=n(172),ir=n.n(nr),rr=function(e){var t=e.title,n=e.children;return Object(kt.jsxs)("div",{className:ir.a.container,children:[Object(kt.jsx)("h2",{className:ir.a.title,children:t}),n]})},ar=n(233),or=n(107),cr=n(173),sr=n.n(cr),ur=n(101),lr=n.n(ur),dr=n.p+"static/media/closeIcon.0b48234f.svg",pr=Object(u.forwardRef)((function(e,t){var n=e.value,i=e.placeholder,r=e.onChange,a=e.errorList;return Object(kt.jsxs)("div",{className:lr.a.container,children:[Object(kt.jsx)("input",{ref:t,onChange:function(e){return r(e.target.value)},value:n,placeholder:i,className:lr.a.input}),n&&Object(kt.jsx)("div",{className:lr.a.buttonsBlock,children:Object(kt.jsx)("button",{type:"button",className:lr.a.clearButton,onClick:function(){return r("")},children:Object(kt.jsx)("img",{src:dr,alt:"Close icon"})})}),a&&a.map((function(e){return e?Object(kt.jsx)("div",{className:lr.a.error,children:e}):null}))]})})),mr=new or.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");!function(e){e.Trending="trending",e.Search="search"}(Ai||(Ai={})),function(e){e.Gifs="gifs",e.Stickers="stickers",e.Text="text"}(Mi||(Mi={}));var br=function(e){var t=e.width,n=e.searchText,i=e.fetchType,a=e.type,o=st().editorStore;return Object(kt.jsx)(ar.Grid,{fetchGifs:function(e){return i===Ai.Search?mr.search(n,{offset:e,limit:10,type:a}):i===Ai.Trending?mr.trending({offset:e,limit:10,type:a}):mr.trending({offset:e,limit:10})},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),null!==o.activeCutIndex?(o.addGif(e,o.activeCutIndex),o.mode=r.EditGifs):alert("\u0422\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b \u043a\u0443\u0441\u043e\u0447\u0435\u043a!")}})},fr=Object(f.a)((function(e){var t=e.type,n=l.a.createRef(),i=Object(u.useState)(null),r=Object(Wt.a)(i,2),a=r[0],o=r[1],c=Object(u.useState)(""),s=Object(Wt.a)(c,2),d=s[0],p=s[1],m=Object(u.useState)(!0),b=Object(Wt.a)(m,2),f=b[0],h=b[1];return Object(u.useEffect)((function(){n&&o(n.current.offsetWidth)}),[n]),Object(u.useEffect)((function(){var e=setTimeout((function(){h(!0)}),1e3);return function(){return clearTimeout(e)}}),[d]),Object(kt.jsxs)("div",{ref:n,className:sr.a.root,children:[Object(kt.jsx)(pr,{placeholder:"Search with GIPHY",value:d,onChange:function(e){h(!1),p(e)}}),a&&Object(kt.jsxs)("div",{className:sr.a.gifsPanel,children:[f&&""===d&&Object(kt.jsx)(br,{width:a,searchText:d,fetchType:Ai.Trending,type:t}),f&&""!==d&&Object(kt.jsx)(br,{width:a,searchText:d,fetchType:Ai.Search,type:t}),Object(kt.jsx)(Oi.a,{onResize:function(e){e.width}})]})]})})),hr=Object(f.a)((function(e){var t=e.type;return Object(kt.jsx)(rr,{title:"Add Gif",children:Object(kt.jsx)(fr,{type:t})})})),jr=n(116),vr=n.n(jr),Or=function(e){var t=e.value,n=e.isActive,i=e.icon,r=e.onClick;return Object(kt.jsx)("div",{onClick:function(){return r(t)},className:An()(vr.a.tabItem,Object(Ln.a)({},vr.a.active,n)),children:Object(kt.jsx)("img",{src:i,className:An()(vr.a.icon,Object(Ln.a)({},vr.a.activeIcon,n)),alt:"Source icon"})})},gr=n(235),xr=n.n(gr),yr=function(e){var t=e.tabs,n=e.activeTab,i=e.handleClick;return Object(kt.jsx)("div",{className:xr.a.container,children:t.map((function(e){var t=e.icon,r=e.id;return Object(kt.jsx)(Or,{icon:t,isActive:r===n,value:r,onClick:i},r)}))})},_r=n(236),Cr=n(462),wr=n(463),kr=n(148),Sr=n.n(kr),Ir=n(149),Pr=n.n(Ir),Nr=n(85),Tr=n.n(Nr),Lr=n.p+"static/media/close.b731002b.svg",Br=n.p+"static/media/playIcon.737e8ec2.svg",Er=Object(f.a)((function(e){var t=e.cut,n=e.idx,i=(e.isActive,e.isChosenSource),r=(e.onClick,st().editorStore),a=Object(u.useRef)(null),o=Object(u.useRef)(null),c=Object(u.useState)(!1),s=Object(Wt.a)(c,2),l=s[0],d=s[1],p=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.createCurrentCuts(r.cuts),e.next=3,xe.playOne(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},b=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(u.useEffect)((function(){var e=a.current;return e&&(e.addEventListener("mouseover",(function(){d(!0),m()})),e.addEventListener("mouseout",(function(){d(!1),b()}))),function(){e&&(e.removeEventListener("mouseover",(function(){m()})),e.removeEventListener("mouseout",(function(){b()})))}}),[a]),Object(kt.jsxs)("div",{className:An()(Tr.a.wrapper,Object(Ln.a)({},Tr.a.isChosenSource,i)),children:[Object(kt.jsx)("div",{className:Tr.a.buttons,children:Object(kt.jsx)("button",{onClick:function(){return r.removeCut(n)},children:Object(kt.jsx)("img",{src:Lr,alt:"Close icon"})})}),Object(kt.jsxs)("div",{className:Tr.a.playerWrapper,ref:a,children:[Object(kt.jsx)(qt.a,{ref:o,width:"100%",height:"100%",url:r.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,o.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(kt.jsx)("button",{onClick:p,className:An()(Tr.a.playButton,Object(Ln.a)({},Tr.a.isVisible,l)),children:Object(kt.jsx)("img",{src:Br,alt:"Play icon"})})]})]})}));var Ar,Mr,Vr=Object(f.a)((function(){var e=st().editorStore,t=Object(u.useState)(""),n=Object(Wt.a)(t,2),i=n[0],r=n[1],a=function(){var t=Object(A.a)(E.a.mark((function t(n){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createCurrentCuts(e.cuts),e.currentCutIndex=n,t.next=4,xe.preloadCut(e.activePlayerIndex,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){var t=e.sources[e.currentSourceIndex];void 0!==t&&r(t.url)}),[e.currentSourceIndex]),e.cuts.length,Object(kt.jsx)("div",{className:Pr.a.cutsPanel,children:e.sources.length>0?Object(kt.jsx)(kt.Fragment,{children:Object(kt.jsx)($i.c,{droppableId:"column-1",direction:"horizontal",children:function(t){return Object(kt.jsx)("div",Object(L.a)(Object(L.a)({className:Pr.a.cutsList},t.droppableProps),{},{ref:t.innerRef,children:e.cuts.map((function(t,n){return Object(kt.jsx)($i.b,{draggableId:t.id.toString(),index:n,children:function(r){return Object(kt.jsx)("div",Object(L.a)(Object(L.a)(Object(L.a)({},r.draggableProps),r.dragHandleProps),{},{ref:r.innerRef,children:Object(kt.jsx)(Er,{idx:n,cut:t.time,isActive:n===e.activeCutIndex,onClick:a,isChosenSource:t.url===i},t.id)}))}},t.id)}))}))}})}):Object(kt.jsx)(Cr.a,{container:!0,className:Pr.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})),Dr=Object(f.a)((function(){var e=st(),t=e.editorStore,n=e.userStore,i=Object(u.useState)(""),a=Object(Wt.a)(i,2),o=a[0],c=a[1],s=l.a.useState(null),d=Object(Wt.a)(s,2),p=d[0],m=d[1],b=function(e){f()?e&&m(e.currentTarget):(t.addSource(o),n.setIsShowContent(!1),n.changeTab(""),c(""))},f=function(){var e,n=Object(_r.a)(t.sources);try{for(n.s();!(e=n.n()).done;){if(e.value.url===o)return!0}}catch(i){n.e(i)}finally{n.f()}return!1},h=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=Boolean(p),v=j?"simple-popover":void 0;return Object(kt.jsxs)(rr,{title:"All frames",children:[t.mode!==r.Show&&Object(kt.jsxs)(Cr.a,{container:!0,direction:"column",children:[Object(kt.jsx)(Cr.a,{className:Sr.a.searchLine,item:!0,children:Object(kt.jsxs)("form",{className:Sr.a.form,onSubmit:function(e){e.preventDefault(),o&&b()},children:[Object(kt.jsx)("div",{className:Sr.a.inputWrapper,children:Object(kt.jsx)(pr,{value:o,onChange:function(e){return c(e)},placeholder:"Paste the video link here"})}),Object(kt.jsx)(Fn,{type:"button",text:"Add source",disabled:""===o,onClick:b,colorTheme:Gn}),Object(kt.jsx)(wr.a,{id:v,open:j,anchorEl:p,onClose:function(){m(null),c("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(kt.jsx)("span",{children:"You already have this source."})})]})}),Object(kt.jsx)(Cr.a,{item:!0,container:!0,spacing:2,children:t.sources.map((function(e,n){return Object(kt.jsx)(Cr.a,{item:!0,children:Object(kt.jsx)(Fn,{text:"Source ".concat(n+1),onClick:function(){return h(n)},onDelete:function(e){return function(e,n){return e.stopPropagation(),t.removeSource(n),n>0?h(n-1):0===n&&t.sources.length?h(0):void 0}(e,n)},deleteButton:!0,colorTheme:Wn,active:n===t.currentSourceIndex})},e.id)}))})]}),Object(kt.jsx)(Vr,{})]})})),Ur=function(e){var t=e.type;return Object(kt.jsx)(rr,{title:"Add Text",children:Object(kt.jsx)(fr,{type:t})})},Gr=n(117),Rr=n.n(Gr),Wr=function(e){var t=e.type;return Object(kt.jsx)(rr,{title:"Add Stickers",children:Object(kt.jsx)(fr,{type:t})})},zr=n.p+"static/media/arrow.a4af7684.svg",Fr=(Ar={},Object(Ln.a)(Ar,qe,Object(kt.jsx)(Dr,{})),Object(Ln.a)(Ar,Je,Object(kt.jsx)(hr,{type:Mi.Gifs})),Object(Ln.a)(Ar,Ze,Object(kt.jsx)(Ur,{type:Mi.Text})),Object(Ln.a)(Ar,Qe,Object(kt.jsx)(Wr,{type:Mi.Stickers})),Ar),Hr=Object(f.a)((function(){var e=st().userStore;return Object(kt.jsxs)("div",{className:An()(Rr.a.container,Object(Ln.a)({},Rr.a.isActive,e.isShowContent)),children:[Object(kt.jsx)(yr,{tabs:Ke,handleClick:function(t){e.changeTab(t),e.setIsShowContent(!0)},activeTab:e.tab}),e.isShowContent&&Object(kt.jsx)("div",{className:Rr.a.content,children:Fr[e.tab]}),e.isShowContent&&Object(kt.jsx)("div",{className:Rr.a.hideBlock,children:Object(kt.jsx)("button",{onClick:function(){e.setIsShowContent(!1),e.changeTab("")},children:Object(kt.jsx)("img",{src:zr,alt:"arrow icon"})})})]})})),Yr=n(70),qr=n.n(Yr),Zr=n(464),Jr=n(93),Qr=n.n(Jr),Kr=n(175),Xr=n.n(Kr),$r=n(20),ea=n(469),ta=n(470),na=n(118),ia=n.n(na),ra=n.p+"static/media/mouse.bd54b72f.svg",aa=Object($r.a)({tooltip:{display:"flex",alignItems:"center",backgroundColor:"#ebf8ff",color:"#00a3ff",fontSize:14,height:24,borderRadius:2,padding:"5 4",zIndex:100},tooltipPlacementTop:{marginRight:15,marginLeft:15}})(ea.a),oa=function(e){var t,n=e.value,i=e.index,r=e.onWheel,a=null===(t=n)?{hours:"00",mins:"00",seconds:"00",fract:"0"}:{hours:jt(Math.floor(t/60/60)),mins:jt(Math.floor(t/60%60)),seconds:jt(Math.floor(t%60)),fract:Math.floor(10*(t-Math.floor(t)))},o=a.hours,c=a.mins,s=a.seconds,u=a.fract;return Object(kt.jsxs)("div",{className:ia.a.tooltipContainer,children:["00"!==o&&Object(kt.jsxs)("span",{onWheel:r.bind(null,i,"hours"),children:[o,":"]}),Object(kt.jsxs)("span",{onWheel:r.bind(null,i,"mins"),children:[c,":"]}),Object(kt.jsxs)("div",{onWheel:r.bind(null,i,"seconds"),children:[s,"."]}),Object(kt.jsx)("span",{onWheel:r.bind(null,i,"fract"),children:u}),Object(kt.jsx)("img",{src:ra,alt:"mouse icon",className:ia.a.tooltipIcon})]})},ca=function(e,t){var n=t.children,i=t.open,r=t.value,a=t.index;return Object(kt.jsx)(aa,{open:i,enterTouchDelay:0,placement:0===a?"top-end":"top-start",title:Object(kt.jsx)(oa,{onWheel:e,value:r,index:a}),interactive:!0,children:n})},sa=Object($r.a)({root:{display:"flex",alignItems:"center",color:"#00a3ff",height:8},thumb:{height:34,width:10,backgroundColor:"#fff",border:"4px solid currentColor",borderRadius:4,marginTop:0,marginLeft:-8,"&:focus, &:hover, &$active":{boxShadow:"0 0 8px 0 #00a3ff"}},active:{},valueLabel:{},track:{height:34,border:"1px solid rgba(0, 163, 255, 0.55)",backgroundColor:"#6BCAFF"},rail:{height:4,borderRadius:2,backgroundColor:"#a5b4cb"}})(ta.a),ua=Object(f.a)((function(e){var t=e.value,n=e.onChange,i=e.onWheel,r=e.max,a=e.min,o=e.step,c=st().userStore;return Object(u.useEffect)((function(){}),[c.isShowContent]),Object(kt.jsx)(kt.Fragment,{children:Object(kt.jsx)(sa,{value:t,ValueLabelComponent:ca.bind(null,i),onChange:n,valueLabelDisplay:"on","aria-labelledby":"custom-slider",min:a,max:r,step:o,classes:{root:ia.a.slider,valueLabel:ia.a.label}})})})),la=n.p+"static/media/applyBtn.51086de1.svg",da=n.p+"static/media/deleteBtn.289b9a98.svg",pa=Object(f.a)((function(e){var t=st().editorStore,n=Object(u.useState)([0,0]),i=Object(Wt.a)(n,2),r=i[0],a=i[1],o=Object(u.useState)([0,0]),c=Object(Wt.a)(o,2),s=c[0],l=c[1];Object(u.useEffect)((function(){ye.setCustomGifData(null),null!==t.selectedGifId&&a(ye.getGifTime(t.selectedGifId))}),[t.selectedGifId]),Object(u.useEffect)((function(){if(null!==t.selectedGifId){var e=ye.getCutTime(t.selectedGifId),n=e.startTime,i=e.endTime;l([n,i])}}),[t.selectedGifId]);var d=function(){null!==t.selectedGifId&&ye.setGifTime(t.selectedGifId,r)},p=function(e,n){null!==t.selectedGifId&&(a(n),d())},m=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.createCurrentCuts(t.shotCuts),e.next=3,xe.playOne(t.currentCutIndex,!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(kt.jsx)(kt.Fragment,{children:t.selectedGifId&&Object(kt.jsxs)("div",{className:Xr.a.container,children:[Object(kt.jsx)(Zr.a,{"aria-label":"play",classes:{root:Xr.a.btn},onClick:m,children:Object(kt.jsx)(Qr.a,{})}),Object(kt.jsx)(ua,{value:r,onChange:p,onWheel:function(e,t,n){var i={hours:3600,mins:60,seconds:1,fract:.1}[t],a=r.slice();if(n.deltaY<0){if(a[e]=a[e]+i,a[e]>s[1])return;p(0,a)}else{if(a[e]=a[e]-i,a[e]<s[0])return;p(0,a)}},max:s[1],min:s[0],step:.1}),Object(kt.jsx)(Zr.a,{"aria-label":"thumbUp",onClick:function(){d(),t.selectedGifId=null},children:Object(kt.jsx)("img",{src:la,alt:"apply-icon"})}),Object(kt.jsx)(Zr.a,{"aria-label":"delete",onClick:function(){null!==t.selectedGifId&&(ye.deleteGif(t.selectedGifId),t.selectedGifId=null)},children:Object(kt.jsx)("img",{src:da,alt:"delete-icon"})})]})})})),ma=n(176),ba=n.n(ma),fa=Object(f.a)((function(e){var t=st().editorStore,n=Object(u.useState)([]),i=Object(Wt.a)(n,2),r=i[0],a=i[1],o=function(){var e=Object(A.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.quickMoveToPosition(n.startShowTime);case 2:t.selectedGifId=n.id;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){var e=null!==t.activeCutIndex?ye.getGifListForCut(t.activeCutIndex):[];a(e)}),[t.activeCutIndex,t.gifs]),Object(kt.jsx)("div",{children:t.isShowGifList&&r.length>0?r.map((function(e){return Object(kt.jsx)("img",{src:e.src,alt:"gif_"+e.id,className:An()(ba.a.gif,Object(Ln.a)({},ba.a.isSelected,e.id===t.selectedGifId)),onClick:o.bind(null,e)},e.id)})):null})})),ha=n(102),ja=n.n(ha),va=Object(f.a)((function(e){var t=st().editorStore,n=Object(u.useState)([0,0]),i=Object(Wt.a)(n,2),r=i[0],a=i[1],o=Object(u.useState)([0,0]),c=Object(Wt.a)(o,2),s=c[0],l=c[1];Object(u.useEffect)((function(){var e=function(){if(null===t.editCutIndex||void 0===t.currentCuts[t.editCutIndex])return[0,0];var e=t.currentCuts[t.editCutIndex].time;return[e.startTime,e.endTime]}();a(e);var n=xe.getCurrentPlayerDuration()||0,i=Math.max(0,e[0]-30),r=Math.min(n,e[1]+30);l([i,r])}),[t.currentCuts,t.editCutIndex]);var d=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.editCutIndex){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xe.playOne(t.editCutIndex,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,n){null!==t.editCutIndex&&(n[0]!==r[0]&&n[0]<r[1]?(t.currentCuts[t.editCutIndex].time.startTime=r[0],m(n[0])):n[1]!==r[1]&&n[1]>r[0]&&(t.currentCuts[t.editCutIndex].time.endTime=r[1],b(n[1])))},m=function(e){a([e,r[1]]),xe.quickMoveToPosition(e)},b=function(e){a([r[0],e]),xe.quickMoveToPosition(e)};return Object(kt.jsx)(kt.Fragment,{children:null!==t.editCutIndex&&Object(kt.jsxs)("div",{className:ja.a.container,children:[Object(kt.jsx)(Zr.a,{"aria-label":"play",classes:{root:ja.a.playBtn},onClick:d,children:Object(kt.jsx)(Qr.a,{})}),Object(kt.jsx)("span",{className:ja.a.duration,children:vt(r[1]-r[0],!0)}),Object(kt.jsx)(ua,{value:r,onChange:p,onWheel:function(e,t,n){var i={hours:3600,mins:60,seconds:1,fract:.1}[t],a=r.slice();if(n.deltaY<0){if(a[e]=a[e]+i,a[e]>s[1])return;p(0,a)}else{if(a[e]=a[e]-i,a[e]<s[0])return;p(0,a)}},max:s[1],min:s[0],step:.1}),Object(kt.jsx)("div",{className:ja.a.btn,children:Object(kt.jsx)(Fn,{text:"Cancel",withBorder:!0,onClick:function(){return t.editCutIndex=null}})}),Object(kt.jsx)("div",{className:ja.a.btn,children:Object(kt.jsx)(Fn,{text:"Done",colorTheme:Gn,onClick:function(){null!==t.editCutIndex&&(t.shotCuts[t.editCutIndex].time.startTime=r[0],t.shotCuts[t.editCutIndex].time.endTime=r[1],t.createCurrentCuts(t.shotCuts),t.editCutIndex=null)}})})]})})}));function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ga(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xa(e,t){var n=e.title,i=e.titleId,r=ga(e,["title","titleId"]);return u.createElement("svg",Oa({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,Mr||(Mr=u.createElement("path",{d:"M14.7498 0.5C21.7248 0.5 27.6198 5.045 29.7048 11.33L26.1498 12.5C24.5748 7.715 20.0598 4.25 14.7498 4.25C11.8098 4.25 9.15476 5.33 7.06976 7.07L10.9998 11H0.499756V0.5L4.39976 4.4C7.17476 2 10.7748 0.5 14.7498 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var ya,_a=u.forwardRef(xa);n.p;function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function wa(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ka(e,t){var n=e.title,i=e.titleId,r=wa(e,["title","titleId"]);return u.createElement("svg",Ca({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,ya||(ya=u.createElement("path",{d:"M15.4551 0.5C8.48008 0.5 2.58508 5.045 0.50008 11.33L4.05508 12.5C5.63008 7.715 10.1451 4.25 15.4551 4.25C18.3951 4.25 21.0501 5.33 23.1351 7.07L19.2051 11H29.7051V0.5L25.8051 4.4C23.0301 2 19.4301 0.5 15.4551 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var Sa=u.forwardRef(ka),Ia=(n.p,function(e){var t=e.sec,n=e.style,i=t<0?_a:Sa;return Object(kt.jsxs)("button",{style:n,className:qr.a.rewButton,onClick:function(){return xe.rewindOn(t)},children:[Object(kt.jsx)(i,{className:qr.a.arrow}),Object(kt.jsx)("span",{children:Math.abs(t)})]})}),Pa=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(_.a)(this,n),(i=t.call(this,e)).state=void 0,i.onAddCut=function(){var e=i.state.cut;e&&e.endTime-e.startTime!==0&&(Re.addCutAndShot(e),i.setState({startTime:0,endTime:0}))},i.onStartFrame=function(){var e=i.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.startTime=Re.timePosition,t.endTime<Re.timePosition&&(t.endTime=Re.timePosition+5),i.setState({cut:t})},i.onEndFrame=function(){var e=i.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.endTime=Re.timePosition,t.startTime>Re.timePosition&&(t.startTime=Re.timePosition-5),i.setState({cut:t},(function(){return i.onAddCut()}))},i.onMouseDownHandler=function(){i.setState({record:!0}),i.onStartFrame()},i.onMouseUpHandler=function(){i.setState({record:!1}),i.onEndFrame()},i.state={cut:null,playing:!1,record:!1},i}return Object(C.a)(n,[{key:"componentWillUnmount",value:function(){xe.sendTimePosition()}},{key:"render",value:function(){var e=this.state.record;return Object(kt.jsxs)("div",{className:qr.a.container,children:[G.isDev&&Object(kt.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",Re.activePlayerIndex,"/",Re.players.length-1," Cut:"," ",Re.currentCutIndex,"/",Re.currentCuts.length-1," Source:"," ",Re.currentSourceIndex,"/",Re.sources.length-1]}),Object(kt.jsx)(Ti,{store:Re}),Re.mode!==r.Show&&Re.sources.length>0?Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("div",{children:vt(Re.timePosition,!0)}),Object(kt.jsx)(fa,{}),Object(kt.jsx)(pa,{}),Re.isShowRecButton&&Object(kt.jsxs)("div",{className:qr.a.buttonsContainer,children:[[-10,-5,-1].map((function(e){return Object(kt.jsx)(Ia,{sec:e,style:{marginTop:10}},e)})),Object(kt.jsx)("button",{className:An()(qr.a.recButton,Object(Ln.a)({},qr.a.active,e)),onMouseDown:this.onMouseDownHandler,onMouseUp:this.onMouseUpHandler,children:e?"stop rec":"start rec"}),[1,5,10].map((function(e){return Object(kt.jsx)(Ia,{sec:e,style:{marginTop:10}},e)}))]}),Object(kt.jsx)(va,{})]}):Object(kt.jsx)(kt.Fragment,{children:Object(kt.jsx)("div",{className:qr.a.previewButtons,children:Object(kt.jsx)(Wi.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return xe.changeModeToCreate(0)},children:"Make your own trailer"})})})]})}}]),n}(l.a.Component),Na=Object(f.a)(Pa),Ta=n(119),La=n.n(Ta),Ba=G.agora.appId,Ea=G.agora.appToken;console.log("agora sdk version: "+La.a.VERSION+" compatible: "+La.a.checkSystemRequirements());var Aa,Ma,Va=new(function(){function e(){var t=this;Object(_.a)(this,e),this.client=void 0,this.localAudioTrack=null,this.uid=null,this.client=La.a.createClient({mode:"live",codec:"h264"}),this.client.on("user-published",function(){var e=Object(A.a)(E.a.mark((function e(n,i){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.subscribe(n,i);case 2:console.log("subscribe success"),"audio"===i&&(null===(r=n.audioTrack)||void 0===r||r.play());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}return Object(C.a)(e,[{key:"join",value:function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.join(Ba,"EyeMo",Ea);case 3:return this.uid=e.sent,e.next=6,this.client.setClientRole("host");case 6:return e.next=8,La.a.createMicrophoneAudioTrack();case 8:return this.localAudioTrack=e.sent,e.next=11,this.client.publish([this.localAudioTrack]);case 11:return e.next=13,this.disableMic();case 13:Re.isConnectedChat=!0,console.log("Publish success!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error on join to chat: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=this.localAudioTrack)||void 0===t||t.close(),e.next=4,this.client.leave();case 4:Re.isConnectedChat=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on leave chat: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"enableMic",value:function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!0);case 3:Re.isEnableMic=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on enable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableMic",value:function(){var e=Object(A.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!1);case 3:Re.isEnableMic=!1,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on disable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserCount",value:function(){return console.log("Number of users: "+this.client.getRTCStats().UserCount),this.client.getRTCStats().UserCount}}]),e}()),Da=n.p+"static/media/userIcon.401c41c6.svg",Ua=n(239),Ga=n.n(Ua),Ra=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Wa=function(){return Object(kt.jsx)("li",{className:Ga.a.item,style:{backgroundColor:Ra()},children:Object(kt.jsx)("img",{src:Da,alt:"User icon"})})},za=n.p+"static/media/mic.7674c511.svg",Fa=n.p+"static/media/mic-white.1fcdc1a6.svg",Ha=n(80),Ya=n.n(Ha),qa=Object(f.a)((function(){var e=st().editorStore,t=Object(u.useState)(!1),n=Object(Wt.a)(t,2),i=n[0],r=n[1],a=Va.getUserCount(),o=function(){var t=Object(A.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnectedChat){t.next=5;break}return t.next=3,Va.leave();case 3:t.next=7;break;case 5:return t.next=7,Va.join();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(A.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEnableMic){t.next=5;break}return t.next=3,Va.disableMic();case 3:t.next=7;break;case 5:return t.next=7,Va.enableMic();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.useEffect)((function(){r(e.isConnectedChat)}),[e.isConnectedChat]),Object(kt.jsxs)("div",{className:Ya.a.container,children:[Object(kt.jsx)("h2",{className:Ya.a.title,children:"Voice Room"}),Object(kt.jsxs)("div",{className:Ya.a.wrapper,children:[i&&a&&Object(kt.jsx)("ul",{className:Ya.a.memberList,children:Object(x.a)(Array(a)).map((function(e){return Object(kt.jsx)(Wa,{})}))}),Object(kt.jsx)(Fn,{onClick:o,text:i?"Leave":"Join the room",colorTheme:i?Rn:Gn}),Object(kt.jsxs)("div",{className:Ya.a.micBlock,children:[Object(kt.jsx)("button",{onClick:c,className:An()(Ya.a.micButton,Object(Ln.a)({},Ya.a.micOff,!e.isEnableMic)),children:Object(kt.jsx)("img",{src:e.isEnableMic?za:Fa,alt:"Mute"})}),Object(kt.jsx)("p",{children:e.isEnableMic?"You're Live":"Tap to Unmute"})]})]})]})})),Za={cuts:{},columns:{"column-1":{id:"column-1",title:"Cuts",cutIds:[]},"column-2":{id:"column-2",title:"PlayList",cutIds:[]}},columnOrder:["column-1","column-2"]},Ja=n(72),Qa=n.n(Ja),Ka=n(37),Xa=n.n(Ka),$a=n.p+"static/media/actionIcon.120e19fc.svg",eo=n.p+"static/media/actionIconActive.e6f6af32.svg",to=n.p+"static/media/duplicate.9ce441d6.svg",no=n.p+"static/media/edit.7081d9c8.svg",io=n.p+"static/media/delete.0b5bed2b.svg",ro=n(240),ao=n.n(ro),oo=function(e){var t=e.text,n=e.image,i=e.onClick;return Object(kt.jsxs)("button",{className:ao.a.container,onClick:i,children:[t&&Object(kt.jsx)("p",{children:t}),Object(kt.jsx)("img",{src:n,alt:t})]})},co=n.p+"static/media/playIcon.737e8ec2.svg",so=[{text:"Add Text",id:Ze},{text:"Add Gif",id:Je},{text:"Add Sticker",id:Qe},{text:"Add Image",id:"image"}],uo=Object(f.a)((function(e){var t=e.cut,n=e.index,i=e.isActiveShot,a=e.deleteCut,o=e.setActiveShot,c=Object(u.useRef)(null),s=Object(u.useRef)(null),l=Object(u.useState)(!1),d=Object(Wt.a)(l,2),p=d[0],m=d[1],b=st(),f=b.editorStore,h=b.userStore,j=Object(u.useState)(!1),v=Object(Wt.a)(j,2),O=v[0],g=v[1],x=Object(u.useState)(!1),y=Object(Wt.a)(x,2),_=y[0],C=y[1];Object(u.useEffect)((function(){n===f.currentCutIndex?C(!0):C(!1)}),[f.currentCutIndex,n]);var w=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),f.createCurrentCuts(f.shotCuts),e.next=4,xe.playOne(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=s.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},S=function(){var e=s.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};Object(u.useEffect)((function(){var e=c.current;return e&&(e.addEventListener("mouseover",(function(){m(!0),k()})),e.addEventListener("mouseout",(function(){m(!1),S()}))),function(){e&&(e.removeEventListener("mouseover",(function(){k()})),e.removeEventListener("mouseout",(function(){S()})))}}),[c]);var I=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.id),f.mode=r.EditGifs,f.activeCutIndex=n,f.currentCutIndex=n,f.selectedGifId=null,f.editCutIndex!==f.currentCutIndex&&(f.editCutIndex=null),f.createCurrentCuts(f.shotCuts),e.next=9,xe.preloadCut(f.activePlayerIndex,n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(A.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,I();case 3:f.mode=r.EditShot,f.editCutIndex=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Bn(c,O,g),Object(kt.jsxs)("div",{className:Xa.a.container,ref:c,onClick:I,children:[Object(kt.jsxs)("div",{className:An()(Xa.a.actionBlock,Object(Ln.a)({},Xa.a.isActive,O)),children:[Object(kt.jsx)("img",{src:$a,alt:"Action icon",className:Xa.a.defaultIcon}),Object(kt.jsx)("img",{src:eo,alt:"Action icon",className:Xa.a.activeIcon}),Object(kt.jsx)("div",{className:Xa.a.listWrapper,children:Object(kt.jsx)("ul",{className:Xa.a.list,children:so.map((function(e){var t=e.text,n=e.id;return Object(kt.jsx)("li",{className:Xa.a.listItem,children:Object(kt.jsx)("button",{onClick:function(){return function(e){h.changeTab(e),h.setIsShowContent(!0)}(n)},children:t})},n)}))})})]}),Object(kt.jsxs)("div",{className:An()(Xa.a.videoWrapper,Object(Ln.a)({},Xa.a.isActive,O||i||_)),children:[Object(kt.jsx)("div",{className:Xa.a.block,children:Object(kt.jsxs)("div",{className:Xa.a.blockContent,children:[Object(kt.jsx)("div",{className:Xa.a.topButtons,children:Object(kt.jsx)(oo,{image:io,onClick:function(e){e.stopPropagation(),a(t.id)}})}),Object(kt.jsxs)("div",{className:Xa.a.buttomButtons,children:[Object(kt.jsx)(oo,{text:"Duplicate",image:to,onClick:function(){f.shotCuts.push(Object(L.a)(Object(L.a)({},f.shotCuts[n]),{},{id:Object(N.a)()})),f.createCurrentCuts(f.shotCuts)}}),Object(kt.jsx)(oo,{text:"Edit",image:no,onClick:P})]})]})}),Object(kt.jsx)("div",{className:Xa.a.player,children:Object(kt.jsx)(qt.a,{ref:s,width:"100%",height:"100%",url:t.url,muted:!0,controls:!1,onEnded:function(){return e=t.time.startTime,s.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.time.startTime),end:Math.floor(t.time.endTime)}}}},t.id)})]}),Object(kt.jsx)("button",{onClick:w,className:An()(Xa.a.playButton,Object(Ln.a)({},Xa.a.isVisible,p)),children:Object(kt.jsx)("img",{src:co,alt:"Play icon"})})]})})),lo=n.p+"static/media/play.a44af37e.svg",po=n(177),mo=n.n(po),bo=Object(f.a)((function(){var e=Object(u.useState)(!1),t=Object(Wt.a)(e,2),n=t[0],i=t[1],r=Object(u.useState)(!1),a=Object(Wt.a)(r,2),o=a[0],c=a[1],s=st().editorStore,l=function(){var e=Object(A.a)(E.a.mark((function e(t){var n,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t({id:s.videoId,name:null,description:null,cuts:s.shotCuts,sources:s.sources,gifs:s.gifs});case 4:n=e.sent,i=n.data,s.videoId||(s.videoId=i.id),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(kt.jsxs)("div",{className:mo.a.container,children:[Object(kt.jsx)(Fn,{text:"Clear store",onClick:function(){return s.clearStore()},colorTheme:Gn,disabled:o}),Object(kt.jsxs)("div",{className:mo.a.rightBtnGroup,children:[Object(kt.jsx)(Fn,{text:s.videoId?"Update":"Save",onClick:function(){return l(s.videoId?ge.updateVideo:ge.createVideo)},colorTheme:Gn}),Object(kt.jsx)(Tn.a,{text:s.shareUrl(s.videoId)||"",onCopy:function(){i(!0),setTimeout((function(){return i(!1)}),3e3),gtag("event","url-copy",{url:s.shareUrl})},children:Object(kt.jsx)(Fn,{text:n?"Copied":"Share",colorTheme:Gn,disabled:!s.videoId})})]})]})})),fo=n(103),ho=n.n(fo);function jo(){return(jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function vo(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oo(e,t){var n=e.title,i=e.titleId,r=vo(e,["title","titleId"]);return u.createElement("svg",jo({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,Aa||(Aa=u.createElement("rect",{x:9.42822,width:3.14289,height:22.0002,rx:1.57144,fill:"#00A3FF"})),Ma||(Ma=u.createElement("rect",{x:22,y:9.42871,width:3.14289,height:22.0002,rx:1.57144,transform:"rotate(90 22 9.42871)",fill:"#00A3FF"})))}var go,xo,yo,_o=u.forwardRef(Oo),Co=(n.p,Object(f.a)((function(){var e=st(),t=e.userStore,n=e.editorStore,i=Object(u.useRef)(null),r=Object(u.useState)(!1),a=Object(Wt.a)(r,2),o=a[0],c=a[1];Bn(i,o,c);var s=function(){var e=Object(A.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeTab(qe),e.next=3,xe.changeModeToCreate(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(kt.jsxs)("div",{ref:i,className:An()(ho.a.container,Object(Ln.a)({},ho.a.isActive,o)),children:[n.sources.length>0&&Object(kt.jsx)("ul",{className:ho.a.list,children:n.sources.map((function(e,t){return Object(kt.jsx)("li",{className:ho.a.listItem,children:Object(kt.jsxs)("button",{onClick:function(){return s(t)},children:["Source ",t+1]})},e.id)}))}),Object(kt.jsx)("div",{className:ho.a.dashContainer,children:Object(kt.jsx)(_o,{})})]})}))),wo=n(43),ko=n.n(wo);function So(){return(So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Io(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Po(e,t){var n=e.title,i=e.titleId,r=Io(e,["title","titleId"]);return u.createElement("svg",So({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,go||(go=u.createElement("path",{d:"M9 13C9 14.105 7.88 15 6.5 15C5.12 15 4 14.105 4 13C4 11.895 5.12 11 6.5 11C7.88 11 9 11.895 9 13Z",fill:"#A5B4CB"})),xo||(xo=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3V13H8V3H9Z",fill:"#A5B4CB"})),yo||(yo=u.createElement("path",{d:"M8 2.8201C8.00014 2.58901 8.08031 2.3651 8.22689 2.18643C8.37346 2.00777 8.57739 1.88539 8.804 1.8401L11.804 1.2401C11.949 1.21111 12.0987 1.21465 12.2422 1.25047C12.3856 1.28628 12.5194 1.35347 12.6338 1.44721C12.7482 1.54094 12.8404 1.65888 12.9037 1.79253C12.967 1.92618 12.9999 2.07221 13 2.2201V4.0001L8 5.0001V2.8201Z",fill:"#A5B4CB"})))}var No=u.forwardRef(Po),To=(n.p,n(241)),Lo=n.n(To),Bo=Object(f.a)((function(e){var t=e.onToggle,n=st().editorStore,i=Object(u.useState)([0,0]),r=Object(Wt.a)(i,2),a=r[0],o=r[1],c=Object(u.useState)([0,0]),s=Object(Wt.a)(c,2),l=s[0],d=s[1];Object(u.useEffect)((function(){if(n.audioCut){var e=n.audioCut.time,t=e.startTime,i=e.endTime;o([t,i]);var r=xe.getAudioPlayerDuration();d([0,r])}}),[n.audioCut]);var p=function(e,t){null!==n.audioCut&&(t[0]!==a[0]&&t[0]<a[1]?(n.audioCut.time.startTime=a[0],o([t[0],a[1]]),xe.moveToAudioPosition(t[0])):t[1]!==a[1]&&t[1]>a[0]&&(n.audioCut.time.endTime=a[1],o([a[0],t[1]])))};return Object(kt.jsxs)("div",{className:ko.a.editContainer,children:[Object(kt.jsx)(Zr.a,{"aria-label":"play",classes:{root:ko.a.playBtn},onClick:function(){n.audioPlayer.playing?xe.pauseAudio():xe.startAudio()},children:n.audioPlayer.playing?Object(kt.jsx)(Lo.a,{}):Object(kt.jsx)(Qr.a,{})}),Object(kt.jsx)("span",{className:ko.a.duration,children:vt(a[1]-a[0],!0)}),Object(kt.jsx)(ua,{value:a,onChange:p,onWheel:function(e,t,n){var i={hours:3600,mins:60,seconds:1,fract:.1}[t],r=a.slice();if(n.deltaY<0){if(r[e]=r[e]+i,r[e]>l[1])return;p(0,r)}else{if(r[e]=r[e]-i,r[e]<l[0])return;p(0,r)}},max:l[1],min:l[0],step:.1}),Object(kt.jsx)("div",{className:ko.a.btn,children:Object(kt.jsx)(Fn,{text:"Close",withBorder:!0,onClick:t})})]})})),Eo=n(242),Ao=n.n(Eo),Mo=n.p+"static/media/Delete.ed531fe5.svg",Vo=n.p+"static/media/Volume.79fd8636.svg",Do=Object($r.a)({root:{},track:{backgroundColor:"#00a3ff"},thumb:{backgroundColor:"#00a3ff"}})(ta.a),Uo=Object(f.a)((function(){var e,t=st().editorStore;return Object(kt.jsx)(l.a.Fragment,{children:Object(kt.jsx)("div",{className:ko.a.volumeSlider,children:Object(kt.jsx)(Do,{value:(null===(e=t.audioCut)||void 0===e?void 0:e.volume)||1,max:1,min:0,orientation:"vertical","aria-labelledby":"vertical-slider",step:.01,onChange:function(e,n){t.audioCut&&(t.audioCut.volume=n)}})})})})),Go=Object(f.a)((function(e){var t,n=st().editorStore,i=Object(u.useState)(!1),r=Object(Wt.a)(i,2),a=r[0],o=r[1],c=Object(u.useState)((null===(t=n.audioCut)||void 0===t?void 0:t.url)||""),s=Object(Wt.a)(c,2),l=s[0],d=s[1],p=Object(u.useState)(!0),m=Object(Wt.a)(p,2),b=m[0],f=m[1],h=Object(u.useState)(!1),j=Object(Wt.a)(h,2),v=j[0],O=j[1];Object(u.useEffect)((function(){n.audioPlayer.url=l}),[l,n.audioPlayer]);return Object(kt.jsxs)("div",{className:ko.a.container,children:[!a&&Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("input",{value:l,className:An()(ko.a.input,Object(Ln.a)({},ko.a.inBlur,b&&l)),placeholder:"Insert the link to the audio (Youtube or SoundCloud)",onChange:function(e){d(e.target.value)},onFocus:function(){return f(!1)},onBlur:function(){return f(!0)}}),Object(kt.jsx)(No,{className:An()(ko.a.note,Object(Ln.a)({},ko.a.inBlur,b&&l))}),Object(kt.jsxs)("div",{className:ko.a.volumeContainer,children:[Object(kt.jsx)(Zr.a,{disabled:!n.audioCut,"aria-label":"thumbUp",onClick:function(){O(!v)},children:Object(kt.jsx)("img",{src:Vo,alt:"volume"})}),v&&Object(kt.jsx)(Uo,{})]}),Object(kt.jsx)(Zr.a,{disabled:!n.audioCut,"aria-label":"thumbUp",onClick:function(){o(!0)},children:Object(kt.jsx)(Ao.a,{className:ko.a.editBtn})}),Object(kt.jsx)(Zr.a,{disabled:!n.audioCut,"aria-label":"delete",onClick:function(){d(""),n.audioCut=null},children:Object(kt.jsx)("img",{src:Mo,alt:"delete"})})]}),a&&Object(kt.jsx)(Bo,{onToggle:function(){return o(!a)}})]})})),Ro=Object(f.a)((function(e){var t=e.droppableId,n=e.isShowDuration,i=e.deleteCut,r=st(),a=r.editorStore,o=r.userStore,c=Object(u.useState)(null),s=Object(Wt.a)(c,2),l=s[0],d=s[1],p=a.shotCuts.reduce((function(e,t){return t.time?e+t.time.endTime-t.time.startTime:e}),0),m=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.playAll();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){i(e)};return console.log(o.isDragStart),Object(kt.jsxs)("div",{className:An()(Qa.a.container,Object(Ln.a)({},Qa.a.isShowDuration,n)),children:[Object(kt.jsxs)("div",{className:Qa.a.player,children:[Object(kt.jsxs)("div",{className:Qa.a.playInfo,children:[Object(kt.jsx)("button",{className:Qa.a.playButton,onClick:m,children:Object(kt.jsx)("img",{src:lo,alt:"Play icon"})}),Object(kt.jsx)("p",{children:vt(p)})]}),Object(kt.jsxs)("div",{className:Qa.a.roads,children:[Object(kt.jsx)($i.c,{droppableId:t,direction:"horizontal",children:function(e){return Object(kt.jsxs)("div",Object(L.a)(Object(L.a)({className:An()(Qa.a.wrapper,Object(Ln.a)({},Qa.a.isDragStart,o.isDragStart))},e.droppableProps),{},{ref:e.innerRef,children:[a.shotCuts.map((function(e,t){return Object(kt.jsx)($i.b,{draggableId:e.id,index:t,children:function(n){return Object(kt.jsx)("div",Object(L.a)(Object(L.a)(Object(L.a)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:Object(kt.jsx)(uo,{index:t,cut:e,isActiveShot:l===e.id,deleteCut:b,setActiveShot:d},e.id)}))}},e.id)})),Object(kt.jsx)(Co,{})]}))}}),Object(kt.jsx)(Go,{})]})]}),Object(kt.jsx)(bo,{})]})})),Wo=Object(f.a)((function(){var e=st(),t=e.editorStore,n=e.userStore,i=e.uiStore,a=Object(u.useState)(Za),o=Object(Wt.a)(a,2),c=o[0],s=o[1];Object(u.useEffect)((function(){i.isLoadingApp||(i.isLoadingApp=!0)}),[]);var l=function(){var e=Object(A.a)(E.a.mark((function e(n){var i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.changeModeToCreate(0);case 2:t.removeShotCut(n),i=Object(L.a)(Object(L.a)({},c),{},{columns:Object(L.a)(Object(L.a)({},c.columns),{},Object(Ln.a)({},"column-2",Object(L.a)(Object(L.a)({},c.columns["column-2"]),{},{cutIds:c.columns["column-2"].cutIds.filter((function(e){return e!==n}))})))}),s(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(kt.jsx)($i.a,{onDragEnd:function(e){var i=e.destination,r=e.source,a=e.draggableId;if(n.setDragStart(!1),i&&(i.droppableId!==r.droppableId||i.index!==r.index)){if(c.columns[r.droppableId]===c.columns[i.droppableId])return t.replaceShot(a,r.index,i.index);t.addShot(a)}},onDragStart:function(){return n.setDragStart(!0)},children:Object(kt.jsxs)("div",{className:tr.a.content,children:[Object(kt.jsxs)("div",{className:tr.a.contentWrapper,children:[t.mode!==r.Show&&Object(kt.jsx)(Hr,{}),Object(kt.jsxs)("div",{className:tr.a.playerPanel,children:[Object(kt.jsx)(Na,{}),t.mode===r.Show&&Object(kt.jsx)(qa,{})]})]}),t.mode!==r.Show&&Object(kt.jsx)(Ro,{droppableId:c.columns["column-2"].id,deleteCut:l,isShowDuration:null!==t.activeCutIndex})]})})})),zo=n(252),Fo=function(e){var t=e.component,n=e.permitted,i=e.path,r=Object(zo.a)(e,["component","permitted","path"]);return Object(kt.jsx)(j.b,Object(L.a)(Object(L.a)({},r),{},{render:function(e){return n?Object(kt.jsx)(t,Object(L.a)(Object(L.a)({path:i},e),{},{exact:!0})):Object(kt.jsx)(j.a,{to:"/"})}}))},Ho=function(){return Object(kt.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})},Yo=n.p+"static/media/defaultImage.747489c0.svg",qo=n(120),Zo=n.n(qo),Jo=n(243),Qo=n.n(Jo),Ko=function(e){var t=e.children,n=e.onClick;return Object(kt.jsx)("button",{className:Qo.a.button,onClick:n,type:"button",children:t})},Xo=Object(f.a)((function(){var e,t=st().userStore,n=function(){var e=Object(A.a)(E.a.mark((function e(n){var i,r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("file",n),e.prev=2,e.next=5,ge.uploadAvatar(i);case 5:r=e.sent,(a=r.data).url&&t.modifiedUser&&(t.modifiedUser.photoUrl=a.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),i=l.a.useRef(null),r=(null===(e=t.modifiedUser)||void 0===e?void 0:e.photoUrl)?t.modifiedUser.photoUrl:Yo;return Object(kt.jsxs)("div",{className:Zo.a.container,children:[Object(kt.jsx)("p",{className:Zo.a.title,children:"Profile picture"}),Object(kt.jsxs)("div",{className:Zo.a.imageUploader,children:[Object(kt.jsx)("div",{className:Zo.a.imageWrapper,children:Object(kt.jsx)("img",{src:r,alt:"User avatar"})}),Object(kt.jsx)(Ko,{onClick:function(e){i.current&&i.current.click()},children:"Change"}),Object(kt.jsx)("input",{type:"file",ref:i,onChange:function(e){var t,i=new FileReader,r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(i.onloadend=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.readAsDataURL(r))},style:{display:"none"}})]})]})})),$o=n(35),ec=n.n($o),tc=n(244),nc=n.n(tc),ic=n(178),rc=n.n(ic),ac=[{network:o.Discord,check:function(e){return/^https:\/\/discord\.com\/\w+/.test(e)}},{network:o.Instagram,check:function(e){return/^https:\/\/www\.instagram\.com\/\w+/.test(e)}},{network:o.Facebook,check:function(e){return/^https:\/\/www\.facebook\.com\/\w+/.test(e)}},{network:o.Reddit,check:function(e){return/^https:\/\/www\.reddit\.com\/\w+/.test(e)}},{network:o.Telegram,check:function(e){return/^https:\/\/t\.me\/\w+/.test(e)}},{network:o.TikTok,check:function(e){return/^https:\/\/www\.tiktok\.com\/\w+/.test(e)}},{network:o.Twitch,check:function(e){return/^https:\/\/www\.twitch\.tv\/\w+/.test(e)}},{network:o.Twitter,check:function(e){return/^https:\/\/twitter\.com\/\w+/.test(e)}},{network:o.YouTube,check:function(e){return/^https:\/\/www\.youtube\.com\/\w+/.test(e)}},{network:o.HomePage,check:function(e){return/^https:\/\/\w+/.test(e)}}],oc=function(e,t){for(var n=0;n<ac.length;n+=1)if(ac[n].network===t&&ac[n].check(e))return!0;return!1},cc=(c.SoundCloud,s.Audio,c.YouTube,s.Video,Object(f.a)((function(e){var t=e.icon,n=e.title,i=e.name,r=st().userStore,a=Object(u.createRef)(),o=Object(u.useState)(!1),c=Object(Wt.a)(o,2),s=c[0],l=c[1],d=Object(u.useState)(""),p=Object(Wt.a)(d,2),m=p[0],b=p[1];return Object(u.useEffect)((function(){s&&a.current&&a.current.focus()})),Object(u.useEffect)((function(){!function(){if(r.modifiedUser)for(var e=0;e<r.modifiedUser.socialNetworks.length;e+=1)if(r.modifiedUser.socialNetworks[e].type===i)return void b(r.modifiedUser.socialNetworks[e].url)}()}),[r.modifiedUser,i]),Object(u.useEffect)((function(){!function(){if(r.modifiedUser){for(var e=0;e<r.modifiedUser.socialNetworks.length;e+=1)if(r.modifiedUser.socialNetworks[e].type===i)return void(r.modifiedUser.socialNetworks[e].url=m);r.modifiedUser.socialNetworks.push({type:i,url:m})}}()}),[i,m,r.modifiedUser]),s?Object(kt.jsx)("div",{className:rc.a.input,onBlur:function(){l(!1),oc(m,i)||b("")},children:Object(kt.jsx)(pr,{ref:a,value:m,onChange:b,placeholder:"Insert ".concat(n," link"),errorList:[""===m||oc(m,i)?null:"Invalid link"]})}):Object(kt.jsxs)("button",{className:rc.a.button,onClick:function(){l(!0)},children:[Object(kt.jsx)("img",{src:t,alt:"icon"}),Object(kt.jsx)("span",{children:n})]})}))),sc=n.p+"static/media/TikTok.1b981bfc.svg",uc=n.p+"static/media/YouTube.9d663bf7.svg",lc=n.p+"static/media/Facebook.65c220e8.svg",dc=n.p+"static/media/Discord.53f71c3b.svg",pc=n.p+"static/media/Home.05359e9c.svg",mc=n.p+"static/media/Instagram.0a636917.svg",bc=n.p+"static/media/Reddit.7cbb36e7.svg",fc=n.p+"static/media/Telegram.f658dd71.svg",hc=n.p+"static/media/Twitch.ac06922a.svg",jc=n.p+"static/media/Twitter.96eb61d4.svg",vc=[{name:o.Discord,icon:dc,title:"Discord"},{name:o.Instagram,icon:mc,title:"Instagram"},{name:o.Facebook,icon:lc,title:"Facebook"},{name:o.Reddit,icon:bc,title:"Reddit"},{name:o.Telegram,icon:fc,title:"Telegram"},{name:o.Twitch,icon:hc,title:"Twitch"},{name:o.TikTok,icon:sc,title:"Tik Tok"},{name:o.Twitter,icon:jc,title:"Twitter"},{name:o.YouTube,icon:uc,title:"YouTube"},{name:o.HomePage,icon:pc,title:"HomePage"}],Oc=function(){return Object(kt.jsx)("div",{children:Object(kt.jsx)("ul",{className:nc.a.socials,children:vc.map((function(e){return Object(kt.jsx)(cc,{icon:e.icon,title:e.title,name:e.name},e.name)}))})})},gc=Object(f.a)((function(){var e,t,n,i,r,a=st(),o=a.editorStore,c=a.userStore,s=Object(u.useState)(!1),l=Object(Wt.a)(s,2),d=l[0],p=l[1],m=Object(u.useState)(!1),b=Object(Wt.a)(m,2),f=b[0],h=b[1],v=Object(u.useState)(!0),O=Object(Wt.a)(v,2),g=O[0],y=O[1],_=Object(u.useRef)(null),C=Object(j.g)(),w=function(){return p(!d)},k=function(){var e=Object(A.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.getUserProfile();case 3:t=e.sent,n=t.data,c.modifiedUser=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(A.a)(E.a.mark((function e(){var t,n,i,r,a,o,s,u,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.modifiedUser){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,t=c.modifiedUser,n=t.username,i=t.lastName,r=t.firstName,a=t.about,o=t.photoUrl,s=t.socialNetworks,e.next=7,ge.updateUserProfile({username:n,firstName:r,lastName:i,about:a,photoUrl:o,socialNetworks:s.reduce((function(e,t){return""!==t.url?[].concat(Object(x.a)(e),[{url:t.url}]):e}),[])});case 7:return e.next=9,ge.getUserProfile();case 9:u=e.sent,l=u.data,c.user=l,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){k()}),[]),Object(u.useEffect)((function(){clearTimeout(_.current),_.current=setTimeout(Object(A.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.modifiedUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ge.checkUsername(c.modifiedUser.username);case 4:t=e.sent,n=t.data,y(n.isFree);case 7:case"end":return e.stop()}}),e)}))),2e3)}),[null===(e=c.modifiedUser)||void 0===e?void 0:e.username]),Object(kt.jsxs)("div",{className:ec.a.container,children:[Object(kt.jsx)("p",{className:ec.a.description,children:"You can see the specified information in your profile"}),Object(kt.jsxs)("form",{children:[Object(kt.jsx)("div",{className:ec.a.field,children:Object(kt.jsx)(Xo,{})}),Object(kt.jsxs)("div",{className:ec.a.field,children:[Object(kt.jsx)("p",{className:ec.a.fieldTitle,children:"Username"}),Object(kt.jsx)(pr,{value:null===(t=c.modifiedUser)||void 0===t?void 0:t.username,onChange:function(e){c.modifiedUser&&(c.modifiedUser.username=e)},errorList:[g?null:"This username is not free"]})]}),Object(kt.jsxs)("div",{className:ec.a.field,children:[Object(kt.jsx)("p",{className:ec.a.fieldTitle,children:"First name"}),Object(kt.jsx)(pr,{value:null===(n=c.modifiedUser)||void 0===n?void 0:n.firstName,onChange:function(e){c.modifiedUser&&(c.modifiedUser.firstName=e)}})]}),Object(kt.jsxs)("div",{className:ec.a.field,children:[Object(kt.jsx)("p",{className:ec.a.fieldTitle,children:"Last name"}),Object(kt.jsx)(pr,{value:null===(i=c.modifiedUser)||void 0===i?void 0:i.lastName,onChange:function(e){c.modifiedUser&&(c.modifiedUser.lastName=e)}})]}),Object(kt.jsxs)("div",{className:ec.a.field,children:[Object(kt.jsx)("p",{className:ec.a.fieldTitle,children:"About"}),Object(kt.jsx)(pr,{value:(null===(r=c.modifiedUser)||void 0===r?void 0:r.about)||"",onChange:function(e){c.modifiedUser&&(c.modifiedUser.about=e)}})]}),Object(kt.jsxs)("div",{className:"".concat(ec.a.field," ").concat(ec.a.fieldBlock),children:[Object(kt.jsx)("p",{className:ec.a.fieldTitle,children:"Social networks"}),Object(kt.jsx)("p",{className:ec.a.description,children:"Add links to social networks that will appear on the channel profile. Viewers will also be able to search for you by them."})]}),Object(kt.jsx)("div",{className:ec.a.socialsWrapper,children:Object(kt.jsx)(Oc,{})}),Object(kt.jsxs)("div",{className:ec.a.buttons,children:[Object(kt.jsx)("button",{type:"button",className:ec.a.deleteButton,onClick:w,children:"Delete account"}),Object(kt.jsx)(Fn,{type:"button",text:"Save changes",colorTheme:Gn,onClick:S,disabled:!g||f})]})]}),Object(kt.jsx)(ei,{title:"Delete account?",confirmBtnText:"Delete account",onConfirm:function(){ge.deleteUserProfile().then((function(){o.clearStore(),c.clearStore(),C.push("/")})).catch((function(e){return console.error(e)}))},description:"Are you sure you want to delete your account?",onCancel:w,isOpen:d,toggleModal:w})]})})),xc=function(){return Object(kt.jsx)("div",{children:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"})},yc=n(150),_c=n.n(yc),Cc=function(e){var t=e.tabs,n=e.url;return Object(kt.jsx)("div",{className:_c.a.container,children:t.map((function(e){return Object(kt.jsx)(h.c,{exact:!0,to:"".concat(n).concat(e.path),className:_c.a.link,activeClassName:_c.a.active,children:e.title},e.id)}))})},wc=function(){return Object(kt.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})},kc=n(179),Sc=n.n(kc),Ic=[{title:"Change profile",id:"profileChange",path:""},{title:"Account settings",id:"account",path:"/account"},{title:"Security",id:"security",path:"/security"},{title:"Statistics",id:"statistics",path:"/statistics"}],Pc=function(){var e=Object(j.j)().url;return Object(kt.jsx)(Dt,{children:Object(kt.jsxs)("div",{className:Sc.a.container,children:[Object(kt.jsx)(Cc,{tabs:Ic,url:e}),Object(kt.jsx)("div",{className:Sc.a.content,children:Object(kt.jsxs)(j.d,{children:[Object(kt.jsx)(j.b,{path:e,exact:!0,component:gc}),Object(kt.jsx)(j.b,{path:"".concat(e,"/account"),component:Ho}),Object(kt.jsx)(j.b,{path:"".concat(e,"/security"),component:xc}),Object(kt.jsx)(j.b,{path:"".concat(e,"/statistics"),component:wc})]})})]})})},Nc=n.p+"static/media/logo.79d236b0.svg",Tc=n(121),Lc=n.n(Tc),Bc=n(245),Ec=n.n(Bc),Ac=n(246),Mc=G.google.clientId,Vc=Object(f.a)((function(e){var t=e.onLogin,n=e.onError;return Object(kt.jsx)("div",{children:Object(kt.jsx)(Ac.GoogleLogin,{clientId:Mc,buttonText:"Sign in with Google",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin",responseType:"code,token"})})})),Dc=n(180),Uc=n.n(Dc),Gc=function(e){var t=e.isOpen,n=e.isError,i=e.login,r=e.handleClose,a=e.handleLoginFailure;return Object(kt.jsx)($n,{isOpen:t,toggleModal:r,children:Object(kt.jsx)("div",{className:Uc.a.container,children:Object(kt.jsxs)("div",{className:Uc.a.content,children:[Object(kt.jsx)("p",{children:"Sign In"}),Object(kt.jsx)(Vc,{onLogin:i,onError:a}),n&&Object(kt.jsx)("p",{children:"Failed to log in"})]})})})},Rc=n.p+"static/media/exit.87219332.svg",Wc=n.p+"static/media/privacy.cd98d081.svg",zc=n.p+"static/media/settings.a9f0c8ed.svg",Fc=n(58),Hc=n.n(Fc),Yc=function(e){var t=e.data,n=t.image,i=t.id,r=t.title;return Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)("div",{className:Hc.a.imageWrapper,children:Object(kt.jsx)("img",{src:n,alt:"Icon",className:"user"===i?Hc.a.image:Hc.a.buttonImage})}),Object(kt.jsx)("span",{className:Hc.a.buttonText,children:r})]})},qc=function(e){var t=e.id,n=e.action;switch(t){case"settings":return Object(kt.jsx)(h.c,{to:"/settings",className:Hc.a.button,children:Object(kt.jsx)(Yc,{data:e})});default:return Object(kt.jsx)("button",{className:Hc.a.button,onClick:n,children:Object(kt.jsx)(Yc,{data:e})})}},Zc=Object(f.a)((function(e){var t=e.user,n=e.isProfilePage,i=e.logout,r=[{title:"See terms and privacy",id:"privacy",image:Wc,action:function(){return console.log("Privacy")}},{title:"Settings",id:"settings",image:zc,action:function(){return console.log("Settings")}},{title:"Log Out",id:"exit",image:Rc,action:function(){return i()}}];return Object(kt.jsxs)("div",{className:Hc.a.userBlock,children:[Object(kt.jsx)(h.c,{to:"/profile",children:Object(kt.jsx)("img",{src:t.photoUrl||"",alt:"",className:An()(Hc.a.image,Object(Ln.a)({},Hc.a.withBorder,!n))})}),Object(kt.jsx)("ul",{className:Hc.a.dropdown,children:r.map((function(e,t){return Object(kt.jsx)("li",{className:Hc.a.dropdownItem,children:qc(e)},e.id)}))})]})})),Jc=Object(f.a)((function(e){var t=e.isProfilePage,n=st().userStore,i=Object(u.useState)(!1),r=Object(Wt.a)(i,2),a=r[0],o=r[1],c=Object(u.useState)(!1),s=Object(Wt.a)(c,2),l=s[0],d=s[1],p=function(){var e=Object(A.a)(E.a.mark((function e(t){var i,r,a,o,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.tokenId){e.next=3;break}return e.abrupt("return");case 3:return n.googleToken=i,e.prev=4,e.next=7,ge.postLogin();case 7:return r=e.sent,a=r.data,n.tokens=a.tokens,e.next=12,ge.getUserProfile();case 12:o=e.sent,c=o.data,n.user=c,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),d(!0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(A.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.postLogout();case 3:n.logout(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(kt.jsx)("div",{className:Ec.a.container,children:n.user?Object(kt.jsx)(Zc,{user:n.user,isProfilePage:t,logout:m}):Object(kt.jsxs)(kt.Fragment,{children:[Object(kt.jsx)(Wi.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},style:{fontSize:"10px"},children:"Sign In"}),Object(kt.jsx)(Gc,{isOpen:a,handleClose:function(){o(!1)},login:p,isError:l,handleLoginFailure:function(e){d(!0)}})]})})})),Qc=n.p+"static/media/bell.9a40fa42.svg",Kc=n(81),Xc=n.n(Kc),$c=function(e){var t=e.item,n=t.time,i=t.image,r=t.title,a=t.viewed;return Object(kt.jsxs)("div",{className:Xc.a.item,children:[i?Object(kt.jsx)("img",{src:i,alt:"Notification image",className:Xc.a.image}):Object(kt.jsx)("div",{className:Xc.a.imageMock}),Object(kt.jsxs)("div",{className:Xc.a.notificationContent,children:[Object(kt.jsx)("p",{className:Xc.a.text,children:r}),Object(kt.jsx)("p",{className:Xc.a.time,children:n})]}),!a&&Object(kt.jsx)("div",{className:Xc.a.notViewed})]})},es=n(104),ts=n.n(es),ns=[{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"}],is=function(){return Object(kt.jsxs)("div",{className:ts.a.container,children:[Object(kt.jsxs)("div",{className:ts.a.topBlock,children:[Object(kt.jsx)("p",{className:ts.a.title,children:"Notification"}),Object(kt.jsx)("button",{className:ts.a.seeAll,children:"See all"})]}),Object(kt.jsx)("ul",{className:ts.a.list,children:ns.map((function(e,t){return Object(kt.jsx)($c,{item:e},t)}))})]})},rs=n(181),as=n.n(rs),os=function(){return Object(kt.jsxs)("div",{className:as.a.notificationBlock,children:[Object(kt.jsx)("button",{children:Object(kt.jsx)("img",{src:Qc,alt:"Notifications"})}),Object(kt.jsx)("div",{className:as.a.notifications,children:Object(kt.jsx)(is,{})})]})},cs=function(){var e=st().userStore.user,t=Object(j.h)().pathname;return Object(kt.jsxs)("header",{className:Lc.a.header,children:[Object(kt.jsx)(h.c,{to:"/feed",children:Object(kt.jsx)("img",{src:Nc,alt:"logo eyemo"})}),Object(kt.jsxs)("div",{className:Lc.a.rightBlock,children:[Object(kt.jsxs)("div",{className:Lc.a.buttons,children:["/"!==t&&Object(kt.jsx)("div",{className:Lc.a.createClip,children:Object(kt.jsx)(h.c,{to:"/",children:Object(kt.jsx)(Ko,{children:"Create a Clip"})})}),e&&Object(kt.jsx)(os,{})]}),Object(kt.jsx)(Jc,{isProfilePage:"/profile"===t})]})]})},ss=(n(428),Object(f.a)((function(e){var t=st(),n=t.playerStore,i=t.uiStore,r=Object(j.i)().shareVideoId;Object(u.useEffect)((function(){i.showHeader=!1}),[i]);var a=Object(u.useCallback)((function(){ge.getVideoById(r).then((function(e){var t=e.data;n.clearStore(),n.loadVideoToStore(t)})).catch((function(e){return console.error(e)}))}),[n,r]);return Object(u.useEffect)((function(){r&&a()}),[r,a]),Object(kt.jsx)("div",{children:Object(kt.jsx)(Ti,{store:n})})}))),us=n(247),ls=n.n(us),ds=n.p+"static/media/mock.3ba98806.png",ps=n.p+"static/media/1.494e324d.png",ms=n.p+"static/media/2.827c43e5.png",bs=n.p+"static/media/3.bbd187b7.png",fs=n.p+"static/media/4.b8c96479.png",hs=n.p+"static/media/5.b2adc354.png",js=[{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ds,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ds},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ps,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ps},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:ms,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:ms},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:bs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:bs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:fs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:fs},{title:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Possimus, necessitatibus.",user:{name:"Semen",image:hs,nickName:"@semen666",caption:"Lorem ipsum dolor sit amet consectetur adipisicing elit"},duration:1567,image:hs}],vs=n(66),Os=n.n(vs),gs=function(e){var t=e.user,n=t.name,i=t.nickName,r=t.caption,a=t.duration,o=t.image;return Object(kt.jsxs)("div",{className:Os.a.container,children:[Object(kt.jsxs)("div",{className:Os.a.userCaption,children:[Object(kt.jsxs)("div",{className:Os.a.topBlock,children:[Object(kt.jsx)("img",{src:o,alt:"User image",className:Os.a.userImage}),Object(kt.jsx)("div",{className:Os.a.notification})]}),Object(kt.jsx)("p",{className:Os.a.userName,children:n}),Object(kt.jsx)("p",{className:Os.a.nickName,children:i}),Object(kt.jsx)("p",{className:Os.a.caption,children:r})]}),Object(kt.jsxs)("p",{className:Os.a.duration,children:[a," sec."]})]})},xs=n(54),ys=n.n(xs),_s=function(e){var t=e.item,n=t.title,i=t.user,r=t.duration,a=t.image;return Object(kt.jsxs)("li",{className:ys.a.item,children:[Object(kt.jsx)("div",{className:ys.a.wrapper,children:Object(kt.jsx)("img",{src:a,alt:"user video",className:ys.a.videoImage})}),Object(kt.jsxs)("div",{className:ys.a.infoBlock,children:[Object(kt.jsxs)("div",{className:ys.a.imageWrapper,children:[Object(kt.jsx)("img",{src:i.image,alt:"user",className:ys.a.userImage}),Object(kt.jsx)("div",{className:ys.a.userInfo,children:Object(kt.jsx)(gs,{user:Object(L.a)(Object(L.a)({},i),{},{duration:r})})})]}),Object(kt.jsxs)("div",{className:ys.a.videoInfo,children:[Object(kt.jsx)("p",{className:ys.a.title,children:n}),Object(kt.jsxs)("div",{className:ys.a.userBlock,children:[Object(kt.jsx)("p",{className:ys.a.userName,children:i.name}),Object(kt.jsxs)("p",{className:ys.a.duration,children:[r," sec. view"]})]})]})]})]})},Cs=function(){return Object(kt.jsx)("ul",{className:ls.a.list,children:js.map((function(e){return Object(kt.jsx)(_s,{item:e})}))})},ws=n(248),ks=n.n(ws),Ss=function(){return Object(kt.jsx)(Dt,{children:Object(kt.jsx)("div",{className:ks.a.container,children:Object(kt.jsx)(Cs,{})})})},Is=Object(f.a)((function(){var e,t=Object(j.i)().shareVideoId,n=Object(j.g)(),i=st(),r=i.playerStore,a=i.uiStore,o=Object(u.useState)(!1),c=Object(Wt.a)(o,2),s=c[0],l=c[1],d=Object(u.useState)(!1),p=Object(Wt.a)(d,2),m=p[0],b=p[1],f=function(){s&&r.creator&&n.push("/u/".concat(r.creator.username)),l(!s)};return Object(u.useEffect)((function(){t&&(a.isLoadingApp=!0,ge.getVideoById(t).then((function(e){var t=e.data;r.clearStore(),r.loadVideoToStore(t),l(!0),a.isLoadingApp=!1})).catch((function(e){console.error(e),b(!0),a.isLoadingApp=!1})))}),[a,r,t]),Object(kt.jsxs)("div",{children:[m&&Object(kt.jsx)("div",{children:"Video not found"}),!m&&(null===(e=r.creator)||void 0===e?void 0:e.username)&&Object(kt.jsx)(kt.Fragment,{children:Object(kt.jsx)($n,{isOpen:s,toggleModal:f,children:Object(kt.jsx)(Di,{toggleModal:f})})})]})}));var Ps=Object(f.a)((function(){var e=st(),t=e.userStore,n=e.uiStore;return Object(v.a)((function(){return xe.sendTimePosition(),"You\u2019ll lose your data!"})),Object(kt.jsx)(kt.Fragment,{children:Object(kt.jsx)(b.a,{dateAdapter:m.a,children:Object(kt.jsxs)(h.a,{basename:"/",children:[Object(kt.jsxs)("div",{className:g.a.container,children:[n.showHeader&&Object(kt.jsx)(cs,{}),Object(kt.jsx)("div",{className:g.a.wrapper,children:Object(kt.jsxs)(j.d,{children:[Object(kt.jsx)(j.b,{path:"/v/:shareVideoId",component:Is}),Object(kt.jsx)(j.b,{path:"/u/:userName",component:Xi}),Object(kt.jsx)(j.b,{path:"/embed/:shareVideoId",component:ss}),Object(kt.jsx)(j.b,{path:"/",exact:!0,component:Wo}),Object(kt.jsx)(Fo,{permitted:null!==t.user,path:"/feed",component:Ss}),Object(kt.jsx)(Fo,{permitted:null!==t.user,path:"/settings",component:Pc}),t.user&&Object(kt.jsx)(j.a,{from:"/profile",to:"/u/".concat(t.user.username)}),Object(kt.jsx)(j.a,{to:"/"})]})})]}),n.isLoadingApp&&Object(kt.jsx)(Pi,{})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Promise.all([Pe.init(),We.init(),it.init(),ot.init()]).then((function(){return W()})).then((function(){p.a.render(Object(kt.jsx)(l.a.StrictMode,{children:Object(kt.jsx)(Ps,{})}),document.getElementById("root"))})).catch((function(e){return console.error(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,t,n){e.exports={container:"MusicLine_container__3iv-F",input:"MusicLine_input__2Y0e8",inBlur:"MusicLine_inBlur__2rYa3",note:"MusicLine_note__2GCzv",editContainer:"MusicLine_editContainer__1Frhl",duration:"MusicLine_duration__e46iW",btn:"MusicLine_btn__1GrfT",playBtn:"MusicLine_playBtn__1x89m",editBtn:"MusicLine_editBtn__2UFrS",volumeContainer:"MusicLine_volumeContainer__3zbUL",volumeSlider:"MusicLine_volumeSlider__2ypqY"}},44:function(e,t,n){e.exports={container:"portfolio_container__3s1vU",addButton:"portfolio_addButton__1uR8w",playerWrapper:"portfolio_playerWrapper__1xtYY",player:"portfolio_player__jz_Gi",buttons:"portfolio_buttons__1Uwgf",buttonsContainer:"portfolio_buttonsContainer__3Bb5q",buttonsList:"portfolio_buttonsList__2_Nig",button:"portfolio_button__2EqQ0",buttonItem:"portfolio_buttonItem__SdLBc",shareButton:"portfolio_shareButton__2cgQQ",duration:"portfolio_duration__hHjPU",overlay:"portfolio_overlay__1POnn",playerBlocker:"portfolio_playerBlocker__3u8Qo",shareContainer:"portfolio_shareContainer__1PxYA",shareMenu:"portfolio_shareMenu__2wQpo",tabsWrapper:"portfolio_tabsWrapper__18ivw"}},45:function(e,t,n){e.exports={container:"ShareMenu_container__3yQMk",menuItem:"ShareMenu_menuItem__3ZAN6",isActive:"ShareMenu_isActive__2mZGS",contentMenuItem:"ShareMenu_contentMenuItem__2clZ2",title:"ShareMenu_title__vCF-O"}},54:function(e,t,n){e.exports={item:"feedItem_item__1AIsH",imageWrapper:"feedItem_imageWrapper__ye4_N",userImage:"feedItem_userImage__2Ux89",userInfo:"feedItem_userInfo__3yeds",wrapper:"feedItem_wrapper__2yLrO",videoImage:"feedItem_videoImage__ufLWH",infoBlock:"feedItem_infoBlock__1SyXT",title:"feedItem_title__3uUpE",userBlock:"feedItem_userBlock__2MCXc",userName:"feedItem_userName__wdhVq",duration:"feedItem_duration__3FiYw"}},57:function(e,t,n){e.exports={container:"userInfo_container__3nq7H",slides:"userInfo_slides__2Vq1t",userImage:"userInfo_userImage__3Jj5E",image:"userInfo_image__1HtQH",status:"userInfo_status__28AnI",name:"userInfo_name__3wu-r",nickName:"userInfo_nickName__EOa3p",about:"userInfo_about__KDR-_",totalTime:"userInfo_totalTime__3pyJh",bestViewers:"userInfo_bestViewers__l8qHW",socialList:"userInfo_socialList__2G1JA"}},58:function(e,t,n){e.exports={userBlock:"userBlock_userBlock__2GRWG",dropdown:"userBlock_dropdown__2dc2k",image:"userBlock_image__3Fqbj",withBorder:"userBlock_withBorder__l1wdw",dropdownItem:"userBlock_dropdownItem__25Hwb",button:"userBlock_button__1XUAk",imageWrapper:"userBlock_imageWrapper__2WgW-",buttonText:"userBlock_buttonText__2wSME"}},65:function(e,t,n){e.exports={playerWrapper:"MultiPlayer_playerWrapper__vY-K-",player:"MultiPlayer_player__2RDDT",playerPlaceholder:"MultiPlayer_playerPlaceholder__2igEn",playButton:"MultiPlayer_playButton__2ilbp",pauseButton:"MultiPlayer_pauseButton__t9yfd"}},66:function(e,t,n){e.exports={container:"userInfo_container__2R5pC",userCaption:"userInfo_userCaption__4ASaX",topBlock:"userInfo_topBlock__2dchw",userImage:"userInfo_userImage__3o4vn",userName:"userInfo_userName__3zzx6",nickName:"userInfo_nickName__JRXxn",duration:"userInfo_duration__45G7r"}},70:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",buttonsContainer:"PlayerPanel_buttonsContainer__2U8zY",recButton:"PlayerPanel_recButton__3TYfL",recButtonAnimation:"PlayerPanel_recButtonAnimation__2UQQt",active:"PlayerPanel_active__2NmJa",rewButton:"PlayerPanel_rewButton__2bNBE",arrow:"PlayerPanel_arrow__2LftY"}},71:function(e,t,n){e.exports={button:"button_button__q-EjP",withBorder:"button_withBorder__1-5d0",disabled:"button_disabled__1_Ved",blueTheme:"button_blueTheme__Kq4aP",active:"button_active__2mI4J",lightBlueTheme:"button_lightBlueTheme__3oYxs",redTheme:"button_redTheme__344Z4",delete:"button_delete__bY3NW"}},72:function(e,t,n){e.exports={container:"timeline_container__Ot9x_",player:"timeline_player__1fwLp",wrapper:"timeline_wrapper__1B1Fp",isDragStart:"timeline_isDragStart__2aa9h",playInfo:"timeline_playInfo__2SvIF",playButton:"timeline_playButton__ST2NV",item:"timeline_item__3E5Bh",roads:"timeline_roads__11Vq3"}},80:function(e,t,n){e.exports={container:"chat_container__1pMfk",title:"chat_title__1b1BL",wrapper:"chat_wrapper__83tld",memberList:"chat_memberList__20IWQ",micBlock:"chat_micBlock__2peVb",micButton:"chat_micButton__3EJGT",micOff:"chat_micOff__agetB"}},81:function(e,t,n){e.exports={item:"notification_item__1gdsC",image:"notification_image__22GCI",imageMock:"notification_imageMock__2FV4w",notificationContent:"notification_notificationContent__2nYbn",text:"notification_text__3wi1M",time:"notification_time__34jA-",notViewed:"notification_notViewed__2HFPV"}},83:function(e,t,n){e.exports={container:"user_container__Q2B9I",image:"user_image__1axsI",avatar:"user_avatar__2e-Z7",info:"user_info__SvVc7",name:"user_name__3KwKa",duration:"user_duration__VqW4z"}},84:function(e,t,n){e.exports={container:"Preloader_container__3VLfE",loaderContainer:"Preloader_loaderContainer__2CSeo",loader:"Preloader_loader__2UV8v",arcRotateDouble:"Preloader_arcRotateDouble__1llZB",load:"Preloader_load__1BxGu",arc1:"Preloader_arc1__3QLhn",arc2:"Preloader_arc2__5Fv5N",rotate:"Preloader_rotate__3qmAc"}},85:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__1vR9b",playerWrapper:"CutItem_playerWrapper__32VlR",video:"CutItem_video__33TEF",buttons:"CutItem_buttons__JzliV",checkbox:"CutItem_checkbox__2_dpe",playButton:"CutItem_playButton__1QWqr",isVisible:"CutItem_isVisible__335-r",isChosenSource:"CutItem_isChosenSource__2r7bR",checkboxWrapper:"CutItem_checkboxWrapper__3jZA8"}}},[[429,1,2]]]);