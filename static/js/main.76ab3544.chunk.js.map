{"version":3,"sources":["store/index.ts","utils/format-time.ts","services/player-service.ts","components/logo.svg","components/TimeInput.tsx","components/PlayerPanel.tsx","components/CutItem.tsx","components/CutsPanel.tsx","App.tsx","serviceWorker.ts","index.tsx","components/PlayerPanel.module.sass","components/CutsPanel.module.sass","components/CutItem.module.sass","components/TimeInput.module.sass","App.module.css"],"names":["configure","enforceActions","url","parse","window","location","href","urlStory","query","story","raw","decodeURIComponent","split","map","cut","parts","startTime","parseFloat","endTime","queryUrl","video","store","makeObservable","this","cuts","push","filter","c","baseUrl","encodeURIComponent","join","reduce","duration","observable","computed","action","pad","x","formatTime","long","hours","Math","floor","mins","seconds","fract","time","playerService","control","playingStory","currentCutIdx","currentCutSeekDone","trackingTimer","checkTiming","currentCut","currentTime","console","log","playCurrentCut","stop","player","JSON","stringify","start","internalPlayer","getInternalPlayer","getPlayerState","playing","stopTracking","when","startTracking","seekTo","setInterval","clearInterval","getCurrentTime","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fillRule","clipRule","d","fill","_ref3","cx","cy","rx","ry","_ref4","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","Adornment","onClick","position","InputAdornment","IconButton","edge","className","styles","changeButton","style","fontSize","TimeInput","value","set","Date","undefined","onRemove","onChange","onAdd","disableOpenPicker","ampm","date","res","getHours","getMinutes","getSeconds","getMilliseconds","inputFormat","mask","views","renderInput","TextField","timeInput","size","helperText","variant","InputProps","startAdornment","endAdornment","observer","useState","setCut","setPlaying","setPosition","playerRef","useCallback","setPlayer","a","playStory","useEffect","stopped","requestAnimationFrame","getPosition","ready","Grid","header","container","alignContent","editMode","searchLine","direction","justify","fullWidth","placeholder","e","classNames","playerWrapper","onStart","onPlay","onPause","controls","config","youtube","playerVars","playerPlaceholder","item","lg","Button","disableElevation","current","color","timeRow","label","max","min","buttons","xs","wrap","addCut","previewButtons","idx","block","play","setStart","setEnd","rightBlock","remove","removeCut","timeTotal","showCopied","setShowCopied","infoLine","trailerLength","shareUrlBlock","shareUrl","shareUrlText","text","onCopy","setTimeout","ga","hitType","eventCategory","eventAction","eventLabel","eventValue","copiedText","copiedTextShown","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","LocalizationProvider","dateAdapter","DateFnsAdapter","Container","rightCol","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","then","registration","unregister","catch","error","message","module","exports"],"mappings":"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","file":"static/js/main.76ab3544.chunk.js","sourcesContent":["import { observable, makeObservable, configure, computed, action } from 'mobx'\n\nimport parse from 'url-parse'\n\nconfigure({ enforceActions: 'never' })\n\nexport interface Cut {\n\tstartTime: number\n\tendTime: number\n}\n\nconst url = parse(window.location.href, true)\nlet urlStory: Cut[] | null = null\n\nif (url.query.story) {\n\tconst raw = decodeURIComponent(url.query.story)\n\turlStory = raw.split(',').map((cut) => {\n\t\tconst parts = cut.split(':')\n\t\treturn {\n\t\t\tstartTime: parseFloat(parts[0]),\n\t\t\tendTime: parseFloat(parts[1]),\n\t\t}\n\t})\n}\n\nconst queryUrl = url.query.video ? decodeURIComponent(url.query.video) : null\n\nclass Store {\n\t@observable editMode = !queryUrl\n\t@observable playing = false\n\t@observable url: string | null = queryUrl\n\t@observable cuts: Cut[] = urlStory || []\n\n\t@computed get shareUrl() {\n\t\tif (!this.url) return null\n\t\tconst baseUrl = window.location.href.split('?')[0]\n\t\treturn `${baseUrl}?video=${encodeURIComponent(this.url)}&story=${encodeURIComponent(\n\t\t\tthis.cuts.map((cut) => [cut.startTime, cut.endTime].join(':')).join(',')\n\t\t)}`\n\t}\n\n\t@computed get trailerLength() {\n\t\treturn this.cuts.reduce((duration, cut) => duration + cut.endTime - cut.startTime, 0)\n\t}\n\n\t@action\n\taddCut(cut: Cut) {\n\t\tthis.cuts.push(cut)\n\t}\n\n\t@action\n\tremoveCut(cut: Cut) {\n\t\tthis.cuts = this.cuts.filter((c) => c !== cut)\n\t}\n\n\tconstructor() {\n\t\tmakeObservable(this)\n\t}\n}\n\nconst store = new Store()\n\nexport default store\n","function pad(x: number) {\n\tif (x < 10) return `0${x}`\n\treturn x\n}\n\nexport function formatTime(duration: number | null, long = false) {\n\tif (!duration) return `00:00:00.0`\n\tconst hours = Math.floor(duration / 60 / 60)\n\tconst mins = Math.floor((duration / 60) % 60)\n\tconst seconds = Math.floor(duration % 60)\n\tconst fract = Math.floor((duration - Math.floor(duration)) * 10)\n\tlet time = `${pad(hours)}:${pad(mins)}:${pad(seconds)}`\n\tif (long) time = `${time}.${fract}`\n\treturn time\n}\n","import { when } from 'mobx'\nimport ReactPlayer from 'react-player'\nimport store, { Cut } from '../store'\n\ninterface PlayerControl {\n\tplayer: ReactPlayer\n\tstart(): void\n\tstop(): void\n}\n\nexport class PlayerService {\n\tcontrol: PlayerControl | null = null\n\tplayingStory: Cut[] | null = null\n\tcurrentCutIdx = 0\n\tcurrentCutSeekDone = false\n\ttrackingTimer: number | null = null\n\n\tget ready() {\n\t\treturn !!this.control\n\t}\n\n\tget currentCut() {\n\t\treturn this.playingStory?.[this.currentCutIdx] || null\n\t}\n\n\tsetPlayer(player: PlayerControl | null) {\n\t\tthis.control = player\n\t\tconsole.log('--> player set', player)\n\t}\n\n\tasync playStory(cuts: Cut[] = store.cuts) {\n\t\tif (!this.control) return\n\t\tconsole.log('---> playStory <---', JSON.stringify(cuts))\n\t\tthis.playingStory = cuts\n\t\tthis.currentCutIdx = 0\n\t\tawait this.stop()\n\t\tthis.playCurrentCut()\n\t\tawait this.start()\n\t}\n\n\tgetPlayerState() {\n\t\tlet internalPlayer = this.control?.player.getInternalPlayer() as any\n\t\treturn internalPlayer?.getPlayerState()\n\t}\n\n\tasync stop() {\n\t\tif (!store.playing || !this.control) return\n\t\tthis.stopTracking()\n\t\tthis.control.stop()\n\t\tawait when(() => !store.playing)\n\t}\n\n\tasync start() {\n\t\tif (store.playing || !this.control) return\n\t\tthis.startTracking()\n\t\tthis.control.start()\n\t\tawait when(() => store.playing)\n\t}\n\n\tasync playCurrentCut() {\n\t\tif (!this.playingStory || !this.control || !this.currentCut) return\n\t\tthis.currentCutSeekDone = false\n\t\tconsole.log('---> playCurrentCut <---', JSON.stringify(this.currentCut))\n\t\tthis.control.player.seekTo(this.currentCut.startTime)\n\t}\n\n\tstartTracking() {\n\t\tif (this.trackingTimer) return\n\t\tthis.trackingTimer = (setInterval(this.checkTiming, 20) as any) as number\n\t}\n\n\tstopTracking() {\n\t\tif (!this.trackingTimer) return\n\t\tclearInterval(this.trackingTimer)\n\t\tthis.trackingTimer = null\n\t}\n\n\tcheckTiming = () => {\n\t\tif (!this.playingStory || !this.currentCut?.endTime) return\n\n\t\tif (!this.currentCutSeekDone) {\n\t\t\tif (this.currentTime < this.currentCut.endTime && this.currentTime >= this.currentCut.startTime) {\n\t\t\t\tthis.currentCutSeekDone = true\n\t\t\t\tconsole.log('--> got into current cut')\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tif (this.currentTime < this.currentCut.endTime) return\n\n\t\tconsole.log('---> checkTiming <---', this.currentTime, this.currentCut.endTime)\n\t\tthis.currentCutIdx++\n\t\tif (this.currentCut) {\n\t\t\tthis.playCurrentCut()\n\t\t} else {\n\t\t\tthis.stop()\n\t\t}\n\t}\n\n\tget currentTime() {\n\t\tif (!this.control) return 0\n\t\treturn this.control.player.getCurrentTime()\n\t}\n}\n\nconst playerService = new PlayerService()\n\nexport default playerService\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M45.3237 37.4146C47.6541 33.6649 49 29.2396 49 24.5C49 10.969 38.031 0 24.5 0C10.969 0 0 10.969 0 24.5C0 38.031 10.969 49 24.5 49C30.7748 49 36.4987 46.6411 40.8332 42.7617L38.759 37.5H41.1243L38.759 31.5H42.983L45.3237 37.4146Z\",\n  fill: \"#4D6DDF\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"ellipse\", {\n  cx: 92,\n  cy: 37,\n  rx: 2,\n  ry: 3,\n  fill: \"#4D6DDF\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.728 38.248C34.56 38.752 33.168 40.264 31.104 40.264C29.856 40.264 28.872 39.52 28.44 38.536L37.272 36.928C37.296 36.832 37.272 36.736 37.272 36.616C37.152 33.304 34.44 30.664 31.104 30.664C27.672 30.664 24.912 33.424 24.912 36.856C24.912 37.624 25.056 38.392 25.344 39.088C26.28 41.512 28.704 43.048 31.104 43.048C35.28 43.048 37.08 39.616 37.296 39.064L34.728 38.248ZM28.08 35.824C28.344 34.528 29.448 33.496 30.72 33.4C31.968 33.28 33.216 34.024 33.792 35.176L28.008 36.208L28.08 35.824ZM45.981 31L43.437 37.792L40.749 31H37.677L41.925 41.776L39.741 47.584H42.813L49.053 31H45.981ZM59.2436 38.248C59.0756 38.752 57.6836 40.264 55.6196 40.264C54.3716 40.264 53.3876 39.52 52.9556 38.536L61.7876 36.928C61.8116 36.832 61.7876 36.736 61.7876 36.616C61.6676 33.304 58.9556 30.664 55.6196 30.664C52.1876 30.664 49.4276 33.424 49.4276 36.856C49.4276 37.624 49.5716 38.392 49.8596 39.088C50.7956 41.512 53.2196 43.048 55.6196 43.048C59.7956 43.048 61.5956 39.616 61.8116 39.064L59.2436 38.248ZM52.5956 35.824C52.8596 34.528 53.9636 33.496 55.2356 33.4C56.4836 33.28 57.7316 34.024 58.3076 35.176L52.5236 36.208L52.5956 35.824ZM77.9706 30.808C76.0026 30.808 74.5386 31.576 73.6746 32.752C72.8106 31.552 71.4666 30.808 69.8106 30.808C68.6106 30.808 67.4346 31.336 66.5706 32.2V31H63.4986V43H66.5706V36.4C66.5706 34.792 67.6266 33.64 69.0906 33.64C70.5546 33.64 71.6106 34.768 71.6106 36.376V43H74.7306V36.4C74.7306 34.792 75.7866 33.64 77.2506 33.64C78.7146 33.64 79.7466 34.768 79.7466 36.376V43H82.8906V36.304C82.8906 33.184 80.8986 30.808 77.9706 30.808ZM90.8462 43.192C94.2782 43.192 97.0382 40.408 97.0382 37C97.0382 33.592 94.2782 30.808 90.8462 30.808C87.4382 30.808 84.6542 33.592 84.6542 37C84.6542 40.408 87.4382 43.192 90.8462 43.192ZM90.9662 40.312C89.1422 40.312 87.8462 38.92 87.8462 37C87.8462 35.08 89.1422 33.688 90.9662 33.688C92.7662 33.688 94.0862 35.08 94.0862 37C94.0862 38.92 92.7662 40.312 90.9662 40.312Z\",\n  fill: \"#252525\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 98,\n    height: 50,\n    viewBox: \"0 0 98 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.a991e3bd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport { TimePicker } from '@material-ui/pickers'\nimport { IconButton, InputAdornment, TextField } from '@material-ui/core'\nimport set from 'date-fns/set'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport AddIcon from '@material-ui/icons/Add'\n\nimport styles from './TimeInput.module.sass'\nimport { getHours, getMilliseconds, getMinutes, getSeconds } from 'date-fns'\n\ninterface Props {\n\tvalue: number | null\n\tlabel: string\n\tonChange: (value: number) => void\n}\n\nfunction Adornment({ onClick, position }: { position: 'start' | 'end'; onClick: () => void }) {\n\treturn (\n\t\t<InputAdornment position={position}>\n\t\t\t<IconButton edge={position} onClick={onClick} className={styles.changeButton}>\n\t\t\t\t{position === 'start' ? <RemoveIcon style={{ fontSize: 12 }} /> : <AddIcon style={{ fontSize: 12 }} />}\n\t\t\t</IconButton>\n\t\t</InputAdornment>\n\t)\n}\n\nexport default function TimeInput(props: Props) {\n\tconst value = set(new Date(2000, 1, 1), {\n\t\tseconds: props.value ?? undefined,\n\t})\n\n\tfunction onChange(date: Date | null) {\n\t\tif (!date) return\n\t\tconst hours = getHours(date)\n\t\tconst mins = getMinutes(date)\n\t\tconst seconds = getSeconds(date)\n\t\tconst millis = getMilliseconds(date)\n\t\tlet res = hours * 3600 + mins * 60 + seconds + millis / 1000\n\t\tprops.onChange(res)\n\t\tconsole.log('--> ', res)\n\t}\n\n\tfunction onRemove() {\n\t\tif (!props.value) return\n\t\tprops.onChange(props.value - 1)\n\t}\n\tfunction onAdd() {\n\t\tif (!props.value) return\n\t\tprops.onChange(props.value + 1)\n\t}\n\n\treturn (\n\t\t<TimePicker\n\t\t\tdisableOpenPicker\n\t\t\tampm={false}\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tinputFormat={'HH:mm:ss.S'}\n\t\t\tmask='__:__:__._'\n\t\t\tviews={['hours', 'minutes', 'seconds']}\n\t\t\trenderInput={(props) => (\n\t\t\t\t<TextField\n\t\t\t\t\t{...props}\n\t\t\t\t\tclassName={styles.timeInput}\n\t\t\t\t\tsize={'small'}\n\t\t\t\t\thelperText={null}\n\t\t\t\t\tvariant='outlined'\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tstartAdornment: <Adornment position='start' onClick={onRemove} />,\n\t\t\t\t\t\tendAdornment: <Adornment position='end' onClick={onAdd} />,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t)\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { observer } from 'mobx-react'\nimport store, { Cut } from '../store'\nimport ReactPlayer from 'react-player'\nimport { formatTime } from '../utils/format-time'\nimport { Button, Grid, TextField } from '@material-ui/core'\nimport styles from './PlayerPanel.module.sass'\nimport playerService from '../services/player-service'\nimport { ReactComponent as EyemoLogo } from './logo.svg'\nimport TimeInput from './TimeInput'\nimport classNames from 'classnames'\nimport { when } from 'mobx'\n\nfunction PlayerPanel() {\n\tconst [cut, setCut] = useState<Cut | null>(null)\n\tconst [playing, setPlaying] = useState(false)\n\tconst [position, setPosition] = useState<number | null>(null)\n\n\tfunction changeStart(time: number) {\n\t\tsetCut({\n\t\t\tstartTime: time,\n\t\t\tendTime: Math.max(cut!.endTime, time + 1),\n\t\t})\n\t}\n\n\tfunction changeEnd(time: number) {\n\t\tsetCut({\n\t\t\tstartTime: Math.min(cut!.startTime, time - 1),\n\t\t\tendTime: time,\n\t\t})\n\t}\n\n\tfunction play() {\n\t\tif (!cut) return\n\t\tplayerService.playStory([cut])\n\t}\n\n\tfunction clear() {\n\t\tsetCut(null)\n\t}\n\n\tfunction add() {\n\t\tif (!cut) return\n\t\tstore.addCut(cut)\n\t\tsetCut({\n\t\t\tstartTime: 0,\n\t\t\tendTime: 0,\n\t\t})\n\t}\n\n\tconst playerRef = useCallback((player) => {\n\t\tplayerService.setPlayer({\n\t\t\tplayer,\n\t\t\tstart: () => setPlaying(true),\n\t\t\tstop: () => setPlaying(false),\n\t\t})\n\t}, [])\n\n\tfunction onPlay() {\n\t\tconsole.log('---> onPlay <---')\n\t\tif (!playing) setPlaying(true)\n\t\tstore.playing = true\n\t}\n\n\tfunction onPause() {\n\t\tconsole.log('---> onPause <---')\n\t\tif (playing) setPlaying(false)\n\t\tstore.playing = false\n\t}\n\n\tuseEffect(() => {\n\t\tlet stopped = false\n\t\tfunction getPosition() {\n\t\t\tif (stopped || !playerService.ready) return\n\t\t\tsetPosition(playerService.currentTime)\n\t\t\trequestAnimationFrame(getPosition)\n\t\t}\n\t\trequestAnimationFrame(getPosition)\n\t\treturn () => {\n\t\t\tstopped = true\n\t\t}\n\t}, [])\n\n\tfunction startFrame() {\n\t\tconst time = playerService.currentTime\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\t\tcurrent.startTime = time\n\t\tif (current.endTime < time) current.endTime = time + 5\n\t\tsetCut(current)\n\t}\n\n\tfunction endFrame() {\n\t\tconst time = playerService.currentTime\n\t\tconst current = {\n\t\t\tstartTime: cut?.startTime || 0,\n\t\t\tendTime: cut?.endTime || 0,\n\t\t}\n\t\tcurrent.endTime = time\n\t\tif (current.startTime > time) current.startTime = time - 5\n\t\tsetCut(current)\n\t}\n\n\tasync function onStart() {\n\t\tsetPlaying(false)\n\t\tawait when(() => !store.playing)\n\t\tplayerService.playStory(store.cuts)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Grid className={styles.header} container alignContent='center'>\n\t\t\t\t<EyemoLogo />\n\t\t\t</Grid>\n\t\t\t{store.editMode && (\n\t\t\t\t<Grid className={styles.searchLine} container direction='column' justify={'flex-end'}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tplaceholder='Copy YouTube url'\n\t\t\t\t\t\tvalue={store.url || ''}\n\t\t\t\t\t\tonChange={(e) => (store.url = e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t\t<Grid className={classNames('padded', styles.playerWrapper)}>\n\t\t\t\t{store.url ? (\n\t\t\t\t\t<ReactPlayer\n\t\t\t\t\t\tref={playerRef}\n\t\t\t\t\t\tplaying={playing}\n\t\t\t\t\t\tclassName={styles.player}\n\t\t\t\t\t\turl={store.url}\n\t\t\t\t\t\twidth='100%'\n\t\t\t\t\t\theight='100%'\n\t\t\t\t\t\t//onProgress={(e) => console.log(e)}\n\t\t\t\t\t\tonStart={onStart}\n\t\t\t\t\t\tonPlay={onPlay}\n\t\t\t\t\t\tonPause={onPause}\n\t\t\t\t\t\tcontrols={true}\n\t\t\t\t\t\tconfig={{\n\t\t\t\t\t\t\tyoutube: {\n\t\t\t\t\t\t\t\tplayerVars: {\n\t\t\t\t\t\t\t\t\t//autoplay: 1,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div className={styles.playerPlaceholder} />\n\t\t\t\t)}\n\t\t\t</Grid>\n\t\t\t{store.editMode && store.url ? (\n\t\t\t\t<>\n\t\t\t\t\t<Grid justify='center' container>\n\t\t\t\t\t\t{formatTime(position, true)}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t<Button variant='contained' disableElevation fullWidth onClick={startFrame} color='primary'>\n\t\t\t\t\t\t\t\tStart of frame\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid className='padded' item lg>\n\t\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={endFrame} fullWidth color='primary'>\n\t\t\t\t\t\t\t\tEnd of frame\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{cut && (\n\t\t\t\t\t\t<Grid container justify='center' className={styles.timeRow} alignContent='flex-end'>\n\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t<TimeInput value={cut.startTime} label='Start time' onChange={changeStart} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\t\t<TimeInput value={cut?.endTime} label='End time' onChange={changeEnd} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\tclassName={styles.buttons}\n\t\t\t\t\t\t\t\txs\n\t\t\t\t\t\t\t\tjustify={'flex-end'}\n\t\t\t\t\t\t\t\talignContent={'center'}\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\twrap={'nowrap'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button variant='outlined' disableElevation onClick={play}>\n\t\t\t\t\t\t\t\t\tPlay\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant='contained' color='primary' disableElevation onClick={add}>\n\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={clear}>\n\t\t\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Grid className={styles.previewButtons} container>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tsize='large'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tonClick={() => playerService.playStory()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPlay trailer\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='primary'\n\t\t\t\t\t\t\tdisableElevation\n\t\t\t\t\t\t\tonClick={() => (store.editMode = true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMake your own trailer\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default observer(PlayerPanel)\n","import React from 'react'\nimport { observer } from 'mobx-react'\nimport store, { Cut } from '../store'\nimport styles from './CutItem.module.sass'\nimport { Button, Grid } from '@material-ui/core'\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\nimport TimeInput from './TimeInput'\nimport { formatTime } from '../utils/format-time'\nimport CloseIcon from '@material-ui/icons/Close'\nimport playerService from '../services/player-service'\n\ninterface Props {\n\tcut: Cut\n\tidx: number\n}\n\nfunction CutItem(props: Props) {\n\tfunction play() {\n\t\tplayerService.playStory([props.cut])\n\t}\n\n\tfunction remove() {\n\t\tstore.removeCut(props.cut)\n\t}\n\n\tfunction setStart(time: number) {\n\t\tprops.cut.startTime = time\n\t\tif (props.cut.endTime < props.cut.startTime + 1) props.cut.endTime = props.cut.startTime + 1\n\t}\n\n\tfunction setEnd(time: number) {\n\t\tprops.cut.endTime = time\n\t\tif (props.cut.startTime > props.cut.endTime - 1) props.cut.startTime = props.cut.endTime - 1\n\t}\n\n\treturn (\n\t\t<Grid container className={styles.container}>\n\t\t\t<Grid item className={styles.idx}>\n\t\t\t\t{props.idx + 1}\n\t\t\t</Grid>\n\t\t\t<Grid className={styles.block} container item lg>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Button className={styles.play} onClick={play}>\n\t\t\t\t\t\t<PlayArrowIcon />\n\t\t\t\t\t</Button>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.startTime} label='Start time' onChange={(time) => setStart(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item lg>\n\t\t\t\t\t<TimeInput value={props.cut.endTime} label='Start time' onChange={(time) => setEnd(time)} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={styles.rightBlock}>\n\t\t\t\t\t<CloseIcon className={styles.remove} fontSize='small' onClick={remove} />\n\t\t\t\t\t<div className={styles.timeTotal}>{formatTime(props.cut.endTime - props.cut.startTime)}</div>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}\n\nexport default observer(CutItem)\n","import React from 'react'\nimport store from '../store'\nimport styles from './CutsPanel.module.sass'\nimport { observer } from 'mobx-react'\nimport CutItem from './CutItem'\nimport { Button, Grid } from '@material-ui/core'\nimport { formatTime } from '../utils/format-time'\nimport playerService from '../services/player-service'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport AssignmentTurnedInOutlinedIcon from '@material-ui/icons/AssignmentTurnedInOutlined'\nimport { useState } from 'react'\nimport classNames from 'classnames'\n\nexport function CutsPanel() {\n\tconst [showCopied, setShowCopied] = useState(false)\n\n\tfunction playAll() {\n\t\tplayerService.playStory()\n\t}\n\n\tfunction onUrlCopy() {\n\t\tsetShowCopied(true)\n\t\tsetTimeout(() => setShowCopied(false), 3000)\n\t\tga('send', {\n\t\t\thitType: 'event',\n\t\t\teventCategory: 'Interaction',\n\t\t\teventAction: 'Action',\n\t\t\teventLabel: 'Url copied',\n\t\t\teventValue: store.shareUrl,\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Grid className={styles.header} />\n\t\t\t{store.url ? (\n\t\t\t\t<>\n\t\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t\t{store.cuts.map((cut, idx) => (\n\t\t\t\t\t\t\t<CutItem key={idx} idx={idx} cut={cut} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container className={styles.infoLine} item>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tTrailer duration: {formatTime(store.trailerLength)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\t\tNumber of frames: {store.cuts.length}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Button variant='contained' disableElevation onClick={playAll} fullWidth color='primary'>\n\t\t\t\t\t\t\tPlay all\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid className={styles.shareUrlBlock}>\n\t\t\t\t\t\t<div className={styles.shareUrl}>\n\t\t\t\t\t\t\t<span className={styles.shareUrlText}>{store.shareUrl}</span>\n\t\t\t\t\t\t\t<CopyToClipboard text={store.shareUrl || ''} onCopy={onUrlCopy}>\n\t\t\t\t\t\t\t\t<AssignmentTurnedInOutlinedIcon />\n\t\t\t\t\t\t\t</CopyToClipboard>\n\t\t\t\t\t\t\t<div className={classNames(styles.copiedText, { [styles.copiedTextShown]: showCopied })}>\n\t\t\t\t\t\t\t\tCopied\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Grid container direction='column'>\n\t\t\t\t\t<Grid item lg>\n\t\t\t\t\t\tPlease select video for trailer editing\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t)}\n\t\t</>\n\t)\n}\n\nexport default observer(CutsPanel)\n","import React from 'react'\nimport './App.css'\nimport PlayerPanel from './components/PlayerPanel'\nimport CutsPanel from './components/CutsPanel'\nimport styles from './App.module.css'\nimport { Container, createMuiTheme, Grid, ThemeProvider } from '@material-ui/core'\nimport DateFnsAdapter from '@material-ui/pickers/adapter/date-fns'\nimport { LocalizationProvider } from '@material-ui/pickers'\nimport store from './store'\nimport { observer } from 'mobx-react'\n\nconst theme = createMuiTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: '#4d6ddf',\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: '#314eb7',\n\t\t},\n\t},\n})\n\nfunction App() {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<LocalizationProvider dateAdapter={DateFnsAdapter}>\n\t\t\t\t<Container className={styles.container}>\n\t\t\t\t\t<Grid container wrap={'nowrap'}>\n\t\t\t\t\t\t<Grid item lg className={'padded'}>\n\t\t\t\t\t\t\t<PlayerPanel />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{store.editMode && (\n\t\t\t\t\t\t\t<Grid item className={styles.rightCol} lg>\n\t\t\t\t\t\t\t\t<CutsPanel />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\t\t\t</LocalizationProvider>\n\t\t</ThemeProvider>\n\t)\n}\n\nexport default observer(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchLine\":\"PlayerPanel_searchLine__lHiKN\",\"header\":\"PlayerPanel_header__3Ofwm\",\"timeRow\":\"PlayerPanel_timeRow__2JdIQ\",\"buttons\":\"PlayerPanel_buttons__2k6lM\",\"playerWrapper\":\"PlayerPanel_playerWrapper__fY2EN\",\"player\":\"PlayerPanel_player___iG3y\",\"playerPlaceholder\":\"PlayerPanel_playerPlaceholder__kENe0\",\"previewButtons\":\"PlayerPanel_previewButtons__3F-Qp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInput\":\"CutsPanel_timeInput__2Qrs0\",\"input\":\"CutsPanel_input__2-BNw\",\"stepBtn\":\"CutsPanel_stepBtn__2UpLP\",\"infoLine\":\"CutsPanel_infoLine__H7V1j\",\"header\":\"CutsPanel_header__1Yli3\",\"shareUrlBlock\":\"CutsPanel_shareUrlBlock__37_Bd\",\"shareUrl\":\"CutsPanel_shareUrl__VqaQP\",\"shareUrlText\":\"CutsPanel_shareUrlText__1Kg2U\",\"copiedText\":\"CutsPanel_copiedText__1e3OD\",\"copiedTextShown\":\"CutsPanel_copiedTextShown__23BhM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CutItem_container__2rPPd\",\"block\":\"CutItem_block__109Jg\",\"idx\":\"CutItem_idx__AiXXt\",\"play\":\"CutItem_play__3Lhqn\",\"rightBlock\":\"CutItem_rightBlock__1BaAB\",\"remove\":\"CutItem_remove__OqVCk\",\"timeTotal\":\"CutItem_timeTotal__HHslm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeInput\":\"TimeInput_timeInput__33xoy\",\"changeButton\":\"TimeInput_changeButton__Q4fU1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rightCol\":\"App_rightCol__2GgY6\",\"container\":\"App_container__1MQN3\"};"],"sourceRoot":""}