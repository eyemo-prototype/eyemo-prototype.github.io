(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{100:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},101:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",isActive:"contentBlock_isActive__1EC5r",content:"contentBlock_content__1xBTD",hideBlock:"contentBlock_hideBlock__2Wym6"}},102:function(e,t,n){e.exports={container:"CustomSlider_container__WcW3I",root:"CustomSlider_root__hemha",label:"CustomSlider_label__2lMkh",tooltipContainer:"CustomSlider_tooltipContainer__3CM33",tooltipIcon:"CustomSlider_tooltipIcon__3iVXY"}},124:function(e,t,n){e.exports={container:"content_container__3-ZBv",player:"content_player__NWuLE",userWrapper:"content_userWrapper__3men2"}},125:function(e,t,n){e.exports={playerPanel:"mainView_playerPanel__2qpku",content:"mainView_content__2OnP2",contentWrapper:"mainView_contentWrapper__2i6MG"}},126:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__1DdM7",form:"SourcesPanel_form__1o_MA",inputWrapper:"SourcesPanel_inputWrapper__2NF9J"}},127:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2qCbT",cutsPanelBlank:"CutsPanel_cutsPanelBlank__2gLJh",timeInput:"CutsPanel_timeInput__FdtI3",input:"CutsPanel_input__4Og8R",stepBtn:"CutsPanel_stepBtn__3kDcm",infoLine:"CutsPanel_infoLine__3lLJ8",loadIcon:"CutsPanel_loadIcon__1BsrY",bottomBtn:"CutsPanel_bottomBtn__2J2gr",cutsList:"CutsPanel_cutsList__1Nvl5"}},141:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb","slick-slide":"App_slick-slide__2pNaG"}},143:function(e,t,n){e.exports={block:"modal_block__1GAxY",closeButton:"modal_closeButton__246Uq"}},146:function(e,t,n){e.exports={container:"contentView_container__HlNrD",title:"contentView_title__13t0d"}},147:function(e,t,n){e.exports={root:"GiphyPanel_root__2Hx9n",searchLine:"GiphyPanel_searchLine__69zTm",gifsPanel:"GiphyPanel_gifsPanel__2OqQn"}},149:function(e,t,n){e.exports={button:"transitionItem_button__2Ttj-",isActive:"transitionItem_isActive__2Hq6p"}},150:function(e,t,n){e.exports={player:"MultiPlayer_player__2RDDT",playerPlaceholder:"MultiPlayer_playerPlaceholder__2igEn"}},151:function(e,t,n){e.exports={container:"GifMenu_container__20wqN",btn:"GifMenu_btn__MgwTd"}},152:function(e,t,n){e.exports={gif:"CutGifsList_gif__1zFY4",isSelected:"CutGifsList_isSelected__1hbWU"}},199:function(e,t,n){e.exports={container:"UserProfile_container__2kkVd"}},202:function(e,t,n){e.exports={item:"slider_item__3pDgX"}},210:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},213:function(e,t,n){e.exports={list:"transitions_list__11-Eh"}},215:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},217:function(e,t,n){e.exports={item:"userItem_item__1-Mkf"}},218:function(e,t,n){e.exports={container:"actionButton_container__35clG"}},220:function(e,t,n){e.exports={container:"buttons_container__24qbY",bottomBtn:"buttons_bottomBtn__NAT1j"}},35:function(e,t,n){e.exports={container:"timeLineItem_container__xQUm0",videoWrapper:"timeLineItem_videoWrapper__1iGSb",isActive:"timeLineItem_isActive__hk5F6",player:"timeLineItem_player__2pv5Z",actionBlock:"timeLineItem_actionBlock__8nvXQ",activeIcon:"timeLineItem_activeIcon__GEpyq",defaultIcon:"timeLineItem_defaultIcon__iW-P8",listWrapper:"timeLineItem_listWrapper__FTQFr",list:"timeLineItem_list__35pAO",listItem:"timeLineItem_listItem__1icJS",block:"timeLineItem_block__3n2ah",blockContent:"timeLineItem_blockContent__kgIZ4",topButtons:"timeLineItem_topButtons__1kfqT",buttomButtons:"timeLineItem_buttomButtons__OvQJV",playButton:"timeLineItem_playButton__2uyY4",isVisible:"timeLineItem_isVisible__2Ldl3"}},38:function(e,t,n){e.exports={container:"portfolio_container__3s1vU",title:"portfolio_title__1d9Gn",list:"portfolio_list__3vjSu",imageWrapper:"portfolio_imageWrapper__39O-8",addButton:"portfolio_addButton__1uR8w",playerWrapper:"portfolio_playerWrapper__1xtYY",player:"portfolio_player__jz_Gi",buttons:"portfolio_buttons__1Uwgf",buttonsContainer:"portfolio_buttonsContainer__3Bb5q",buttonsList:"portfolio_buttonsList__2_Nig",button:"portfolio_button__2EqQ0",buttonItem:"portfolio_buttonItem__SdLBc",shareButton:"portfolio_shareButton__2cgQQ",duration:"portfolio_duration__hHjPU",overlay:"portfolio_overlay__1POnn"}},417:function(e,t,n){},418:function(e,t,n){"use strict";n.r(t);var r,i,a,o=n(0),c=n.n(o),s=n(20),u=n.n(s),l=n(221),d=n(448),p=n(7),b=n(71),f=n(29),h=n(141),j=n.n(h),m=n(10),v=n(58),O=n(16),x=n(47),g=n(48),y=n(5),_=(n(153),n(3)),C=n(154),w=n(30),I=n(198),S=n.n(I),k=n(4),P=n.n(k),T=n(6);!function(e){e.EditorStore="eyeMoEditorStore",e.UserStore="eyeMoUserStore"}(r||(r={})),function(e){e.Create="create",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show",e.EditGifs="editGifs",e.EditShot="editShot"}(i||(i={})),function(e){e.GOOGLE="google"}(a||(a={}));var N,B,E,L,A,G,M,D,R,z,W,F,U,V,q,H,Y,J,Q,Z,K,X,$,ee,te=new(function(){function e(){Object(x.a)(this,e),this.control=[]}return Object(g.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[he.activePlayerIndex].player.getCurrentTime()}},{key:"stop",value:function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return he.playing[t]=!1,e.next=5,Object(_.s)((function(){return!he.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return he.playing[t]=!0,e.next=5,Object(_.s)((function(){return he.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var n=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(!(n.length>1&&void 0!==n[1])||n[1])&&(he.mode=i.PlayOne),he.isLoading=!0,e.next=5,this.stop(he.activePlayerIndex);case 5:return he.currentCutIndex=t,e.next=8,this.preloadCut(he.activePlayerIndex,t);case 8:return e.next=10,this.start(he.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he.isLoading=!0,he.createCurrentCuts(he.shotCuts),0!==he.currentCuts.length){e.next=6;break}return e.next=5,this.start(he.activePlayerIndex);case 5:return e.abrupt("return");case 6:return t||(he.mode=i.PlayAll),e.next=9,this.preloadShotCuts();case 9:return e.next=11,this.start(he.activePlayerIndex);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he.mode=i.Create,he.currentCutIndex=-1,void 0!==he.sources[t]){e.next=4;break}return e.abrupt("return");case 4:he.currentSourceIndex=t,n=0;case 6:if(!(n<he.players.length)){e.next=13;break}return e.next=9,this.stop(n);case 9:n===he.activePlayerIndex&&(he.players[n]=Object(m.a)(Object(m.a)({},he.players[n]),{},{url:he.sources[t].url,playing:!1}));case 10:n+=1,e.next=6;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he.mode=i.Show,e.next=3,this.playAll(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(T.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he.players[t]=Object(m.a)(Object(m.a)({},he.players[t]),{},{url:he.currentCuts[n].url,cutIndex:n}),he.players[t].preloading=!0,he.players[t].muted=!0,e.next=5,this.start(t);case 5:return e.next=7,this.stop(t);case 7:this.control[t].player.getInternalPlayer().seekTo(he.currentCuts[n].time.startTime,!0),he.players[t].muted=!1,he.players[t].preloading=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"quickMoveToPosition",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=he.activePlayerIndex,this.control[n].player.getInternalPlayer().seekTo(t,!0);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rewindOn",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=he.activePlayerIndex,void 0!==(r=this.control[n].player.getInternalPlayer().getCurrentTime())&&null!==r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.quickMoveToPosition(r+t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"preloadShotCuts",value:function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<he.players.length)){e.next=14;break}return e.next=4,this.stop(t);case 4:if(!(t<he.shotCuts.length)){e.next=10;break}return he.players[t].isVisible=0===t,e.next=8,this.preloadCut(t,t);case 8:e.next=11;break;case 10:he.players[t]={id:he.players[t].id,muted:!1,url:"",playing:!1,preloading:!1,cutIndex:t,isVisible:!1};case 11:t+=1,e.next=1;break;case 14:he.activePlayerIndex=0,he.currentCutIndex=0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToNextShotCut",value:function(){var e=Object(T.a)(P.a.mark((function e(t){var n,r,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=he.currentCutIndex===he.currentCuts.length-1,he.isShowTransition=!n,e.next=4,this.stop(t);case 4:if(!n){e.next=7;break}return console.log("Last cut is end"),e.abrupt("return");case 7:return r=he.currentCutIndex+he.players.length,i=r<he.currentCuts.length,console.log("Go from ".concat(he.currentCutIndex," to ").concat(he.nextCutIndex," cut")),he.activePlayerIndex=he.nextPlayerIndex,he.currentCutIndex=he.nextCutIndex,e.next=14,this.start(he.activePlayerIndex);case 14:if(he.players[t].isVisible=!1,he.players[he.activePlayerIndex].isVisible=!0,setTimeout((function(){return he.isShowTransition=!1}),400),i){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,this.preloadCut(t,r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimePosition",value:function(){var e=this.control[he.activePlayerIndex].player.getCurrentTime();if(he.currentCutIndex<0)return e;for(var t=0,n=0;n<he.currentCuts.length&&!(n>he.currentCutIndex);n+=1){var r=he.currentCuts[n].time.startTime,i=he.currentCuts[n].time.endTime;n===he.currentCutIndex?t+=e-r:t+=i-r}return t}},{key:"getCurrentPlayerDuration",value:function(){var e;if(this.control[he.activePlayerIndex]){var t=null===(e=this.control[he.activePlayerIndex].player.getInternalPlayer())||void 0===e?void 0:e.getDuration();return null!==t?t:0}}}]),e}()),ne=new(function(){function e(){Object(x.a)(this,e),this.customGif=null}return Object(g.a)(e,[{key:"getCutTime",value:function(e){var t={startTime:0,endTime:0},n=this.getGifIndexById(e);if(null!==n){var r=he.gifs[n].cutId;he.currentCuts.map((function(e){return e.id===r&&(t=e.time),e}))}return t}},{key:"setGifTime",value:function(e,t){var n=this.getGifIndexById(e);null!==n&&(he.gifs[n].startShowTime=t[0],he.gifs[n].endShowTime=t[1])}},{key:"getGifIndexById",value:function(e){var t=null;return he.gifs.map((function(n,r){return n.id===e&&(t=r),n})),t}},{key:"getGifTime",value:function(e){var t=[0,0],n=this.getGifIndexById(e);return null!==n&&(t=[he.gifs[n].startShowTime,he.gifs[n].endShowTime]),t}},{key:"isShowGif",value:function(e){if(void 0===he.currentCuts[he.currentCutIndex]||e.cutId!==he.currentCuts[he.currentCutIndex].id)return!1;var t=te.getActivePlayerPosition();return t>=e.startShowTime&&t<=e.endShowTime}},{key:"checkShowGifs",value:function(e){if(he)for(var t=0;t<he.gifs.length;t+=1){var n,r,i=he.gifs[t];if(void 0!==he.currentCuts[he.currentCutIndex]){var a=i.id===(null===(n=this.customGif)||void 0===n?void 0:n.id)?this.customGif.startShowTime:i.startShowTime,o=i.id===(null===(r=this.customGif)||void 0===r?void 0:r.id)?this.customGif.endShowTime:i.endShowTime;i.cutId===he.currentCuts[he.currentCutIndex].id&&i.cutId===he.currentCuts[he.currentCutIndex].id&&e>=a&&e<o?(he.gifs[t].isShow||console.log("Show gif on position: "+e),he.gifs[t].isShow=!0):(he.gifs[t].isShow&&console.log("Hide gif on position: "+e),he.gifs[t].isShow=!1)}else he.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){he.gifs=he.gifs.filter((function(t){return t.id!==e}))}},{key:"setCustomGifData",value:function(e){this.customGif=e}},{key:"getGifListForCut",value:function(e){if(void 0===he.currentCuts[e])return[];var t=he.currentCuts[e].id;return he.gifs.filter((function(e){return e.cutId===t}))}}]),e}()),re={isDev:!1,agora:{appId:"df4bc258854f4cb293dc97a3ab0fc123",appToken:"006df4bc258854f4cb293dc97a3ab0fc123IACrGJ2lVwuokMZ2x6ksR30jre117a/3bMmzvzuwsWLIQHiLwJYAAAAAEAAEa9nryolLYAEAAQDKiUtg"},google:{clientId:"408329112054-lostlgmbd8r8ncskmnfnfoqv50j84bev.apps.googleusercontent.com"},server:{url:"https://api.dev.eyemo.app"}};Object(_.i)({enforceActions:"never"});var ie=S()(window.location.href,!0),ae=null,oe=null,ce=null,se=null;if((ie.query.cuts||ie.query.shotCuts||ie.query.sources)&&(localStorage.removeItem(r.EditorStore),window.history.pushState(null,"","/")),ie.query.cuts){var ue=decodeURIComponent(ie.query.cuts);ae=ue.split(",").map((function(e){var t=e.split("::");return{id:t[0],url:t[1],time:{startTime:parseFloat(t[2]),endTime:parseFloat(t[3])}}}))}if(ie.query.shotCuts){var le=decodeURIComponent(ie.query.shotCuts);oe=le.split(",").map((function(e){var t=e.split("::");return{id:t[0],url:t[1],time:{startTime:parseFloat(t[2]),endTime:parseFloat(t[3])}}}))}if(ie.query.sources){var de=decodeURIComponent(ie.query.sources);ce=de.split(",").map((function(e){var t=e.split("::");return{id:t[0],index:parseFloat(t[1]),url:t[2]}}))}if(ie.query.gifs){var pe=decodeURIComponent(ie.query.gifs);se=pe.split(",").map((function(e){var t=e.split("::");return{canvasHeight:parseFloat(t[0]),canvasWidth:parseFloat(t[1]),cutId:t[2],endShowTime:parseFloat(t[3]),height:parseFloat(t[4]),id:t[5],isShow:!1,src:t[6],startShowTime:parseFloat(t[7]),width:parseFloat(t[8]),x:parseFloat(t[9]),y:parseFloat(t[10])}}))}var be=ce&&ce.length>0,fe=new(N=function(){function e(){var t=this;Object(x.a)(this,e),Object(O.a)(this,"sources",B,this),Object(O.a)(this,"mode",E,this),Object(O.a)(this,"cuts",L,this),Object(O.a)(this,"shotCuts",A,this),Object(O.a)(this,"currentCuts",G,this),Object(O.a)(this,"gifs",M,this),Object(O.a)(this,"players",D,this),Object(O.a)(this,"playing",R,this),Object(O.a)(this,"activePlayerIndex",z,this),Object(O.a)(this,"currentCutIndex",W,this),Object(O.a)(this,"activeCutIndex",F,this),Object(O.a)(this,"editCutIndex",U,this),Object(O.a)(this,"currentSourceIndex",V,this),Object(O.a)(this,"selectedGifId",q,this),Object(O.a)(this,"isEnableCanvas",H,this),Object(O.a)(this,"canvasSize",Y,this),Object(O.a)(this,"isLoading",J,this),Object(O.a)(this,"isShowTransition",Q,this),Object(O.a)(this,"isConnectedChat",Z,this),Object(O.a)(this,"isEnableMic",K,this),Object(O.a)(this,"isShowRecButton",X,this),Object(O.a)(this,"isShowGifList",$,this),Object(O.a)(this,"isLoadingApp",ee,this),Object(_.o)(this),Object(_.g)((function(){return console.log("--\x3e In ".concat(t.mode.toUpperCase()," mode"))})),Object(_.g)((function(){if(null!==t.selectedGifId){var e=ne.getGifIndexById(t.selectedGifId);t.isEnableCanvas||null===t.activeCutIndex||null===e||t.currentCuts[t.activeCutIndex].id===t.gifs[e].cutId||(t.selectedGifId=null)}})),Object(_.g)((function(){-1===t.currentCutIndex&&ne.checkShowGifs(0)})),Object(_.g)((function(){t.mode===i.Create?(t.editCutIndex=null,t.isShowRecButton=!0,t.activeCutIndex=null,t.isShowGifList=!1,t.isEnableCanvas=!1,t.selectedGifId=null):t.mode===i.Show||t.mode===i.PlayAll?(t.editCutIndex=null,t.isShowRecButton=!1,t.activeCutIndex=null,t.isShowGifList=!1,t.isEnableCanvas=!1,t.selectedGifId=null):t.mode===i.PlayOne?(t.editCutIndex=null,t.isShowRecButton=!1,t.isEnableCanvas=!1):t.mode===i.EditShot?(t.isShowRecButton=!1,t.isShowGifList=!1,t.isEnableCanvas=!1,t.selectedGifId=null):t.mode===i.EditGifs&&(t.editCutIndex=null,t.isShowRecButton=!1,t.isShowGifList=!0,t.isEnableCanvas=!0)}))}return Object(g.a)(e,[{key:"shareUrl",get:function(){if(0===this.sources.length)return null;var e=window.location.href.split("?")[0];return"".concat(e,"?sources=").concat(encodeURIComponent(this.sources.map((function(e){return[e.id,e.index,e.url].join("::")})).join(",")),"&cuts=").concat(encodeURIComponent(this.cuts.map((function(e){var t,n;return[e.id,e.url,null===(t=e.time)||void 0===t?void 0:t.startTime,null===(n=e.time)||void 0===n?void 0:n.endTime].join("::")})).join(",")),"&shotCuts=").concat(encodeURIComponent(this.shotCuts.map((function(e){var t,n;return[e.id,e.url,null===(t=e.time)||void 0===t?void 0:t.startTime,null===(n=e.time)||void 0===n?void 0:n.endTime].join("::")})).join(",")),"&gifs=").concat(encodeURIComponent(this.gifs.map((function(e){return[e.canvasHeight,e.canvasWidth,e.cutId,e.endShowTime,e.height,e.id,e.src,e.startShowTime,e.width,e.x,e.y].join("::")})).join(",")))}},{key:"trailerLength",get:function(){return this.cuts.reduce((function(e,t,n){return t.time?e+t.time.endTime-t.time.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.currentCutIndex===this.currentCuts.length-1?0:this.currentCutIndex+1}},{key:"createCurrentCuts",value:function(e){this.currentCuts=JSON.parse(JSON.stringify(e))}},{key:"addCutAndShot",value:function(e){var t=Object(C.a)();this.cuts.push({id:t,url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}}),this.shotCuts.push({id:Object(C.a)(),url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}})}},{key:"addShot",value:function(e){var t=this.getCutById(e);null!==t&&this.shotCuts.push({id:Object(C.a)(),url:t.url,time:{startTime:t.time.startTime,endTime:t.time.endTime}})}},{key:"replaceShot",value:function(e,t,n){var r=this.shotCuts.find((function(t){return t.id===e}));r&&(fe.shotCuts.splice(t,1),fe.shotCuts.splice(n,0,r))}},{key:"addSource",value:function(e){this.sources=[].concat(Object(v.a)(this.sources),[{id:Object(C.a)(),index:this.sources.length,url:e}]),te.changeModeToCreate(this.sources.length-1)}},{key:"addGif",value:function(e,t){var n=this.currentCuts[t];this.gifs=[].concat(Object(v.a)(this.gifs),[{id:Object(C.a)(),src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:n.time.startTime,endShowTime:n.time.endTime,cutId:n.id,isShow:!0}])}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,r=t.width,i=t.canvasWidth,a=t.canvasHeight,o=t.x,c=t.y,s=this.canvasSize.width/i,u=this.canvasSize.height/a;this.gifs[e]=Object(m.a)(Object(m.a)({},this.gifs[e]),{},{height:n*u,width:r*s,x:o*s,y:c*u,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"removeCut",value:function(e){this.cuts=this.cuts.filter((function(t,n){return n!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeShotCut",value:function(e){this.shotCuts=this.shotCuts.filter((function(t){return t.id!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeSource",value:function(e){var t=this.sources[e].url;this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})),this.cuts=this.cuts.filter((function(e){return e.url!==t}))}},{key:"clearStore",value:function(){var e=this;this.sources=[],this.mode=i.Create,this.cuts=[],this.shotCuts=[],this.currentCuts=[],this.gifs=[],this.players=[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}})),this.activePlayerIndex=0,this.currentCutIndex=-1,this.activeCutIndex=null,this.editCutIndex=null,this.currentSourceIndex=-1,this.selectedGifId=null}},{key:"getCutById",value:function(e){var t=null;return this.cuts.map((function(n){return console.log(n.id),n.id===e&&(t=n),n})),t}}]),e}(),B=Object(y.a)(N.prototype,"sources",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce||[]}}),E=Object(y.a)(N.prototype,"mode",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return be?i.Show:i.Create}}),L=Object(y.a)(N.prototype,"cuts",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae||[]}}),A=Object(y.a)(N.prototype,"shotCuts",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe||[]}}),G=Object(y.a)(N.prototype,"currentCuts",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Object(y.a)(N.prototype,"gifs",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return se||[]}}),D=Object(y.a)(N.prototype,"players",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}}))}}),R=Object(y.a)(N.prototype,"playing",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(e){return!1}))}}),z=Object(y.a)(N.prototype,"activePlayerIndex",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=Object(y.a)(N.prototype,"currentCutIndex",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.shotCuts.length>0?0:-1}}),F=Object(y.a)(N.prototype,"activeCutIndex",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=Object(y.a)(N.prototype,"editCutIndex",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Object(y.a)(N.prototype,"currentSourceIndex",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),q=Object(y.a)(N.prototype,"selectedGifId",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=Object(y.a)(N.prototype,"isEnableCanvas",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=Object(y.a)(N.prototype,"canvasSize",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),J=Object(y.a)(N.prototype,"isLoading",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(y.a)(N.prototype,"isShowTransition",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(y.a)(N.prototype,"isConnectedChat",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=Object(y.a)(N.prototype,"isEnableMic",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Object(y.a)(N.prototype,"isShowRecButton",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$=Object(y.a)(N.prototype,"isShowGifList",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=Object(y.a)(N.prototype,"isLoadingApp",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Object(y.a)(N.prototype,"shareUrl",[_.h],Object.getOwnPropertyDescriptor(N.prototype,"shareUrl"),N.prototype),Object(y.a)(N.prototype,"trailerLength",[_.h],Object.getOwnPropertyDescriptor(N.prototype,"trailerLength"),N.prototype),Object(y.a)(N.prototype,"nextPlayerIndex",[_.h],Object.getOwnPropertyDescriptor(N.prototype,"nextPlayerIndex"),N.prototype),Object(y.a)(N.prototype,"nextCutIndex",[_.h],Object.getOwnPropertyDescriptor(N.prototype,"nextCutIndex"),N.prototype),Object(y.a)(N.prototype,"createCurrentCuts",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"createCurrentCuts"),N.prototype),Object(y.a)(N.prototype,"addCutAndShot",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"addCutAndShot"),N.prototype),Object(y.a)(N.prototype,"addShot",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"addShot"),N.prototype),Object(y.a)(N.prototype,"replaceShot",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"replaceShot"),N.prototype),Object(y.a)(N.prototype,"addSource",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"addSource"),N.prototype),Object(y.a)(N.prototype,"addGif",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"addGif"),N.prototype),Object(y.a)(N.prototype,"scaleGifs",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"scaleGifs"),N.prototype),Object(y.a)(N.prototype,"removeCut",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"removeCut"),N.prototype),Object(y.a)(N.prototype,"removeShotCut",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"removeShotCut"),N.prototype),Object(y.a)(N.prototype,"removeSource",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"removeSource"),N.prototype),Object(y.a)(N.prototype,"clearStore",[_.f],Object.getOwnPropertyDescriptor(N.prototype,"clearStore"),N.prototype),N);re.isDev&&(window.editorStore=fe);var he=fe;new w.a(fe,{storageKey:r.EditorStore,storage:localStorage}).init();var je,me,ve,Oe,xe,ge,ye,_e,Ce,we,Ie,Se=n.p+"static/media/frames.7fe1096a.svg",ke=n.p+"static/media/gif.cd91ed47.svg",Pe=n.p+"static/media/text.0504dd60.svg",Te=n.p+"static/media/sticker.689907e4.svg",Ne=n.p+"static/media/transitions.876ac694.svg",Be=n.p+"static/media/Youtube.99625859.svg",Ee="frames",Le="transition",Ae="text",Ge="gifs",Me="sticker",De="youtube",Re=[{id:Ee,icon:Se},{id:Le,icon:Ne},{id:Ae,icon:Pe},{id:Ge,icon:ke},{id:Me,icon:Te},{id:De,icon:Be}],ze=new(je=function(){function e(){var t=this;Object(x.a)(this,e),Object(O.a)(this,"user",me,this),Object(O.a)(this,"tokens",ve,this),Object(O.a)(this,"googleToken",Oe,this),Object(O.a)(this,"isShowUserProfile",xe,this),Object(O.a)(this,"visitorId",ge,this),Object(O.a)(this,"tab",ye,this),Object(O.a)(this,"isShowContent",_e,this),Object(O.a)(this,"isDragStart",Ce,this),Object(O.a)(this,"portfolio",we,this),Object(O.a)(this,"currentPortfolioItem",Ie,this),Object(_.o)(this),Object(_.g)((function(){t.currentPortfolioItem={cuts:he.cuts,shots:he.shotCuts,sources:he.sources,gifs:he.gifs}}))}return Object(g.a)(e,[{key:"changeTab",value:function(e){this.tab=e}},{key:"setIsShowContent",value:function(e){this.isShowContent=e}},{key:"setDragStart",value:function(e){this.isDragStart=e}},{key:"addPortfolioItem",value:function(){this.portfolio.push({cuts:he.cuts,shots:he.shotCuts,sources:he.sources,gifs:he.gifs})}},{key:"loadPortfolioItem",value:function(e){he.cuts=e.cuts,he.shotCuts=e.shots,he.sources=e.sources,he.gifs=e.gifs}}]),e}(),me=Object(y.a)(je.prototype,"user",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Object(y.a)(je.prototype,"tokens",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=Object(y.a)(je.prototype,"googleToken",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=Object(y.a)(je.prototype,"isShowUserProfile",[w.b,_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=Object(y.a)(je.prototype,"visitorId",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=Object(y.a)(je.prototype,"tab",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee}}),_e=Object(y.a)(je.prototype,"isShowContent",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ce=Object(y.a)(je.prototype,"isDragStart",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),we=Object(y.a)(je.prototype,"portfolio",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ie=Object(y.a)(je.prototype,"currentPortfolioItem",[_.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(y.a)(je.prototype,"changeTab",[_.f],Object.getOwnPropertyDescriptor(je.prototype,"changeTab"),je.prototype),Object(y.a)(je.prototype,"setIsShowContent",[_.f],Object.getOwnPropertyDescriptor(je.prototype,"setIsShowContent"),je.prototype),Object(y.a)(je.prototype,"setDragStart",[_.f],Object.getOwnPropertyDescriptor(je.prototype,"setDragStart"),je.prototype),Object(y.a)(je.prototype,"addPortfolioItem",[_.f],Object.getOwnPropertyDescriptor(je.prototype,"addPortfolioItem"),je.prototype),Object(y.a)(je.prototype,"loadPortfolioItem",[_.f],Object.getOwnPropertyDescriptor(je.prototype,"loadPortfolioItem"),je.prototype),je),We=ze;new w.a(ze,{storageKey:r.UserStore,storage:localStorage}).init();var Fe=Object(o.createContext)({editorStore:he,userStore:We}),Ue=function(){return Object(o.useContext)(Fe)},Ve=n(9),qe=n(114),He=n.n(qe),Ye=n(199),Je=n.n(Ye),Qe=n(200),Ze=n.n(Qe),Ke=n(223),Xe=function(){var e=Object(T.a)(P.a.mark((function e(){var t,n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.load();case 2:return t=e.sent,e.next=5,t.get({debug:!1});case 5:n=e.sent,r=n.visitorId,We.visitorId=r;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=Ze.a.create({baseURL:re.server.url,headers:{"X-Custom-Header":"eyeMo"},responseType:"json"}),et={getUserProfile:function(){var e;return $e({method:"GET",url:"/user/profile",headers:{Authorization:"Bearer ".concat(null===(e=We.tokens)||void 0===e?void 0:e.accessToken),"x-browser-fingerprint":We.visitorId}})},getNewAccessToken:function(){var e;return $e({method:"GET",headers:{"x-browser-fingerprint":We.visitorId},url:"/user/access/token?refreshToken=".concat(null===(e=We.tokens)||void 0===e?void 0:e.refreshToken)})},postLogin:function(){return $e({method:"POST",headers:{"x-browser-fingerprint":We.visitorId},url:"/user/login/google",data:{idToken:We.googleToken}})},postLogout:function(){var e;return $e({method:"POST",headers:{"x-browser-fingerprint":We.visitorId},url:"/user/logout",data:{refreshToken:null===(e=We.tokens)||void 0===e?void 0:e.refreshToken}})}},tt=n.p+"static/media/user.e027a384.png",nt=n.p+"static/media/activeStatus.efaf463f.svg",rt=n.p+"static/media/TikTok.68bfb298.svg",it=n.p+"static/media/Youtube.306db314.svg",at=n.p+"static/media/Facebook.828a81ba.svg",ot=n.p+"static/media/Discord.5e927e26.svg",ct=n.p+"static/media/Link.7cb58b31.svg",st=n(59),ut=n.n(st),lt=n(201),dt=n.n(lt),pt=n(202),bt=n.n(pt),ft=n(1),ht={className:"slider variable-width",variableWidth:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,autoplay:!0,pauseOnHover:!1,speed:6e3,autoplaySpeed:0,cssEase:"linear"},jt=function(){return Object(ft.jsx)(dt.a,Object(m.a)(Object(m.a)({},ht),{},{children:Object(v.a)(new Array(5)).map((function(e,t){return Object(ft.jsx)("div",{className:bt.a.item},t)}))}))},mt=[rt,ot,at,it,ct],vt=function(e){var t=e.user;e.logout;return Object(ft.jsxs)("div",{className:ut.a.container,children:[Object(ft.jsx)("div",{className:ut.a.slides,children:Object(ft.jsx)(jt,{})}),Object(ft.jsxs)("div",{className:ut.a.userImage,children:[Object(ft.jsx)("div",{className:ut.a.image,children:Object(ft.jsx)("img",{src:t.photoUrl||tt,alt:"User image"})}),Object(ft.jsx)("div",{className:ut.a.status,children:Object(ft.jsx)("img",{src:nt,alt:"Active status"})})]}),Object(ft.jsx)("p",{className:ut.a.name,children:t.username}),Object(ft.jsx)("p",{className:ut.a.totalTime,children:"156.000.000 sec."}),Object(ft.jsx)("ul",{className:ut.a.socialList,children:mt.map((function(e,t){return Object(ft.jsx)("li",{children:Object(ft.jsx)("a",{href:"#",target:"_blank",children:Object(ft.jsx)("img",{src:e,alt:"Social item"})})},t)}))})]})},Ot=n.p+"static/media/addIcon.f9e36598.svg",xt=n(38),gt=n.n(xt),yt=n(64),_t=n.n(yt),Ct=n.p+"static/media/mock.a377b9bb.png",wt=n.p+"static/media/more.99c8af66.svg",It=n.p+"static/media/share.281e367b.svg",St=function(e){var t=e.item,n=e.index,r=e.openModal,i=Object(o.useRef)(null),a=Object(o.useState)(0),c=Object(Ve.a)(a,2),s=c[0],u=c[1];Ue().userStore;Object(o.useEffect)((function(){var e=setInterval((function(){s!==t.sources.length-1?u(s+1):u(0)}),2e3);return function(){return clearInterval(e)}}));var l=[{text:"Open in modal",action:function(e){e.stopPropagation(),r(!0)}},{text:"Edit video",action:function(e){e.stopPropagation(),console.log("edit")}},{text:"Delete video",action:function(e){e.stopPropagation(),console.log("delete")}}];return Object(ft.jsxs)("div",{className:gt.a.playerWrapper,children:[Object(ft.jsx)("div",{className:gt.a.player,onClick:function(){r(!0)},children:t.sources.length<1?Object(ft.jsx)("img",{src:Ct,alt:"Mock image"}):Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)("div",{className:gt.a.buttons,children:Object(ft.jsxs)("div",{className:gt.a.buttonsContainer,children:[Object(ft.jsx)("button",{className:gt.a.button,children:Object(ft.jsx)("img",{src:wt,alt:"More"})}),Object(ft.jsx)("ul",{className:gt.a.buttonsList,children:l.map((function(e){var t=e.text,n=e.action;return Object(ft.jsx)("li",{className:gt.a.buttonItem,children:Object(ft.jsx)("button",{onClick:function(e){return n(e)},children:t})})}))})]})}),Object(ft.jsx)("button",{className:gt.a.shareButton,onClick:function(){return console.log("share")},children:Object(ft.jsx)("img",{src:It,alt:"share"})}),Object(ft.jsx)(_t.a,{ref:i,width:"100%",height:"100%",url:t.sources[s].url,muted:!0,controls:!1,light:!0,playIcon:Object(ft.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},t.sources[0].id)]})},n),Object(ft.jsx)("p",{className:gt.a.duration,children:"124,515 sec. view"})]})},kt=n(142),Pt=n.n(kt),Tt=n.p+"static/media/close.15725202.svg",Nt=n(143),Bt=n.n(Nt);Pt.a.setAppElement("#root");var Et,Lt,At={content:{top:"0%",left:"0%",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,.8)",border:"none",borderRadius:0,overflow:"hidden"},overlay:{backdropFilter:"blur(3px)"}},Gt=function(e){var t=e.isOpen,n=e.children,r=e.toggleModal;return Object(ft.jsx)(Pt.a,{isOpen:t,style:At,children:Object(ft.jsxs)("div",{className:Bt.a.block,children:[Object(ft.jsx)("button",{className:Bt.a.closeButton,onClick:function(){return r(!1)},children:Object(ft.jsx)("img",{src:Tt,alt:"close"})}),n]})})},Mt=n(97),Dt=n.n(Mt),Rt=function(){return Object(ft.jsxs)("div",{className:Dt.a.container,children:[Object(ft.jsx)("p",{className:Dt.a.title,children:"Also see other videos:"}),Object(ft.jsx)("ul",{className:Dt.a.list,children:Object(v.a)(new Array(10)).map((function(e,t){return Object(ft.jsx)("li",{className:Dt.a.listItem},t)}))})]})},zt=n(85),Wt=n.n(zt),Ft=function(){var e=Ue().userStore.user;return Object(ft.jsxs)("div",{className:Wt.a.container,children:[Object(ft.jsx)("div",{className:Wt.a.image,children:Object(ft.jsx)("img",{src:(null===e||void 0===e?void 0:e.photoUrl)||"",alt:"user image"})}),Object(ft.jsxs)("div",{className:Wt.a.info,children:[Object(ft.jsx)("span",{className:Wt.a.name,children:null===e||void 0===e?void 0:e.username}),Object(ft.jsx)("span",{className:Wt.a.duration,children:"154,521 sec. view"})]})]})},Ut=n(124),Vt=n.n(Ut),qt=function(){return Object(ft.jsxs)("div",{className:Vt.a.container,children:[Object(ft.jsx)("div",{className:Vt.a.player}),Object(ft.jsx)("div",{className:Vt.a.userWrapper,children:Object(ft.jsx)(Ft,{})}),Object(ft.jsx)(Rt,{})]})},Ht=Object(p.a)((function(){var e=Ue(),t=e.userStore,n=e.editorStore,r=Object(o.useState)(!1),i=Object(Ve.a)(r,2),a=i[0],c=i[1],s=function(e){return c(e)};return Object(ft.jsxs)("div",{className:gt.a.container,children:[Object(ft.jsxs)("div",{className:gt.a.title,children:[Object(ft.jsx)("p",{children:"My Portfolio"}),Object(ft.jsx)("p",{children:"Recent Videos"})]}),Object(ft.jsxs)("ul",{className:gt.a.list,children:[Object(ft.jsx)("button",{className:gt.a.addButton,onClick:function(e){t.addPortfolioItem(),n.clearStore(),t.isShowUserProfile=!1},children:Object(ft.jsx)("img",{src:Ot,alt:"Add icon"})}),t.currentPortfolioItem&&Object(ft.jsx)(St,{item:t.currentPortfolioItem,openModal:s}),t.portfolio.map((function(e,t){return Object(ft.jsx)(St,{item:e,index:t,openModal:s})}))]}),Object(ft.jsx)(Gt,{isOpen:a,toggleModal:s,children:Object(ft.jsx)(qt,{})})]})})),Yt=Object(p.a)((function(){var e=Ue().userStore,t=Object(o.useState)(!1),n=Object(Ve.a)(t,2),r=(n[0],n[1]),i=function(){var t=Object(T.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,et.postLogout();case 3:e.user=null,e.tokens=null,e.googleToken=null,e.isShowUserProfile=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(!0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(ft.jsxs)("div",{className:Je.a.container,children:[Object(ft.jsx)(b.b,{to:"/",children:Object(ft.jsx)(He.a,{})}),e.user&&Object(ft.jsx)(vt,{logout:i,user:e.user}),Object(ft.jsx)(Ht,{})]})})),Jt=n(11),Qt=n(66),Zt=n(125),Kt=n.n(Zt),Xt=n(19),$t=n.n(Xt),en=n(146),tn=n.n(en),nn=function(e){var t=e.title,n=e.children;return Object(ft.jsxs)("div",{className:tn.a.container,children:[Object(ft.jsx)("h2",{className:tn.a.title,children:t}),n]})},rn=n(207),an=n(91),on=n(121),cn=n.n(on),sn=n(147),un=n.n(sn),ln=n(98),dn=n.n(ln),pn=n.p+"static/media/closeIcon.0b48234f.svg",bn=function(e){var t=e.value,n=e.placeholder,r=e.onChange;return Object(ft.jsxs)("div",{className:dn.a.container,children:[Object(ft.jsx)("input",{onChange:function(e){return r(e.target.value)},value:t,placeholder:n,className:dn.a.input}),t&&Object(ft.jsx)("div",{className:dn.a.buttonsBlock,children:Object(ft.jsx)("button",{type:"button",className:dn.a.clearButton,onClick:function(){return r("")},children:Object(ft.jsx)("img",{src:pn,alt:"Close icon"})})})]})},fn=new an.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");!function(e){e.Trending="trending",e.Search="search"}(Et||(Et={})),function(e){e.Gifs="gifs",e.Stickers="stickers",e.Text="text"}(Lt||(Lt={}));var hn=function(e){var t=e.width,n=e.searchText,r=e.fetchType,a=e.type,o=Ue().editorStore;return Object(ft.jsx)(rn.Grid,{fetchGifs:function(e){return r===Et.Search?fn.search(n,{offset:e,limit:10,type:a}):r===Et.Trending?fn.trending({offset:e,limit:10,type:a}):fn.trending({offset:e,limit:10})},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),null!==o.activeCutIndex?(o.addGif(e,o.activeCutIndex),o.mode=i.EditGifs):alert("\u0422\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b \u043a\u0443\u0441\u043e\u0447\u0435\u043a!")}})},jn=Object(p.a)((function(e){var t=e.type,n=c.a.createRef(),r=Object(o.useState)(null),i=Object(Ve.a)(r,2),a=i[0],s=i[1],u=Object(o.useState)(""),l=Object(Ve.a)(u,2),d=l[0],p=l[1],b=Object(o.useState)(!0),f=Object(Ve.a)(b,2),h=f[0],j=f[1];return Object(o.useEffect)((function(){n&&s(n.current.offsetWidth)}),[n]),Object(o.useEffect)((function(){var e=setTimeout((function(){j(!0)}),1e3);return function(){return clearTimeout(e)}}),[d]),Object(ft.jsxs)("div",{ref:n,className:un.a.root,children:[Object(ft.jsx)(bn,{placeholder:"Search with GIPHY",value:d,onChange:function(e){j(!1),p(e)}}),a&&Object(ft.jsxs)("div",{className:un.a.gifsPanel,children:[h&&""===d&&Object(ft.jsx)(hn,{width:a,searchText:d,fetchType:Et.Trending,type:t}),h&&""!==d&&Object(ft.jsx)(hn,{width:a,searchText:d,fetchType:Et.Search,type:t}),Object(ft.jsx)(cn.a,{onResize:function(e){e.width}})]})]})})),mn=Object(p.a)((function(e){var t=e.type;return Object(ft.jsx)(nn,{title:"Add Gif",children:Object(ft.jsx)(jn,{type:t})})})),vn=n(443),On=n(450),xn=n(444),gn=n(420),yn=n(449),_n=n(99),Cn=n.n(_n),wn=n(209),In=re.google.clientId,Sn=Object(p.a)((function(e){var t=e.onLogin,n=e.onError;return Object(ft.jsx)("div",{children:Object(ft.jsx)(wn.GoogleLogin,{clientId:In,buttonText:"Sign in with Google",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin",responseType:"code,token"})})})),kn=Object(p.a)((function(){var e=Ue().userStore,t=Object(o.useState)(!1),n=Object(Ve.a)(t,2),r=n[0],i=n[1],a=Object(o.useState)(!1),c=Object(Ve.a)(a,2),s=c[0],u=c[1],l=function(){var t=Object(T.a)(P.a.mark((function t(n){var r,i,a,o,c;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.tokenId){t.next=3;break}return t.abrupt("return");case 3:return e.googleToken=r,t.prev=4,t.next=7,et.postLogin();case 7:return i=t.sent,a=i.data,e.tokens=a.tokens,t.next=12,et.getUserProfile();case 12:o=t.sent,c=o.data,e.user=c,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),u(!0);case 20:case"end":return t.stop()}}),t,null,[[4,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(ft.jsx)("div",{className:Cn.a.container,children:e.user?Object(ft.jsx)(b.b,{to:"/profile",children:Object(ft.jsx)(vn.a,{children:e.isShowUserProfile?Object(ft.jsx)(He.a,{}):e.user.photoUrl?Object(ft.jsx)(On.a,{alt:"user",src:e.user.photoUrl}):Object(ft.jsx)(On.a,{alt:"user"})})}):Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)(xn.a,{variant:"contained",color:"primary",onClick:function(){i(!0)},style:{fontSize:"10px"},children:"Sign In"}),Object(ft.jsx)(gn.a,{open:r,onClose:function(){i(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:Cn.a.container,children:Object(ft.jsxs)("div",{className:Cn.a.modalContainer,children:[Object(ft.jsx)("h2",{children:"Sign In"}),Object(ft.jsx)(Sn,{onLogin:l,onError:function(e){u(!0)}}),s&&Object(ft.jsx)(yn.a,{severity:"error",className:Cn.a.alert,children:"Failed to log in"})]})})]})})})),Pn=n(100),Tn=n.n(Pn),Nn=function(e){var t=e.value,n=e.isActive,r=e.icon,i=e.onClick;return Object(ft.jsx)("div",{onClick:function(){return i(t)},className:$t()(Tn.a.tabItem,Object(Jt.a)({},Tn.a.active,n)),children:Object(ft.jsx)("img",{src:r,className:$t()(Tn.a.icon,Object(Jt.a)({},Tn.a.activeIcon,n)),alt:"Source icon"})})},Bn=n(210),En=n.n(Bn),Ln=function(e){var t=e.tabs,n=e.activeTab,r=e.handleClick;return Object(ft.jsxs)("div",{className:En.a.container,children:[Object(ft.jsx)(kn,{}),t.map((function(e){var t=e.icon,i=e.id;return Object(ft.jsx)(Nn,{icon:t,isActive:i===n,value:i,onClick:r},i)}))]})},An=n(211),Gn=n(446),Mn=n(447),Dn=n(126),Rn=n.n(Dn),zn="blue",Wn="red",Fn="lightBlue",Un=n(60),Vn=n.n(Un),qn=n.p+"static/media/close.f88f3a6a.svg",Hn=function(e){var t,n=e.text,r=e.type,i=e.active,a=e.disabled,o=e.colorTheme,c=e.withBorder,s=e.deleteButton,u=e.onClick,l=e.onDelete;return Object(ft.jsxs)("button",{className:$t()(Vn.a.button,(t={},Object(Jt.a)(t,Vn.a.active,i),Object(Jt.a)(t,Vn.a.disabled,a),Object(Jt.a)(t,Vn.a.withBorder,c),Object(Jt.a)(t,Vn.a.redTheme,o===Wn),Object(Jt.a)(t,Vn.a.blueTheme,o===zn),Object(Jt.a)(t,Vn.a.lightBlueTheme,o===Fn),t)),disabled:a,type:r||"submit",onClick:u,children:[n,s&&Object(ft.jsx)("div",{className:Vn.a.delete,onClick:l,children:Object(ft.jsx)("img",{src:qn,alt:"close icon"})})]})},Yn=n(127),Jn=n.n(Yn),Qn=n(72),Zn=n.n(Qn),Kn=n.p+"static/media/close.b731002b.svg",Xn=n.p+"static/media/playIcon.737e8ec2.svg",$n=Object(p.a)((function(e){var t=e.cut,n=e.idx,r=(e.isActive,e.isChosenSource),i=(e.onClick,Ue().editorStore),a=Object(o.useRef)(null),c=Object(o.useRef)(null),s=Object(o.useState)(!1),u=Object(Ve.a)(s,2),l=u[0],d=u[1],p=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.createCurrentCuts(i.cuts),e.next=3,te.playOne(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=c.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},f=function(){var e=c.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(o.useEffect)((function(){var e=a.current;return e&&(e.addEventListener("mouseover",(function(){d(!0),b()})),e.addEventListener("mouseout",(function(){d(!1),f()}))),function(){e&&(e.removeEventListener("mouseover",(function(){b()})),e.removeEventListener("mouseout",(function(){f()})))}}),[a]),Object(ft.jsxs)("div",{className:$t()(Zn.a.wrapper,Object(Jt.a)({},Zn.a.isChosenSource,r)),children:[Object(ft.jsx)("div",{className:Zn.a.buttons,children:Object(ft.jsx)("button",{onClick:function(){return i.removeCut(n)},children:Object(ft.jsx)("img",{src:Kn,alt:"Close icon"})})}),Object(ft.jsxs)("div",{className:Zn.a.playerWrapper,ref:a,children:[Object(ft.jsx)(_t.a,{ref:c,width:"100%",height:"100%",url:i.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,c.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(ft.jsx)("button",{onClick:p,className:$t()(Zn.a.playButton,Object(Jt.a)({},Zn.a.isVisible,l)),children:Object(ft.jsx)("img",{src:Xn,alt:"Play icon"})})]})]})}));var er,tr=Object(p.a)((function(){var e=Ue().editorStore,t=Object(o.useState)(""),n=Object(Ve.a)(t,2),r=n[0],i=n[1],a=function(){var t=Object(T.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createCurrentCuts(e.cuts),e.currentCutIndex=n,t.next=4,te.preloadCut(e.activePlayerIndex,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){var t=e.sources[e.currentSourceIndex];void 0!==t&&i(t.url)}),[e.currentSourceIndex]),e.cuts.length,Object(ft.jsx)("div",{className:Jn.a.cutsPanel,children:e.sources.length>0?Object(ft.jsx)(ft.Fragment,{children:Object(ft.jsx)(Qt.c,{droppableId:"column-1",direction:"horizontal",children:function(t){return Object(ft.jsx)("div",Object(m.a)(Object(m.a)({className:Jn.a.cutsList},t.droppableProps),{},{ref:t.innerRef,children:e.cuts.map((function(t,n){return Object(ft.jsx)(Qt.b,{draggableId:t.id.toString(),index:n,children:function(i){return Object(ft.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({},i.draggableProps),i.dragHandleProps),{},{ref:i.innerRef,children:Object(ft.jsx)($n,{idx:n,cut:t.time,isActive:n===e.activeCutIndex,onClick:a,isChosenSource:t.url===r},t.id)}))}},t.id)}))}))}})}):Object(ft.jsx)(Gn.a,{container:!0,className:Jn.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})),nr=Object(p.a)((function(){var e=Ue(),t=e.editorStore,n=e.userStore,r=Object(o.useState)(""),a=Object(Ve.a)(r,2),s=a[0],u=a[1],l=c.a.useState(null),d=Object(Ve.a)(l,2),p=d[0],b=d[1],f=function(e){h()?e&&b(e.currentTarget):(t.addSource(s),n.setIsShowContent(!1),n.changeTab(""),u(""))},h=function(){var e,n=Object(An.a)(t.sources);try{for(n.s();!(e=n.n()).done;){if(e.value.url===s)return!0}}catch(r){n.e(r)}finally{n.f()}return!1},j=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Boolean(p),v=m?"simple-popover":void 0;return Object(ft.jsxs)(nn,{title:"All frames",children:[t.mode!==i.Show&&Object(ft.jsxs)(Gn.a,{container:!0,direction:"column",children:[Object(ft.jsx)(Gn.a,{className:Rn.a.searchLine,item:!0,children:Object(ft.jsxs)("form",{className:Rn.a.form,onSubmit:function(e){e.preventDefault(),s&&f()},children:[Object(ft.jsx)("div",{className:Rn.a.inputWrapper,children:Object(ft.jsx)(bn,{value:s,onChange:function(e){return u(e)},placeholder:"Paste the video link here"})}),Object(ft.jsx)(Hn,{type:"button",text:"Add source",disabled:""===s,onClick:f,colorTheme:zn}),Object(ft.jsx)(Mn.a,{id:v,open:m,anchorEl:p,onClose:function(){b(null),u("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(ft.jsx)("span",{children:"You already have this source."})})]})}),Object(ft.jsx)(Gn.a,{item:!0,container:!0,spacing:2,children:t.sources.map((function(e){return Object(ft.jsx)(Gn.a,{item:!0,children:Object(ft.jsx)(Hn,{text:"Source ".concat(e.index+1),onClick:function(){return j(e.index)},onDelete:function(n){return function(e,n){return e.stopPropagation(),t.removeSource(n),n>0?j(n-1):0===n&&t.sources.length?j(0):void 0}(n,e.index)},deleteButton:!0,colorTheme:Fn,active:e.index===t.currentSourceIndex})},e.id)}))})]}),Object(ft.jsx)(tr,{})]})})),rr=function(e){var t=e.type;return Object(ft.jsx)(nn,{title:"Add Text",children:Object(ft.jsx)(jn,{type:t})})},ir=n(101),ar=n.n(ir),or=n(213),cr=n.n(or),sr=[{id:"default",text:"\u0411\u0435\u0437 \u0447\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u043d\u0430"},{id:"black",text:"\u0421 \u0447\u0435\u0440\u043d\u044b\u043c \u0444\u043e\u043d\u043e\u043c"}],ur=n(149),lr=n.n(ur),dr=function(e){var t=e.isActive,n=e.text,r=e.id,i=e.onClick;return Object(ft.jsx)("button",{className:$t()(lr.a.button,Object(Jt.a)({},lr.a.isActive,t)),onClick:function(){return i(r)},children:n})},pr=function(){var e=Object(o.useState)(sr[0].id),t=Object(Ve.a)(e,2),n=t[0],r=t[1];return Object(ft.jsx)(nn,{title:"Transitions",children:Object(ft.jsx)("ul",{className:cr.a.list,children:sr.map((function(e){var t=e.text,i=e.id;return Object(ft.jsx)(dr,{text:t,id:i,isActive:n===i,onClick:r})}))})})},br=function(e){var t=e.type;return Object(ft.jsx)(nn,{title:"Add Stickers",children:Object(ft.jsx)(jn,{type:t})})},fr=n.p+"static/media/arrow.a4af7684.svg",hr=(er={},Object(Jt.a)(er,Ee,Object(ft.jsx)(nr,{})),Object(Jt.a)(er,Ge,Object(ft.jsx)(mn,{type:Lt.Gifs})),Object(Jt.a)(er,Ae,Object(ft.jsx)(rr,{type:Lt.Text})),Object(Jt.a)(er,Le,Object(ft.jsx)(pr,{})),Object(Jt.a)(er,Me,Object(ft.jsx)(br,{type:Lt.Stickers})),Object(Jt.a)(er,De,Object(ft.jsx)(nr,{})),er),jr=Object(p.a)((function(){var e=Ue().userStore;return Object(ft.jsxs)("div",{className:$t()(ar.a.container,Object(Jt.a)({},ar.a.isActive,e.isShowContent)),children:[Object(ft.jsx)(Ln,{tabs:Re,handleClick:function(t){e.changeTab(t),e.setIsShowContent(!0)},activeTab:e.tab}),e.isShowContent&&Object(ft.jsx)("div",{className:ar.a.content,children:hr[e.tab]}),e.isShowContent&&Object(ft.jsx)("div",{className:ar.a.hideBlock,children:Object(ft.jsx)("button",{onClick:function(){e.setIsShowContent(!1),e.changeTab("")},children:Object(ft.jsx)("img",{src:fr,alt:"arrow icon"})})})]})})),mr=n(225),vr=n(222);function Or(e){return e<10?"0".concat(e.toString(10)):e}function xr(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"00:00:00.0";var n=Math.floor(e/60/60),r=Math.floor(e/60%60),i=Math.floor(e%60),a=Math.floor(10*(e-Math.floor(e))),o="".concat(Or(n),":").concat(Or(r),":").concat(Or(i));return t&&(o="".concat(o,".").concat(a)),o}var gr=n(46),yr=n.n(gr),_r=n(84),Cr=n(215),wr=n.n(Cr),Ir=(n(393),Object(p.a)((function(e){var t=e.gif,n=e.isSelected,r=e.isShow,i=e.onChange,a=e.onSelect,c=Ue().editorStore,s=Object(o.useState)(!1),u=Object(Ve.a)(s,2),l=(u[0],u[1],Object(o.useRef)(null)),d=Object(o.useRef)(),p=Object(o.useMemo)((function(){return document.createElement("canvas")}),[]);Object(o.useEffect)((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(p),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),l.current&&l.current.getLayer().draw()}})),function(){var t;return null===(t=e)||void 0===t?void 0:t.stop()}}),[t.src,p]),Object(o.useEffect)((function(){n&&r&&d.current&&(d.current.nodes([l.current]),d.current.getLayer().batchDraw())}),[n,r]);return Object(ft.jsxs)(ft.Fragment,{children:[r&&Object(ft.jsx)(_r.a,{ref:l,image:p,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:a,onTap:a,onDragEnd:function(e){i(Object(m.a)(Object(m.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=l.current,r=n.scaleX(),a=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(m.a)(Object(m.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*a)}))}}),n&&r&&!c.players[c.activePlayerIndex].playing&&Object(ft.jsx)(_r.d,{ref:d,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})}))),Sr=Object(p.a)((function(){var e=Ue().editorStore,t=function(t){t.target===t.target.getStage()&&(e.selectedGifId=null)},n=function(t){e.selectedGifId=t},r=function(t,n){return e.gifs[t]=n};return Object(ft.jsx)("div",{children:Object(ft.jsx)(_r.c,{className:wr.a.container,width:e.canvasSize.width,height:e.canvasSize.height,style:e.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:t,onTouchStart:t,children:Object(ft.jsx)(_r.b,{children:e.gifs.map((function(t,i){return Object(ft.jsx)(Ir,{gif:t,isSelected:t.id===e.selectedGifId,isShow:t.isShow,onSelect:n.bind(null,t.id),onChange:r.bind(null,i)},t.id)}))})})})})),kr=n(150),Pr=n.n(kr);var Tr,Nr=Object(p.a)((function(e){var t=Ue().editorStore,n=e.updatePosition;Object(o.useEffect)((function(){""===t.players[t.activePlayerIndex].url&&(t.isLoadingApp=!1)}));var r=function(e,n){console.log("Player ".concat(e," onReady")),t.activePlayerIndex===e&&(t.isLoadingApp=!1),te.setPlayer(e,{player:n})},a=function(){var e=Object(T.a)(P.a.mark((function e(r,a){var o,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne.checkShowGifs(a.playedSeconds),r===t.activePlayerIndex&&!t.players[r].preloading&&t.players[r].playing){e.next=4;break}return console.log("Player ".concat(r," onProgress stopped")),e.abrupt("return");case 4:if(t.isLoading&&(t.isLoading=!1),n(te.getTimePosition()),void 0!==(o=t.players[r].cutIndex)&&-1!==t.currentCutIndex){e.next=10;break}return console.log("Player ".concat(r," onProgress No cut index in player")),e.abrupt("return");case 10:c=t.currentCuts[o].time,console.log("Player ".concat(r," onProgress in ").concat(a.playedSeconds," sec (s: ").concat(null===c||void 0===c?void 0:c.startTime," e: ").concat(null===c||void 0===c?void 0:c.endTime)),e.t0=t.mode,e.next=e.t0===i.Create?15:e.t0===i.PlayOne?16:e.t0===i.EditGifs?21:e.t0===i.EditShot?26:e.t0===i.PlayAll?31:e.t0===i.Show?36:41;break;case 15:return e.abrupt("break",41);case 16:if(!f(c,a.playedSeconds)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,te.stop(r);case 20:return e.abrupt("break",41);case 21:if(!f(c,a.playedSeconds)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,te.stop(r);case 25:return e.abrupt("break",41);case 26:if(!f(c,a.playedSeconds)){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,te.stop(r);case 30:return e.abrupt("break",41);case 31:if(!f(c,a.playedSeconds)){e.next=33;break}return e.abrupt("return");case 33:return e.next=35,te.goToNextShotCut(r);case 35:return e.abrupt("break",41);case 36:if(!f(c,a.playedSeconds)){e.next=38;break}return e.abrupt("return");case 38:return e.next=40,te.goToNextShotCut(r);case 40:return e.abrupt("break",41);case 41:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(e){console.log("Player ".concat(e," onBuffer"))},s=function(e){console.log("Player ".concat(e," onBufferEnd"))},u=function(e){console.log("Player ".concat(e," onStart"))},l=function(e){console.log("Player ".concat(e," onPlay")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},d=function(e){console.log("Player ".concat(e," onPause")),t.playing[e]&&(t.playing[e]=!1),t.players[e].playing=!1},p=function(e){console.log("Player ".concat(e," onEnded"))},b=function(e,t){console.log("Player ".concat(e," onSeek"))},f=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(ft.jsx)("div",{children:t.sources.length>0?t.players.map((function(e,n,i){var o=i.length-1-n;return Object(ft.jsx)("div",{style:{visibility:t.players[o].isVisible?"visible":"hidden"},children:Object(ft.jsx)(_t.a,{playing:t.playing[o],className:Pr.a.player,url:t.players[o].url,muted:t.players[o].muted,width:"100%",height:"100%",onPlay:l.bind(null,o),onProgress:a.bind(null,o),onStart:u.bind(null,o),onPause:d.bind(null,o),onEnded:p.bind(null,o),onReady:r.bind(null,o),onSeek:b.bind(null,o),onBufferEnd:s.bind(null,o),onBuffer:c.bind(null,o),progressInterval:100,controls:!0,config:{youtube:{playerVars:{}}}})},t.players[o].id)})):Object(ft.jsx)("div",{className:Pr.a.playerPlaceholder})})})),Br=n(122),Er=n.n(Br),Lr=n(151),Ar=n.n(Lr),Gr=n(24),Mr=n(451),Dr=n(452),Rr=n(102),zr=n.n(Rr),Wr=n.p+"static/media/mouse.bd54b72f.svg",Fr=Object(Gr.a)({tooltip:{display:"flex",alignItems:"center",backgroundColor:"#ebf8ff",color:"#00a3ff",fontSize:14,height:24,borderRadius:2,padding:"5 4",zIndex:100},tooltipPlacementTop:{marginRight:15,marginLeft:15}})(Mr.a),Ur=function(e){var t,n=e.value,r=e.index,i=e.onWheel,a=null===(t=n)?{hours:"00",mins:"00",seconds:"00",fract:"0"}:{hours:Or(Math.floor(t/60/60)),mins:Or(Math.floor(t/60%60)),seconds:Or(Math.floor(t%60)),fract:Math.floor(10*(t-Math.floor(t)))},o=a.hours,c=a.mins,s=a.seconds,u=a.fract;return Object(ft.jsxs)("div",{className:zr.a.tooltipContainer,children:["00"!==o&&Object(ft.jsxs)("span",{onWheel:i.bind(null,r,"hours"),children:[o,":"]}),Object(ft.jsxs)("span",{onWheel:i.bind(null,r,"mins"),children:[c,":"]}),Object(ft.jsxs)("div",{onWheel:i.bind(null,r,"seconds"),children:[s,"."]}),Object(ft.jsx)("span",{onWheel:i.bind(null,r,"fract"),children:u}),Object(ft.jsx)("img",{src:Wr,alt:"mouse icon",className:zr.a.tooltipIcon})]})},Vr=function(e,t){var n=t.children,r=t.open,i=t.value,a=t.index;return Object(ft.jsx)(Fr,{open:r,enterTouchDelay:0,placement:0===a?"top-end":"top-start",title:Object(ft.jsx)(Ur,{onWheel:e,value:i,index:a}),interactive:!0,children:n})},qr=Object(Gr.a)({root:{display:"flex",alignItems:"center",color:"#00a3ff",height:8},thumb:{height:34,width:10,backgroundColor:"#fff",border:"4px solid currentColor",borderRadius:4,marginTop:0,marginLeft:-8,"&:focus, &:hover, &$active":{boxShadow:"0 0 8px 0 #00a3ff"}},active:{},valueLabel:{},track:{height:34,border:"1px solid rgba(0, 163, 255, 0.55)",backgroundColor:"#6BCAFF"},rail:{height:4,borderRadius:2,backgroundColor:"#a5b4cb"}})(Dr.a),Hr=Object(p.a)((function(e){var t=e.value,n=e.onChange,r=e.onWheel,i=e.max,a=e.min,c=e.step,s=Ue().userStore;return Object(o.useEffect)((function(){}),[s.isShowContent]),Object(ft.jsx)(ft.Fragment,{children:Object(ft.jsx)(qr,{value:t,ValueLabelComponent:Vr.bind(null,r),onChange:n,valueLabelDisplay:"on","aria-labelledby":"custom-slider",min:a,max:i,step:c,classes:{root:zr.a.slider,valueLabel:zr.a.label}})})})),Yr=n.p+"static/media/applyBtn.51086de1.svg",Jr=n.p+"static/media/deleteBtn.289b9a98.svg",Qr=Object(p.a)((function(e){var t=Ue().editorStore,n=Object(o.useState)([0,0]),r=Object(Ve.a)(n,2),i=r[0],a=r[1],c=Object(o.useState)([0,0]),s=Object(Ve.a)(c,2),u=s[0],l=s[1];Object(o.useEffect)((function(){ne.setCustomGifData(null),null!==t.selectedGifId&&a(ne.getGifTime(t.selectedGifId))}),[t.selectedGifId]),Object(o.useEffect)((function(){if(null!==t.selectedGifId){var e=ne.getCutTime(t.selectedGifId),n=e.startTime,r=e.endTime;l([n,r])}}),[t.selectedGifId]);var d=function(e,n){null!==t.selectedGifId&&(a(n),p())},p=function(){null!==t.selectedGifId&&ne.setGifTime(t.selectedGifId,i)},b=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.createCurrentCuts(t.shotCuts),e.next=3,te.playOne(t.currentCutIndex,!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ft.jsx)(ft.Fragment,{children:t.selectedGifId&&Object(ft.jsxs)("div",{className:Ar.a.container,children:[Object(ft.jsx)(vn.a,{"aria-label":"play",classes:{root:Ar.a.btn},onClick:b,children:Object(ft.jsx)(Er.a,{})}),Object(ft.jsx)(Hr,{value:i,onChange:d,onWheel:function(e,t,n){var r={hours:3600,mins:60,seconds:1,fract:.1}[t],a=i.slice();if(n.deltaY<0){if(a[e]=a[e]+r,a[e]>u[1])return;d(0,a)}else{if(a[e]=a[e]-r,a[e]<u[0])return;d(0,a)}},max:u[1],min:u[0],step:.1}),Object(ft.jsx)(vn.a,{"aria-label":"thumbUp",onClick:p,children:Object(ft.jsx)("img",{src:Yr,alt:"apply-icon"})}),Object(ft.jsx)(vn.a,{"aria-label":"delete",onClick:function(){null!==t.selectedGifId&&(ne.deleteGif(t.selectedGifId),t.selectedGifId=null)},children:Object(ft.jsx)("img",{src:Jr,alt:"delete-icon"})})]})})})),Zr=n(152),Kr=n.n(Zr),Xr=Object(p.a)((function(e){var t=Ue().editorStore,n=Object(o.useState)([]),r=Object(Ve.a)(n,2),i=r[0],a=r[1],c=function(){var e=Object(T.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.quickMoveToPosition(n.startShowTime);case 2:t.selectedGifId=n.id;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=null!==t.activeCutIndex?ne.getGifListForCut(t.activeCutIndex):[];a(e)}),[t.activeCutIndex,t.gifs]),Object(ft.jsx)("div",{children:t.isShowGifList&&i.length>0?i.map((function(e){return Object(ft.jsx)("img",{src:e.src,alt:"gif_"+e.id,className:$t()(Kr.a.gif,Object(Jt.a)({},Kr.a.isSelected,e.id===t.selectedGifId)),onClick:c.bind(null,e)},e.id)})):null})})),$r=n(86),ei=n.n($r),ti=Object(p.a)((function(e){var t=Ue().editorStore,n=Object(o.useState)([0,0]),r=Object(Ve.a)(n,2),i=r[0],a=r[1],c=Object(o.useState)([0,0]),s=Object(Ve.a)(c,2),u=s[0],l=s[1];Object(o.useEffect)((function(){var e=function(){if(null===t.editCutIndex||void 0===t.currentCuts[t.editCutIndex])return[0,0];var e=t.currentCuts[t.editCutIndex].time;return[e.startTime,e.endTime]}();a(e);var n=te.getCurrentPlayerDuration()||0,r=Math.max(0,e[0]-30),i=Math.min(n,e[1]+30);l([r,i])}),[t.currentCuts,t.editCutIndex]);var d=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.editCutIndex){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,te.playOne(t.editCutIndex,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e,n){null!==t.editCutIndex&&(n[0]!==i[0]&&n[0]<i[1]?(t.currentCuts[t.editCutIndex].time.startTime=i[0],b(n[0])):n[1]!==i[1]&&n[1]>i[0]&&(t.currentCuts[t.editCutIndex].time.endTime=i[1],f(n[1])))},b=function(e){a([e,i[1]]),te.quickMoveToPosition(e)},f=function(e){a([i[0],e]),te.quickMoveToPosition(e)};return Object(ft.jsx)(ft.Fragment,{children:null!==t.editCutIndex&&Object(ft.jsxs)("div",{className:ei.a.container,children:[Object(ft.jsx)(vn.a,{"aria-label":"play",classes:{root:ei.a.playBtn},onClick:d,children:Object(ft.jsx)(Er.a,{})}),Object(ft.jsx)("span",{className:ei.a.duration,children:xr(i[1]-i[0],!0)}),Object(ft.jsx)(Hr,{value:i,onChange:p,onWheel:function(e,t,n){var r={hours:3600,mins:60,seconds:1,fract:.1}[t],a=i.slice();if(n.deltaY<0){if(a[e]=a[e]+r,a[e]>u[1])return;p(0,a)}else{if(a[e]=a[e]-r,a[e]<u[0])return;p(0,a)}},max:u[1],min:u[0],step:.1}),Object(ft.jsx)("div",{className:ei.a.btn,children:Object(ft.jsx)(Hn,{text:"Cancel",withBorder:!0,onClick:function(){return t.editCutIndex=null}})}),Object(ft.jsx)("div",{className:ei.a.btn,children:Object(ft.jsx)(Hn,{text:"Done",colorTheme:zn,onClick:function(){null!==t.editCutIndex&&(t.shotCuts[t.editCutIndex].time.startTime=i[0],t.shotCuts[t.editCutIndex].time.endTime=i[1],t.createCurrentCuts(t.shotCuts),t.editCutIndex=null)}})})]})})})),ni=n(73),ri=n.n(ni),ii=function(e){var t=e.color;return Object(ft.jsx)("div",{className:ri.a.container,children:Object(ft.jsx)("div",{className:$t()(ri.a.loaderContainer,ri.a.arcRotateDouble),style:{backgroundColor:t},children:Object(ft.jsxs)("div",{className:ri.a.loader,children:[Object(ft.jsx)("div",{className:ri.a.arc1}),Object(ft.jsx)("div",{className:ri.a.arc2})]})})})};function ai(){return(ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ci(e,t){var n=e.title,r=e.titleId,i=oi(e,["title","titleId"]);return o.createElement("svg",ai({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,Tr||(Tr=o.createElement("path",{d:"M14.7498 0.5C21.7248 0.5 27.6198 5.045 29.7048 11.33L26.1498 12.5C24.5748 7.715 20.0598 4.25 14.7498 4.25C11.8098 4.25 9.15476 5.33 7.06976 7.07L10.9998 11H0.499756V0.5L4.39976 4.4C7.17476 2 10.7748 0.5 14.7498 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var si,ui=o.forwardRef(ci);n.p;function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function di(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pi(e,t){var n=e.title,r=e.titleId,i=di(e,["title","titleId"]);return o.createElement("svg",li({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,si||(si=o.createElement("path",{d:"M15.4551 0.5C8.48008 0.5 2.58508 5.045 0.50008 11.33L4.05508 12.5C5.63008 7.715 10.1451 4.25 15.4551 4.25C18.3951 4.25 21.0501 5.33 23.1351 7.07L19.2051 11H29.7051V0.5L25.8051 4.4C23.0301 2 19.4301 0.5 15.4551 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var bi,fi=o.forwardRef(pi),hi=(n.p,function(e){var t=e.sec,n=e.style,r=t<0?ui:fi;return Object(ft.jsxs)("button",{style:n,className:yr.a.rewButton,onClick:function(){return te.rewindOn(t)},children:[Object(ft.jsx)(r,{className:yr.a.arrow}),Object(ft.jsx)("span",{children:Math.abs(t)})]})}),ji=n.p+"static/media/play.a44af37e.svg";function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oi(e,t){var n=e.title,r=e.titleId,i=vi(e,["title","titleId"]);return o.createElement("svg",mi({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,bi||(bi=o.createElement("path",{d:"M10 24h-6v-24h6v24zm10 0h-6v-24h6v24zm-11-23h-4v22h4v-22zm10 0h-4v22h4v-22z"})))}var xi=o.forwardRef(Oi),gi=(n.p,function(e){Object(mr.a)(n,e);var t=Object(vr.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this,e)).state=void 0,r.canvasRef=void 0,r.onAddCut=function(){var e=r.state.cut;e&&e.endTime-e.startTime!==0&&(he.addCutAndShot(e),r.setState({startTime:0,endTime:0}))},r.updatePosition=function(e){r.setState({position:e})},r.onStartFrame=function(){var e=r.state,t=e.position,n=e.cut,i={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};i.startTime=t,i.endTime<t&&(i.endTime=t+5),r.setState({cut:i})},r.onEndFrame=function(){var e=r.state,t=e.position,n=e.cut,i={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};i.endTime=t,i.startTime>t&&(i.startTime=t-5),r.setState({cut:i},(function(){return r.onAddCut()}))},r.onResizePlayerWrapper=function(e){var t=e.width,n=e.height;he.canvasSize={width:t,height:n},he.scaleGifs()},r.onMouseDownHandler=function(){r.setState({record:!0}),r.onStartFrame()},r.onMouseUpHandler=function(){r.setState({record:!1}),r.onEndFrame()},r.play=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he.mode!==i.Show){e.next=5;break}return e.next=3,te.changeModeToShow();case 3:e.next=7;break;case 5:return e.next=7,te.start(he.activePlayerIndex);case 7:case"end":return e.stop()}}),e)}))),r.stop=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.stop(he.activePlayerIndex);case 2:case"end":return e.stop()}}),e)}))),r.showPauseBtn=function(){r.setState({showPauseBtn:!0})},r.hidePauseBtn=function(){r.setState({showPauseBtn:!1})},r.state={cut:null,playing:!1,position:0,record:!1,showPauseBtn:!1},r.canvasRef=c.a.createRef(),r}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.canvasRef.current&&(he.canvasSize={width:this.canvasRef.current.offsetWidth,height:this.canvasRef.current.offsetHeight})}},{key:"render",value:function(){var e=this.state,t=e.position,n=e.record,r=e.showPauseBtn;return Object(ft.jsxs)("div",{className:yr.a.container,children:[re.isDev&&Object(ft.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",he.activePlayerIndex,"/",he.players.length-1," Cut:"," ",he.currentCutIndex,"/",he.currentCuts.length-1," Source:"," ",he.currentSourceIndex,"/",he.sources.length-1]}),Object(ft.jsxs)("div",{ref:this.canvasRef,className:$t()("padded",yr.a.playerWrapper),onMouseMove:this.showPauseBtn,onMouseLeave:this.hidePauseBtn,children:[Object(ft.jsx)(Nr,{updatePosition:this.updatePosition}),Object(ft.jsx)(Sr,{}),Object(ft.jsx)(cn.a,{onResize:this.onResizePlayerWrapper}),!he.players[he.activePlayerIndex].playing&&Object(ft.jsx)("button",{className:yr.a.playButton,onClick:this.play,children:Object(ft.jsx)("img",{src:ji,alt:"Play icon"})}),he.players[he.activePlayerIndex].playing&&r&&Object(ft.jsx)("button",{className:yr.a.playButton,onClick:this.stop,children:Object(ft.jsx)(xi,{className:yr.a.pauseButton})}),Object(ft.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:he.isShowTransition?"visible":"hidden"}}),he.isLoading&&Object(ft.jsx)(ii,{})]}),he.mode!==i.Show&&he.sources.length>0?Object(ft.jsxs)(ft.Fragment,{children:[Object(ft.jsx)("div",{children:xr(t,!0)}),Object(ft.jsx)(Xr,{}),Object(ft.jsx)(Qr,{}),he.isShowRecButton&&Object(ft.jsxs)("div",{className:yr.a.buttonsContainer,children:[[-10,-5,-1].map((function(e){return Object(ft.jsx)(hi,{sec:e,style:{marginTop:10}},e)})),Object(ft.jsx)("button",{className:$t()(yr.a.recButton,Object(Jt.a)({},yr.a.active,n)),onMouseDown:this.onMouseDownHandler,onMouseUp:this.onMouseUpHandler,children:n?"stop rec":"start rec"}),[1,5,10].map((function(e){return Object(ft.jsx)(hi,{sec:e,style:{marginTop:10}},e)}))]}),Object(ft.jsx)(ti,{})]}):Object(ft.jsx)(ft.Fragment,{children:Object(ft.jsx)("div",{className:yr.a.previewButtons,children:Object(ft.jsx)(xn.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return te.changeModeToCreate(0)},children:"Make your own trailer"})})})]})}}]),n}(c.a.Component)),yi=Object(p.a)(gi),_i=n(103),Ci=n.n(_i),wi=re.agora.appId,Ii=re.agora.appToken;console.log("agora sdk version: "+Ci.a.VERSION+" compatible: "+Ci.a.checkSystemRequirements());var Si,ki,Pi=new(function(){function e(){var t=this;Object(x.a)(this,e),this.client=void 0,this.localAudioTrack=null,this.uid=null,this.client=Ci.a.createClient({mode:"live",codec:"h264"}),this.client.on("user-published",function(){var e=Object(T.a)(P.a.mark((function e(n,r){var i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.subscribe(n,r);case 2:console.log("subscribe success"),"audio"===r&&(null===(i=n.audioTrack)||void 0===i||i.play());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}return Object(g.a)(e,[{key:"join",value:function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.join(wi,"EyeMo",Ii);case 3:return this.uid=e.sent,e.next=6,this.client.setClientRole("host");case 6:return e.next=8,Ci.a.createMicrophoneAudioTrack();case 8:return this.localAudioTrack=e.sent,e.next=11,this.client.publish([this.localAudioTrack]);case 11:return e.next=13,this.disableMic();case 13:he.isConnectedChat=!0,console.log("Publish success!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error on join to chat: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=this.localAudioTrack)||void 0===t||t.close(),e.next=4,this.client.leave();case 4:he.isConnectedChat=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on leave chat: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"enableMic",value:function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!0);case 3:he.isEnableMic=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on enable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableMic",value:function(){var e=Object(T.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!1);case 3:he.isEnableMic=!1,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on disable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserCount",value:function(){return console.log("Number of users: "+this.client.getRTCStats().UserCount),this.client.getRTCStats().UserCount}}]),e}()),Ti=n.p+"static/media/userIcon.401c41c6.svg",Ni=n(217),Bi=n.n(Ni),Ei=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Li=function(){return Object(ft.jsx)("li",{className:Bi.a.item,style:{backgroundColor:Ei()},children:Object(ft.jsx)("img",{src:Ti,alt:"User icon"})})},Ai=n.p+"static/media/mic.7674c511.svg",Gi=n.p+"static/media/mic-white.1fcdc1a6.svg",Mi=n(67),Di=n.n(Mi),Ri=Object(p.a)((function(){var e=Ue().editorStore,t=Object(o.useState)(!1),n=Object(Ve.a)(t,2),r=n[0],i=n[1],a=Pi.getUserCount(),c=function(){var t=Object(T.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnectedChat){t.next=5;break}return t.next=3,Pi.leave();case 3:t.next=7;break;case 5:return t.next=7,Pi.join();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(T.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEnableMic){t.next=5;break}return t.next=3,Pi.disableMic();case 3:t.next=7;break;case 5:return t.next=7,Pi.enableMic();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){i(e.isConnectedChat)}),[e.isConnectedChat]),Object(ft.jsxs)("div",{className:Di.a.container,children:[Object(ft.jsx)("h2",{className:Di.a.title,children:"Voice Room"}),Object(ft.jsxs)("div",{className:Di.a.wrapper,children:[r&&a&&Object(ft.jsx)("ul",{className:Di.a.memberList,children:Object(v.a)(Array(a)).map((function(e){return Object(ft.jsx)(Li,{})}))}),Object(ft.jsx)(Hn,{onClick:c,text:r?"Leave":"Join the room",colorTheme:r?Wn:zn}),Object(ft.jsxs)("div",{className:Di.a.micBlock,children:[Object(ft.jsx)("button",{onClick:s,className:$t()(Di.a.micButton,Object(Jt.a)({},Di.a.micOff,!e.isEnableMic)),children:Object(ft.jsx)("img",{src:e.isEnableMic?Ai:Gi,alt:"Mute"})}),Object(ft.jsx)("p",{children:e.isEnableMic?"You're Live":"Tap to Unmute"})]})]})]})})),zi={cuts:{},columns:{"column-1":{id:"column-1",title:"Cuts",cutIds:[]},"column-2":{id:"column-2",title:"PlayList",cutIds:[]}},columnOrder:["column-1","column-2"]},Wi=n(68),Fi=n.n(Wi),Ui=n(35),Vi=n.n(Ui),qi=function(e,t,n){Object(o.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){n(!0)})),t.addEventListener("mouseleave",(function(){n(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){n(!1)})),t.removeEventListener("mouseleave",(function(){n(!1)})))}}),[e,t])},Hi=n.p+"static/media/actionIcon.120e19fc.svg",Yi=n.p+"static/media/actionIconActive.e6f6af32.svg",Ji=n.p+"static/media/duplicate.9ce441d6.svg",Qi=n.p+"static/media/edit.7081d9c8.svg",Zi=n.p+"static/media/delete.0b5bed2b.svg",Ki=n(218),Xi=n.n(Ki),$i=function(e){var t=e.text,n=e.image,r=e.onClick;return Object(ft.jsxs)("button",{className:Xi.a.container,onClick:r,children:[t&&Object(ft.jsx)("p",{children:t}),Object(ft.jsx)("img",{src:n,alt:t})]})},ea=n.p+"static/media/playIcon.737e8ec2.svg",ta=[{text:"Add Text",id:Ae},{text:"Add Gif",id:Ge},{text:"Add Sticker",id:Me},{text:"Add Image",id:"image"}],na=Object(p.a)((function(e){var t=e.cut,n=e.index,r=e.isActiveShot,a=e.deleteCut,c=e.setActiveShot,s=Object(o.useRef)(null),u=Object(o.useRef)(null),l=Object(o.useState)(!1),d=Object(Ve.a)(l,2),p=d[0],b=d[1],f=Ue(),h=f.editorStore,j=f.userStore,v=Object(o.useState)(!1),O=Object(Ve.a)(v,2),x=O[0],g=O[1],y=Object(o.useState)(!1),_=Object(Ve.a)(y,2),w=_[0],I=_[1];Object(o.useEffect)((function(){n===h.currentCutIndex?I(!0):I(!1)}),[h.currentCutIndex,n]);var S=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),h.createCurrentCuts(h.shotCuts),e.next=4,te.playOne(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},N=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};Object(o.useEffect)((function(){var e=s.current;return e&&(e.addEventListener("mouseover",(function(){b(!0),k()})),e.addEventListener("mouseout",(function(){b(!1),N()}))),function(){e&&(e.removeEventListener("mouseover",(function(){k()})),e.removeEventListener("mouseout",(function(){N()})))}}),[s]);var B=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(t.id),h.mode=i.EditGifs,h.activeCutIndex=n,h.currentCutIndex=n,h.selectedGifId=null,h.editCutIndex!==h.currentCutIndex&&(h.editCutIndex=null),h.createCurrentCuts(h.shotCuts),e.next=9,te.preloadCut(h.activePlayerIndex,n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(T.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,B();case 3:h.mode=i.EditShot,h.editCutIndex=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return qi(s,x,g),Object(ft.jsxs)("div",{className:Vi.a.container,ref:s,onClick:B,children:[Object(ft.jsxs)("div",{className:$t()(Vi.a.actionBlock,Object(Jt.a)({},Vi.a.isActive,x)),children:[Object(ft.jsx)("img",{src:Hi,alt:"Action icon",className:Vi.a.defaultIcon}),Object(ft.jsx)("img",{src:Yi,alt:"Action icon",className:Vi.a.activeIcon}),Object(ft.jsx)("div",{className:Vi.a.listWrapper,children:Object(ft.jsx)("ul",{className:Vi.a.list,children:ta.map((function(e){var t=e.text,n=e.id;return Object(ft.jsx)("li",{className:Vi.a.listItem,children:Object(ft.jsx)("button",{onClick:function(){return function(e){j.changeTab(e),j.setIsShowContent(!0)}(n)},children:t})},n)}))})})]}),Object(ft.jsxs)("div",{className:$t()(Vi.a.videoWrapper,Object(Jt.a)({},Vi.a.isActive,x||r||w)),children:[Object(ft.jsx)("div",{className:Vi.a.block,children:Object(ft.jsxs)("div",{className:Vi.a.blockContent,children:[Object(ft.jsx)("div",{className:Vi.a.topButtons,children:Object(ft.jsx)($i,{image:Zi,onClick:function(e){e.stopPropagation(),a(t.id)}})}),Object(ft.jsxs)("div",{className:Vi.a.buttomButtons,children:[Object(ft.jsx)($i,{text:"Duplicate",image:Ji,onClick:function(){h.shotCuts.push(Object(m.a)(Object(m.a)({},h.shotCuts[n]),{},{id:Object(C.a)()})),h.createCurrentCuts(h.shotCuts)}}),Object(ft.jsx)($i,{text:"Edit",image:Qi,onClick:E})]})]})}),Object(ft.jsx)("div",{className:Vi.a.player,children:Object(ft.jsx)(_t.a,{ref:u,width:"100%",height:"100%",url:t.url,muted:!0,controls:!1,onEnded:function(){return e=t.time.startTime,u.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.time.startTime),end:Math.floor(t.time.endTime)}}}},t.id)})]}),Object(ft.jsx)("button",{onClick:S,className:$t()(Vi.a.playButton,Object(Jt.a)({},Vi.a.isVisible,p)),children:Object(ft.jsx)("img",{src:ea,alt:"Play icon"})})]})})),ra=n.p+"static/media/play.a44af37e.svg",ia=n(219),aa=n.n(ia),oa=n(220),ca=n.n(oa),sa=Object(p.a)((function(){var e=Object(o.useState)(!1),t=Object(Ve.a)(e,2),n=t[0],r=t[1],i=Ue().editorStore;return Object(ft.jsxs)("div",{className:ca.a.container,children:[Object(ft.jsx)(Hn,{text:"Clear store",onClick:function(){return i.clearStore()},colorTheme:zn}),Object(ft.jsx)("div",{children:Object(ft.jsx)(aa.a,{text:i.shareUrl||"",onCopy:function(){r(!0),setTimeout((function(){return r(!1)}),3e3),gtag("event","url-copy",{url:i.shareUrl})},children:Object(ft.jsx)(Hn,{text:n?"Copied":"Share",colorTheme:zn})})})]})})),ua=n(87),la=n.n(ua);function da(){return(da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pa(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ba(e,t){var n=e.title,r=e.titleId,i=pa(e,["title","titleId"]);return o.createElement("svg",da({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?o.createElement("title",{id:r},n):null,Si||(Si=o.createElement("rect",{x:9.42822,width:3.14289,height:22.0002,rx:1.57144,fill:"#00A3FF"})),ki||(ki=o.createElement("rect",{x:22,y:9.42871,width:3.14289,height:22.0002,rx:1.57144,transform:"rotate(90 22 9.42871)",fill:"#00A3FF"})))}var fa=o.forwardRef(ba),ha=(n.p,Object(p.a)((function(){var e=Ue(),t=e.userStore,n=e.editorStore,r=Object(o.useRef)(null),i=Object(o.useState)(!1),a=Object(Ve.a)(i,2),c=a[0],s=a[1];qi(r,c,s);var u=function(){var e=Object(T.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeTab(Ee),e.next=3,te.changeModeToCreate(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ft.jsxs)("div",{ref:r,className:$t()(la.a.container,Object(Jt.a)({},la.a.isActive,c)),children:[n.sources.length>0&&Object(ft.jsx)("ul",{className:la.a.list,children:n.sources.map((function(e,t){return Object(ft.jsx)("li",{className:la.a.listItem,children:Object(ft.jsxs)("button",{onClick:function(){return u(t)},children:["Source ",t+1]})},e.id)}))}),Object(ft.jsx)("div",{className:la.a.dashContainer,children:Object(ft.jsx)(fa,{})})]})}))),ja=Object(p.a)((function(e){var t=e.droppableId,n=e.isShowDuration,r=e.deleteCut,i=Ue(),a=i.editorStore,c=i.userStore,s=Object(o.useState)(null),u=Object(Ve.a)(s,2),l=u[0],d=u[1],p=a.shotCuts.reduce((function(e,t){return t.time?e+t.time.endTime-t.time.startTime:e}),0),b=function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.playAll();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){r(e)};return console.log(c.isDragStart),Object(ft.jsxs)("div",{className:$t()(Fi.a.container,Object(Jt.a)({},Fi.a.isShowDuration,n)),children:[Object(ft.jsxs)("div",{className:Fi.a.player,children:[Object(ft.jsxs)("div",{className:Fi.a.playInfo,children:[Object(ft.jsx)("button",{className:Fi.a.playButton,onClick:b,children:Object(ft.jsx)("img",{src:ra,alt:"Play icon"})}),Object(ft.jsx)("p",{children:xr(p)})]}),Object(ft.jsx)(Qt.c,{droppableId:t,direction:"horizontal",children:function(e){return Object(ft.jsxs)("div",Object(m.a)(Object(m.a)({className:$t()(Fi.a.wrapper,Object(Jt.a)({},Fi.a.isDragStart,c.isDragStart))},e.droppableProps),{},{ref:e.innerRef,children:[a.shotCuts.map((function(e,t){return Object(ft.jsx)(Qt.b,{draggableId:e.id,index:t,children:function(n){return Object(ft.jsx)("div",Object(m.a)(Object(m.a)(Object(m.a)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:Object(ft.jsx)(na,{index:t,cut:e,isActiveShot:l===e.id,deleteCut:f,setActiveShot:d},e.id)}))}},e.id)})),Object(ft.jsx)(ha,{})]}))}})]}),Object(ft.jsx)(sa,{})]})})),ma=Object(p.a)((function(){var e=Ue(),t=e.editorStore,n=e.userStore,r=Object(o.useState)(zi),a=Object(Ve.a)(r,2),c=a[0],s=a[1],u=function(){var e=Object(T.a)(P.a.mark((function e(n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.changeModeToCreate(0);case 2:t.removeShotCut(n),r=Object(m.a)(Object(m.a)({},c),{},{columns:Object(m.a)(Object(m.a)({},c.columns),{},Object(Jt.a)({},"column-2",Object(m.a)(Object(m.a)({},c.columns["column-2"]),{},{cutIds:c.columns["column-2"].cutIds.filter((function(e){return e!==n}))})))}),s(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ft.jsx)(Qt.a,{onDragEnd:function(e){var r=e.destination,i=e.source,a=e.draggableId;if(n.setDragStart(!1),r&&(r.droppableId!==i.droppableId||r.index!==i.index)){if(c.columns[i.droppableId]===c.columns[r.droppableId])return t.replaceShot(a,i.index,r.index);t.addShot(a)}},onDragStart:function(){return n.setDragStart(!0)},children:Object(ft.jsxs)("div",{className:Kt.a.content,children:[Object(ft.jsxs)("div",{className:Kt.a.contentWrapper,children:[t.mode!==i.Show&&Object(ft.jsx)(jr,{}),Object(ft.jsxs)("div",{className:Kt.a.playerPanel,children:[Object(ft.jsx)(yi,{}),t.mode===i.Show&&Object(ft.jsx)(Ri,{})]})]}),t.mode!==i.Show&&Object(ft.jsx)(ja,{droppableId:c.columns["column-2"].id,deleteCut:u,isShowDuration:null!==t.activeCutIndex})]})})})),va=n(224),Oa=function(e){var t=e.component,n=e.permitted,r=e.path,i=Object(va.a)(e,["component","permitted","path"]);return Object(ft.jsx)(f.b,Object(m.a)(Object(m.a)({},i),{},{render:function(e){return n?Object(ft.jsx)(t,Object(m.a)(Object(m.a)({path:r},e),{},{exact:!0})):Object(ft.jsx)(f.a,{to:"/"})}}))};n(417);var xa=Object(p.a)((function(){var e=Ue(),t=e.userStore,n=e.editorStore;return Object(ft.jsx)(ft.Fragment,{children:Object(ft.jsx)(d.a,{dateAdapter:l.a,children:Object(ft.jsxs)(b.a,{children:[Object(ft.jsx)("div",{className:j.a.container,children:Object(ft.jsx)("div",{className:j.a.wrapper,children:Object(ft.jsxs)(f.d,{children:[Object(ft.jsx)(f.b,{path:"/",exact:!0,component:ma}),Object(ft.jsx)(Oa,{permitted:null!==t.user,path:"/profile",component:Yt}),Object(ft.jsx)(f.a,{to:"/"})]})})}),n.isLoadingApp&&Object(ft.jsx)(ii,{})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Xe().then((function(){u.a.render(Object(ft.jsx)(c.a.StrictMode,{children:Object(ft.jsx)(xa,{})}),document.getElementById("root"))})).catch((function(e){return console.error(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",playerWrapper:"PlayerPanel_playerWrapper__16uXZ",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",buttonsContainer:"PlayerPanel_buttonsContainer__2U8zY",recButton:"PlayerPanel_recButton__3TYfL",recButtonAnimation:"PlayerPanel_recButtonAnimation__2UQQt",active:"PlayerPanel_active__2NmJa",rewButton:"PlayerPanel_rewButton__2bNBE",arrow:"PlayerPanel_arrow__2LftY",playButton:"PlayerPanel_playButton__3ZSBc",pauseButton:"PlayerPanel_pauseButton__27HmC"}},59:function(e,t,n){e.exports={container:"userInfo_container__3nq7H",slides:"userInfo_slides__2Vq1t",userImage:"userInfo_userImage__3Jj5E",image:"userInfo_image__1HtQH",status:"userInfo_status__28AnI",name:"userInfo_name__3wu-r",totalTime:"userInfo_totalTime__3pyJh",socialList:"userInfo_socialList__2G1JA"}},60:function(e,t,n){e.exports={button:"button_button__q-EjP",withBorder:"button_withBorder__1-5d0",disabled:"button_disabled__1_Ved",blueTheme:"button_blueTheme__Kq4aP",active:"button_active__2mI4J",lightBlueTheme:"button_lightBlueTheme__3oYxs",redTheme:"button_redTheme__344Z4",delete:"button_delete__bY3NW"}},67:function(e,t,n){e.exports={container:"chat_container__1pMfk",title:"chat_title__1b1BL",wrapper:"chat_wrapper__83tld",memberList:"chat_memberList__20IWQ",micBlock:"chat_micBlock__2peVb",micButton:"chat_micButton__3EJGT",micOff:"chat_micOff__agetB"}},68:function(e,t,n){e.exports={container:"timeline_container__Ot9x_",player:"timeline_player__1fwLp",wrapper:"timeline_wrapper__1B1Fp",isDragStart:"timeline_isDragStart__2aa9h",playInfo:"timeline_playInfo__2SvIF",playButton:"timeline_playButton__ST2NV",item:"timeline_item__3E5Bh"}},72:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__1vR9b",playerWrapper:"CutItem_playerWrapper__32VlR",video:"CutItem_video__33TEF",buttons:"CutItem_buttons__JzliV",checkbox:"CutItem_checkbox__2_dpe",playButton:"CutItem_playButton__1QWqr",isVisible:"CutItem_isVisible__335-r",isChosenSource:"CutItem_isChosenSource__2r7bR",checkboxWrapper:"CutItem_checkboxWrapper__3jZA8"}},73:function(e,t,n){e.exports={container:"Preloader_container__3VLfE",loaderContainer:"Preloader_loaderContainer__2CSeo",loader:"Preloader_loader__2UV8v",arcRotateDouble:"Preloader_arcRotateDouble__1llZB",load:"Preloader_load__1BxGu",arc1:"Preloader_arc1__3QLhn",arc2:"Preloader_arc2__5Fv5N",rotate:"Preloader_rotate__3qmAc"}},85:function(e,t,n){e.exports={container:"user_container__Q2B9I",image:"user_image__1axsI",info:"user_info__SvVc7",name:"user_name__3KwKa",duration:"user_duration__VqW4z"}},86:function(e,t,n){e.exports={container:"CutEditPanel_container__2WfnO",btn:"CutEditPanel_btn__-T5s8",playBtn:"CutEditPanel_playBtn__lkGoH",duration:"CutEditPanel_duration__360gs"}},87:function(e,t,n){e.exports={container:"AddSourceItem_container__3ZG2M",isActive:"AddSourceItem_isActive__3nUnA",list:"AddSourceItem_list__1UvK7",dashContainer:"AddSourceItem_dashContainer__6ofOv",listItem:"AddSourceItem_listItem__1lFJm"}},97:function(e,t,n){e.exports={title:"additional_title__1m0_k",list:"additional_list__1avp9",listItem:"additional_listItem__3BE6U"}},98:function(e,t,n){e.exports={container:"input_container__1OlOE",input:"input_input__3I3G6",buttonsBlock:"input_buttonsBlock__241nw",clearButton:"input_clearButton__3FPaA",copyButton:"input_copyButton__20L6h"}},99:function(e,t,n){e.exports={container:"SignMenu_container__3ZSSz",modalContainer:"SignMenu_modalContainer__3fC5D",alert:"SignMenu_alert__3GTBy"}}},[[418,1,2]]]);