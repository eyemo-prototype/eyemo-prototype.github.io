(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{111:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__3ao3G",form:"SourcesPanel_form__2e3-e",inputWrapper:"SourcesPanel_inputWrapper__3hJ6C"}},112:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2UoMA",cutsPanelBlank:"CutsPanel_cutsPanelBlank__bj4au",timeInput:"CutsPanel_timeInput__cesid",input:"CutsPanel_input__2WjGi",stepBtn:"CutsPanel_stepBtn__30nMj",infoLine:"CutsPanel_infoLine__1Tkkh",loadIcon:"CutsPanel_loadIcon__1Iegz",bottomBtn:"CutsPanel_bottomBtn__-K_Jc",cutsList:"CutsPanel_cutsList__atkIJ"}},113:function(e,t,n){e.exports={container:"buttons_container__1eyk1",bottomBtn:"buttons_bottomBtn__dFi5o"}},126:function(e,t,n){e.exports={timeInput:"TimeInput_timeInput__1OGkV",changeButton:"TimeInput_changeButton__1tKZm"}},127:function(e,t,n){e.exports={player:"MultiPlayer_player__3BLbd",playerPlaceholder:"MultiPlayer_playerPlaceholder__duL1K"}},128:function(e,t,n){e.exports={container:"contentView_container__RRG_Y",title:"contentView_title__1pCuk"}},129:function(e,t,n){e.exports={root:"GiphyPanel_root__2Hx9n",searchLine:"GiphyPanel_searchLine__69zTm",gifsPanel:"GiphyPanel_gifsPanel__2OqQn"}},131:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",content:"contentBlock_content__1xBTD"}},132:function(e,t,n){e.exports={container:"SignMenu_container__3ZSSz",modalContainer:"SignMenu_modalContainer__3fC5D"}},172:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},174:function(e,t,n){e.exports={container:"GifMenu_container__20wqN"}},178:function(e,t,n){e.exports={gif:"CutGifsList_gif__1zFY4"}},180:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},183:function(e,t,n){e.exports={item:"userItem_item__6D3nc"}},333:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),c=n(19),o=n.n(c),s=n(185),u=n(371),l=n(15),d=n(369),b=n(11),p=n(38),h=n(41),f=n(187),j=n(186),m=n(334),v=n(370),x=n(30),O=n.n(x),g=n(94),y=n.n(g);function _(e){return e<10?"0".concat(e):e}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"00:00:00.0";var n=Math.floor(e/60/60),r=Math.floor(e/60%60),a=Math.floor(e%60),i=Math.floor(10*(e-Math.floor(e))),c="".concat(_(n),":").concat(_(r),":").concat(_(a));return t&&(c="".concat(c,".").concat(i)),c}var w=n(57),C=n.n(w),k=n(7),S=n(374),T=n(367),P=n(372),N=n(169),E=n.n(N),B=n(170),G=n.n(B),L=n(126),A=n.n(L);function M(e){var t=e.onClick,n=e.position;return Object(r.jsx)(S.a,{position:n,children:Object(r.jsx)(T.a,{edge:n,onClick:t,className:A.a.changeButton,children:"start"===n?Object(r.jsx)(E.a,{style:{fontSize:12}}):Object(r.jsx)(G.a,{style:{fontSize:12}})})})}function z(e){var t=Object(a.useRef)(null);function n(e){e.preventDefault(),e.deltaY>0?c():i()}function i(){if(e.value){var t=e.value-.1;t<0&&(t=0),e.onChange(t)}}function c(){e.onChange(e.value+.1)}Object(a.useEffect)((function(){var e=t.current;return null===e||void 0===e||e.addEventListener("wheel",n),function(){null===e||void 0===e||e.removeEventListener("wheel",n)}}),[e.value]);var o=Object(k.a)(Object(k.a)({},e),{},{value:I(e.value,!0)});return Object(r.jsx)(P.a,Object(k.a)(Object(k.a)({},o),{},{className:A.a.timeInput,size:"small",helperText:null,variant:"outlined",onChange:function(e){},ref:t,InputProps:{startAdornment:Object(r.jsx)(M,{position:"start",onClick:i}),endAdornment:Object(r.jsx)(M,{position:"end",onClick:c}),readOnly:!0}}))}var D,R,U=n(75),F=n(172),W=n.n(F),V=(n(241),n(24)),H=n(65),J=n(17),q=(n(144),n(4)),X=n(145),Y=n(36),K=n(173),Q=n.n(K),Z=n(8),$=n.n(Z),ee=n(20);!function(e){e.EditorStore="eyeMoEditorStore",e.UserStore="eyeMoUserStore"}(D||(D={})),function(e){e.Create="create",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show"}(R||(R={}));var te,ne,re,ae,ie,ce,oe,se,ue,le,de,be,pe,he,fe,je,me,ve,xe=new(function(){function e(){Object(p.a)(this,e),this.control=[]}return Object(h.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[Ge.activePlayerIndex].player.getCurrentTime()}},{key:"stop",value:function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return Ge.playing[t]=!1,e.next=5,Object(q.t)((function(){return!Ge.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ge.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return Ge.playing[t]=!0,e.next=5,Object(q.t)((function(){return Ge.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.mode=R.PlayOne,e.next=3,this.stop(Ge.activePlayerIndex);case 3:return Ge.currentCutIndex=t,e.next=6,this.preloadCut(Ge.activePlayerIndex,t);case 6:return e.next=8,this.start(Ge.activePlayerIndex);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge.isLoading=!0,0!==Ge.cuts.length){e.next=5;break}return e.next=4,this.start(Ge.activePlayerIndex);case 4:return e.abrupt("return");case 5:return t||(Ge.mode=R.PlayAll),e.next=8,this.setDefaultPlayersState();case 8:return e.next=10,this.start(Ge.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(ee.a)($.a.mark((function e(t){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge.mode=R.Create,Ge.currentSourceIndex=t,Ge.currentCutIndex=-1,n=0;case 4:if(!(n<Ge.players.length)){e.next=11;break}return e.next=7,this.stop(n);case 7:n===Ge.activePlayerIndex&&(Ge.players[n]=Object(k.a)(Object(k.a)({},Ge.players[n]),{},{url:Ge.sources[t].url,playing:!1}));case 8:n+=1,e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.mode=R.Show,e.next=3,this.playAll(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(ee.a)($.a.mark((function e(t,n){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge.players[t]=Object(k.a)(Object(k.a)({},Ge.players[t]),{},{url:Ge.cuts[n].url,cutIndex:n}),Ge.players[t].preloading=!0,Ge.players[t].muted=!0,e.next=5,this.start(t);case 5:return e.next=7,this.stop(t);case 7:this.control[t].player.getInternalPlayer().seekTo(Ge.cuts[n].cut.startTime,!0),Ge.players[t].muted=!1,Ge.players[t].preloading=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"quickMoveToPosition",value:function(e){var t=Ge.activePlayerIndex;this.control[t].player.getInternalPlayer().seekTo(e,!0)}},{key:"setDefaultPlayersState",value:function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<Ge.players.length)){e.next=14;break}return e.next=4,this.stop(t);case 4:if(!(t<Ge.cuts.length)){e.next=10;break}return Ge.players[t].isVisible=0===t,e.next=8,this.preloadCut(t,t);case 8:e.next=11;break;case 10:Ge.players[t]={id:Ge.players[t].id,muted:!1,url:"",playing:!1,preloading:!1,cutIndex:t,isVisible:!1};case 11:t+=1,e.next=1;break;case 14:Ge.activePlayerIndex=0,Ge.currentCutIndex=0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToNextCut",value:function(){var e=Object(ee.a)($.a.mark((function e(t){var n,r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge.currentCutIndex===Ge.cuts.length-1,Ge.isShowTransition=!n,e.next=4,this.stop(t);case 4:if(!n){e.next=7;break}return console.log("Last cut is end"),e.abrupt("return");case 7:return r=Ge.currentCutIndex+Ge.players.length,a=r<Ge.cuts.length,console.log("Go from ".concat(Ge.currentCutIndex," to ").concat(Ge.nextCutIndex," cut")),Ge.activePlayerIndex=Ge.nextPlayerIndex,Ge.currentCutIndex=Ge.nextCutIndex,e.next=14,this.start(Ge.activePlayerIndex);case 14:if(Ge.players[t].isVisible=!1,Ge.players[Ge.activePlayerIndex].isVisible=!0,setTimeout((function(){return Ge.isShowTransition=!1}),400),a){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,this.preloadCut(t,r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimePosition",value:function(){var e=this.control[Ge.activePlayerIndex].player.getCurrentTime();if(Ge.currentCutIndex<0)return e;for(var t=0,n=0;n<Ge.cuts.length&&!(n>Ge.currentCutIndex);n+=1){var r=Ge.cuts[n].cut.startTime,a=Ge.cuts[n].cut.endTime;n===Ge.currentCutIndex?t+=e-r:t+=a-r}return t}}]),e}()),Oe=new(function(){function e(){Object(p.a)(this,e),this.customGif=null}return Object(h.a)(e,[{key:"getCutTime",value:function(e){var t={startTime:0,endTime:0},n=this.getGifIndexById(e);if(null!==n){var r=Ge.gifs[n].cutId;Ge.cuts.map((function(e){e.id===r&&(t=e.cut)}))}return t}},{key:"setGifTime",value:function(e,t){var n=this.getGifIndexById(e);null!==n&&(Ge.gifs[n].startShowTime=t[0],Ge.gifs[n].endShowTime=t[1])}},{key:"getGifIndexById",value:function(e){var t=null;return Ge.gifs.map((function(n){n.id===e&&(t=n.index)})),t}},{key:"getGifTime",value:function(e){var t=[0,0],n=this.getGifIndexById(e);return null!==n&&(t=[Ge.gifs[n].startShowTime,Ge.gifs[n].endShowTime]),t}},{key:"isShowGif",value:function(e){if(void 0===Ge.cuts[Ge.currentCutIndex]||e.cutId!==Ge.cuts[Ge.currentCutIndex].id)return!1;var t=xe.getActivePlayerPosition();return t>=e.startShowTime&&t<=e.endShowTime}},{key:"checkShowGifs",value:function(e){if(Ge)for(var t=0;t<Ge.gifs.length;t+=1){var n,r,a=Ge.gifs[t];if(void 0!==Ge.cuts[Ge.currentCutIndex]){var i=a.id===(null===(n=this.customGif)||void 0===n?void 0:n.id)?this.customGif.startShowTime:a.startShowTime,c=a.id===(null===(r=this.customGif)||void 0===r?void 0:r.id)?this.customGif.endShowTime:a.endShowTime;a.cutId===Ge.cuts[Ge.currentCutIndex].id&&a.cutId===Ge.cuts[Ge.currentCutIndex].id&&e>=i&&e<c?(Ge.gifs[t].isShow||console.log("Show gif on position: "+e),Ge.gifs[t].isShow=!0):(Ge.gifs[t].isShow&&console.log("Hide gif on position: "+e),Ge.gifs[t].isShow=!1)}else Ge.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){Ge.gifs=Ge.gifs.filter((function(t){return t.id!==e}))}},{key:"setCustomGifData",value:function(e){this.customGif=e}},{key:"getGifListForCut",value:function(e){var t=Ge.cuts[e].id;return Ge.gifs.filter((function(e){return e.cutId===t}))}}]),e}());Object(q.i)({enforceActions:"never"});var ge=Q()(window.location.href,!0),ye=null,_e=null,Ie=null;if(ge.query.cuts){localStorage.removeItem(D.EditorStore),window.history.pushState(null,"","/");var we=decodeURIComponent(ge.query.cuts);ye=we.split(",").map((function(e){var t=e.split("::");return{id:t[0],index:parseFloat(t[1]),url:t[2],cut:{startTime:parseFloat(t[3]),endTime:parseFloat(t[4])}}}))}if(ge.query.sources){var Ce=decodeURIComponent(ge.query.sources);_e=Ce.split(",").map((function(e){var t=e.split("::");return{id:t[0],index:parseFloat(t[1]),url:t[2]}}))}if(ge.query.gifs){var ke=decodeURIComponent(ge.query.gifs);Ie=ke.split(",").map((function(e){var t=e.split("::");return{canvasHeight:parseFloat(t[0]),canvasWidth:parseFloat(t[1]),cutId:t[2],endShowTime:parseFloat(t[3]),height:parseFloat(t[4]),id:t[5],index:parseFloat(t[6]),isShow:!1,src:t[7],startShowTime:parseFloat(t[8]),width:parseFloat(t[9]),x:parseFloat(t[10]),y:parseFloat(t[11])}}))}var Se,Te,Pe,Ne,Ee=_e&&_e.length>0,Be=new(te=function(){function e(){var t=this;Object(p.a)(this,e),Object(V.a)(this,"sources",ne,this),Object(V.a)(this,"mode",re,this),Object(V.a)(this,"cuts",ae,this),Object(V.a)(this,"gifs",ie,this),Object(V.a)(this,"players",ce,this),Object(V.a)(this,"playing",oe,this),Object(V.a)(this,"activePlayerIndex",se,this),Object(V.a)(this,"currentCutIndex",ue,this),Object(V.a)(this,"activeCutIndex",le,this),Object(V.a)(this,"currentSourceIndex",de,this),Object(V.a)(this,"selectedGifId",be,this),Object(V.a)(this,"isEnableCanvas",pe,this),Object(V.a)(this,"canvasSize",he,this),Object(V.a)(this,"isLoading",fe,this),Object(V.a)(this,"isShowTransition",je,this),Object(V.a)(this,"isConnectedChat",me,this),Object(V.a)(this,"isEnableMic",ve,this),Object(q.o)(this),Object(q.g)((function(){return console.log("--\x3e In ".concat(t.mode.toUpperCase()," mode"))})),Object(q.g)((function(){t.isEnableCanvas||(t.selectedGifId=null)})),Object(q.g)((function(){-1===t.currentCutIndex&&Oe.checkShowGifs(0)}))}return Object(h.a)(e,[{key:"addCut",value:function(e){this.cuts.push({id:Object(X.a)(),index:this.cuts.length,url:this.sources[this.currentSourceIndex].url,cut:{startTime:Math.round(1e3*e.startTime)/1e3,endTime:Math.round(1e3*e.endTime)/1e3}})}},{key:"addSource",value:function(e){this.sources=[].concat(Object(H.a)(this.sources),[{id:Object(X.a)(),index:this.sources.length,url:e}]),xe.changeModeToCreate(this.sources.length-1)}},{key:"addGif",value:function(e,t){var n=this.cuts[t];this.gifs=[].concat(Object(H.a)(this.gifs),[{id:Object(X.a)(),index:this.gifs.length,src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:n.cut.startTime,endShowTime:n.cut.endTime,cutId:n.id,isShow:!0}])}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,r=t.width,a=t.canvasWidth,i=t.canvasHeight,c=t.x,o=t.y,s=this.canvasSize.width/a,u=this.canvasSize.height/i;this.gifs[e]=Object(k.a)(Object(k.a)({},this.gifs[e]),{},{height:n*u,width:r*s,x:c*s,y:o*u,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"removeCut",value:function(e){(!this.players[this.activePlayerIndex].playing||e!==this.currentCutIndex&&e!==this.nextCutIndex)&&(e!==this.currentCutIndex?this.cuts=this.cuts.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})):xe.changeModeToCreate(0))}},{key:"removeSource",value:function(e){this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e}))}},{key:"clearStore",value:function(){var e=this;this.sources=[],this.mode=R.Create,this.cuts=[],this.gifs=[],this.players=[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}})),this.activePlayerIndex=0,this.currentCutIndex=-1,this.activeCutIndex=null,this.currentSourceIndex=-1,this.selectedGifId=null}},{key:"shareUrl",get:function(){if(0===this.sources.length)return null;var e=window.location.href.split("?")[0];return"".concat(e,"?sources=").concat(encodeURIComponent(this.sources.map((function(e){return[e.id,e.index,e.url].join("::")})).join(",")),"&cuts=").concat(encodeURIComponent(this.cuts.map((function(e){var t,n;return[e.id,e.index,e.url,null===(t=e.cut)||void 0===t?void 0:t.startTime,null===(n=e.cut)||void 0===n?void 0:n.endTime].join("::")})).join(",")),"&gifs=").concat(encodeURIComponent(this.gifs.map((function(e){return[e.canvasHeight,e.canvasWidth,e.cutId,e.endShowTime,e.height,e.id,e.index,e.src,e.startShowTime,e.width,e.x,e.y].join("::")})).join(",")))}},{key:"trailerLength",get:function(){return this.cuts.reduce((function(e,t,n){return t.cut?e+t.cut.endTime-t.cut.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.currentCutIndex===this.cuts.length-1?0:this.currentCutIndex+1}}]),e}(),ne=Object(J.a)(te.prototype,"sources",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _e||[]}}),re=Object(J.a)(te.prototype,"mode",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee?R.Show:R.Create}}),ae=Object(J.a)(te.prototype,"cuts",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ye||[]}}),ie=Object(J.a)(te.prototype,"gifs",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ie||[]}}),ce=Object(J.a)(te.prototype,"players",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}}))}}),oe=Object(J.a)(te.prototype,"playing",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(e){return!1}))}}),se=Object(J.a)(te.prototype,"activePlayerIndex",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ue=Object(J.a)(te.prototype,"currentCutIndex",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.cuts.length>0?0:-1}}),le=Object(J.a)(te.prototype,"activeCutIndex",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=Object(J.a)(te.prototype,"currentSourceIndex",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),be=Object(J.a)(te.prototype,"selectedGifId",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=Object(J.a)(te.prototype,"isEnableCanvas",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),he=Object(J.a)(te.prototype,"canvasSize",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),fe=Object(J.a)(te.prototype,"isLoading",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),je=Object(J.a)(te.prototype,"isShowTransition",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=Object(J.a)(te.prototype,"isConnectedChat",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=Object(J.a)(te.prototype,"isEnableMic",[Y.b,q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(J.a)(te.prototype,"shareUrl",[q.h],Object.getOwnPropertyDescriptor(te.prototype,"shareUrl"),te.prototype),Object(J.a)(te.prototype,"trailerLength",[q.h],Object.getOwnPropertyDescriptor(te.prototype,"trailerLength"),te.prototype),Object(J.a)(te.prototype,"nextPlayerIndex",[q.h],Object.getOwnPropertyDescriptor(te.prototype,"nextPlayerIndex"),te.prototype),Object(J.a)(te.prototype,"nextCutIndex",[q.h],Object.getOwnPropertyDescriptor(te.prototype,"nextCutIndex"),te.prototype),Object(J.a)(te.prototype,"addCut",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"addCut"),te.prototype),Object(J.a)(te.prototype,"addSource",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"addSource"),te.prototype),Object(J.a)(te.prototype,"addGif",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"addGif"),te.prototype),Object(J.a)(te.prototype,"scaleGifs",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"scaleGifs"),te.prototype),Object(J.a)(te.prototype,"removeCut",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"removeCut"),te.prototype),Object(J.a)(te.prototype,"removeSource",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"removeSource"),te.prototype),Object(J.a)(te.prototype,"clearStore",[q.f],Object.getOwnPropertyDescriptor(te.prototype,"clearStore"),te.prototype),te),Ge=Be;new Y.a(Be,{storageKey:D.EditorStore,storage:localStorage}).init();var Le=new(Se=function e(){Object(p.a)(this,e),Object(V.a)(this,"user",Te,this),Object(V.a)(this,"googleToken",Pe,this),Object(V.a)(this,"isShowUserProfile",Ne,this),Object(q.o)(this)},Te=Object(J.a)(Se.prototype,"user",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=Object(J.a)(Se.prototype,"googleToken",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=Object(J.a)(Se.prototype,"isShowUserProfile",[q.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se),Ae=Le;new Y.a(Le,{storageKey:D.UserStore,storage:localStorage}).init();var Me=Object(a.createContext)({editorStore:Ge,userStore:Ae}),ze=function(){return Object(a.useContext)(Me)},De=Object(l.a)((function(e){var t=e.gif,n=e.isSelected,a=e.isShow,c=e.onChange,o=e.onSelect,s=i.a.useRef(null),u=i.a.useRef(),l=(ze().editorStore,i.a.useMemo((function(){return document.createElement("canvas")}),[]));i.a.useEffect((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(l),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),s.current&&s.current.getLayer().draw()}})),function(){return e.stop()}}),[t.src,l]),i.a.useEffect((function(){n&&u.current&&(u.current.nodes([s.current]),u.current.getLayer().batchDraw())}),[n]);return Object(r.jsxs)(r.Fragment,{children:[a&&Object(r.jsx)(U.a,{ref:s,image:l,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:o,onTap:o,onDragEnd:function(e){c(Object(k.a)(Object(k.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=s.current,r=n.scaleX(),a=n.scaleY();n.scaleX(1),n.scaleY(1),c(Object(k.a)(Object(k.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*a)}))}}),a&&n&&Object(r.jsx)(U.d,{ref:u,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})})),Re=Object(l.a)((function(){var e=ze().editorStore,t=function(t){t.target===t.target.getStage()&&(e.selectedGifId=null)},n=function(t){e.selectedGifId=t},a=function(t,n){return e.gifs[t]=n};return Object(r.jsx)("div",{children:Object(r.jsx)(U.c,{className:W.a.container,width:e.canvasSize.width,height:e.canvasSize.height,style:e.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:t,onTouchStart:t,children:Object(r.jsx)(U.b,{children:e.gifs.map((function(t,i){return Object(r.jsx)(De,{gif:t,isSelected:t.id===e.selectedGifId,isShow:t.isShow,onSelect:n.bind(null,t.id),onChange:a.bind(null,t.index)},t.id)}))})})})})),Ue=n(71),Fe=n.n(Ue),We=n(127),Ve=n.n(We);var He,Je,qe=Object(l.a)((function(e){var t=ze().editorStore,n=e.updatePosition,a=function(e,t){console.log("Player ".concat(e," onReady")),xe.setPlayer(e,{player:t})},i=function(){var e=Object(ee.a)($.a.mark((function e(r,a){var i,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe.checkShowGifs(a.playedSeconds),r===t.activePlayerIndex&&!t.players[r].preloading&&t.players[r].playing){e.next=4;break}return console.log("Player ".concat(r," onProgress stopped")),e.abrupt("return");case 4:if(t.isLoading&&(t.isLoading=!1),n(xe.getTimePosition()),void 0!==(i=t.players[r].cutIndex)&&-1!==t.currentCutIndex){e.next=10;break}return console.log("Player ".concat(r," onProgress No cut index in player")),e.abrupt("return");case 10:c=t.cuts[i].cut,console.log("Player ".concat(r," onProgress in ").concat(a.playedSeconds," sec (s: ").concat(null===c||void 0===c?void 0:c.startTime," e: ").concat(null===c||void 0===c?void 0:c.endTime)),e.t0=t.mode,e.next=e.t0===R.Create?15:e.t0===R.PlayOne?16:e.t0===R.PlayAll?21:e.t0===R.Show?26:31;break;case 15:return e.abrupt("break",31);case 16:if(!p(c,a.playedSeconds)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,xe.stop(r);case 20:return e.abrupt("break",31);case 21:if(!p(c,a.playedSeconds)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,xe.goToNextCut(r);case 25:return e.abrupt("break",31);case 26:if(!p(c,a.playedSeconds)){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,xe.goToNextCut(r);case 30:return e.abrupt("break",31);case 31:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(e){console.log("Player ".concat(e," onBuffer"))},o=function(e){console.log("Player ".concat(e," onBufferEnd"))},s=function(e){console.log("Player ".concat(e," onStart"))},u=function(e){console.log("Player ".concat(e," onPlay")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},l=function(e){console.log("Player ".concat(e," onPause")),t.playing[e]&&(t.playing[e]=!1),t.players[e].playing=!1},d=function(e){console.log("Player ".concat(e," onEnded"))},b=function(e,t){console.log("Player ".concat(e," onSeek"))},p=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(r.jsx)("div",{children:t.sources.length>0?t.players.map((function(e,n,p){var h=p.length-1-n;return Object(r.jsx)("div",{style:{visibility:t.players[h].isVisible?"visible":"hidden"},children:Object(r.jsx)(Fe.a,{playing:t.playing[h],className:Ve.a.player,url:t.players[h].url,muted:t.players[h].muted,width:"100%",height:"100%",onPlay:u.bind(null,h),onProgress:i.bind(null,h),onStart:s.bind(null,h),onPause:l.bind(null,h),onEnded:d.bind(null,h),onReady:a.bind(null,h),onSeek:b.bind(null,h),onBufferEnd:o.bind(null,h),onBuffer:c.bind(null,h),progressInterval:100,controls:!0,config:{youtube:{playerVars:{}}}})},t.players[h].id)})):Object(r.jsx)("div",{className:Ve.a.playerPlaceholder})})})),Xe=n(23),Ye=n(375),Ke=n(368),Qe=n(177),Ze=n.n(Qe),$e=n(175),et=n.n($e),tt=n(176),nt=n.n(tt),rt=n(174),at=n.n(rt),it=Object(l.a)((function(e){var t=ze().editorStore,n=Object(a.useState)([0,0]),i=Object(Xe.a)(n,2),c=i[0],o=i[1];Object(a.useEffect)((function(){Oe.setCustomGifData(null),null!==t.selectedGifId&&o(Oe.getGifTime(t.selectedGifId))}),[t.selectedGifId]);var s=function(){var e=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.playOne(t.currentCutIndex);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:t.selectedGifId&&Object(r.jsxs)("div",{className:at.a.container,children:[Object(r.jsx)(Ye.a,{value:c,onChange:function(e,n){null!==t.selectedGifId&&(Oe.setCustomGifData({id:t.selectedGifId,startShowTime:n[0],endShowTime:n[1]}),o(n))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",max:Oe.getCutTime(t.selectedGifId).endTime,min:Oe.getCutTime(t.selectedGifId).startTime,step:.01}),Object(r.jsxs)(Ke.a,{size:"small","aria-label":"small outlined button group",children:[Object(r.jsx)(T.a,{"aria-label":"play",color:"primary",onClick:s,children:Object(r.jsx)(et.a,{})}),Object(r.jsx)(T.a,{"aria-label":"thumbUp",color:"primary",onClick:function(){null!==t.selectedGifId&&Oe.setGifTime(t.selectedGifId,c)},children:Object(r.jsx)(nt.a,{})}),Object(r.jsx)(T.a,{"aria-label":"delete",color:"primary",onClick:function(){null!==t.selectedGifId&&(Oe.deleteGif(t.selectedGifId),t.selectedGifId=null)},children:Object(r.jsx)(Ze.a,{})})]})]})})})),ct=n(178),ot=n.n(ct),st=Object(l.a)((function(e){var t=ze().editorStore,n=function(e){xe.quickMoveToPosition(e)},a=null!==t.activeCutIndex?Oe.getGifListForCut(t.activeCutIndex):[];return Object(r.jsx)("div",{children:null!==t.activeCutIndex&&a.length>0?a.map((function(e){return Object(r.jsx)("img",{src:e.src,alt:"gif_"+e.index,className:ot.a.gif,onClick:n.bind(null,e.startShowTime)})})):null})})),ut=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(p.a)(this,n),(r=t.call(this,e)).state=void 0,r.canvasRef=void 0,r.changeStart=function(e){r.setState({cut:{startTime:e,endTime:Math.max(r.state.cut.endTime,e+1)}})},r.changeEnd=function(e){r.setState({cut:{startTime:Math.min(r.state.cut.startTime,e-1),endTime:e}})},r.play=function(){var e=r.state.cut;e&&(Ge.players[Ge.activePlayerIndex].playing=!1,xe.control[Ge.activePlayerIndex].player.seekTo(e.startTime),setTimeout((function(){xe.start(Ge.activePlayerIndex);var e=setInterval((function(){var t=r.state.cut;if(t){var n=xe.control[Ge.activePlayerIndex].player,a=n?n.getCurrentTime():0;a>=(null===t||void 0===t?void 0:t.startTime)&&a<=(null===t||void 0===t?void 0:t.endTime)||(clearInterval(e),xe.stop(Ge.activePlayerIndex))}}),100)}),1e3))},r.clear=function(){r.setState({cut:null})},r.onAddCut=function(){var e=r.state.cut;e&&(Ge.addCut(e),r.setState({startTime:0,endTime:0}))},r.updatePosition=function(e){r.setState({position:e})},r.onStartFrame=function(){var e=r.state,t=e.position,n=e.cut,a={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};a.startTime=t,a.endTime<t&&(a.endTime=t+5),r.setState({cut:a})},r.onEndFrame=function(){var e=r.state,t=e.position,n=e.cut,a={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};a.endTime=t,a.startTime>t&&(a.startTime=t-5),r.setState({cut:a})},r.onResizePlayerWrapper=function(e){var t=e.width,n=e.height;Ge.canvasSize={width:t,height:n},Ge.scaleGifs()},r.state={cut:null,playing:!1,position:0,record:!1},r.canvasRef=i.a.createRef(),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.canvasRef.current&&(Ge.canvasSize={width:this.canvasRef.current.offsetWidth,height:this.canvasRef.current.offsetHeight})}},{key:"render",value:function(){var e=this,t=this.state,n=t.position,a=t.cut,i=t.record;return Object(r.jsxs)("div",{className:C.a.container,children:[Object(r.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",Ge.activePlayerIndex,"/",Ge.players.length-1," Cut:"," ",Ge.currentCutIndex,"/",Ge.cuts.length-1," Source: ",Ge.currentSourceIndex,"/",Ge.sources.length-1]}),Object(r.jsxs)(d.a,{ref:this.canvasRef,className:O()("padded",C.a.playerWrapper),children:[Object(r.jsx)(qe,{updatePosition:this.updatePosition}),Object(r.jsx)(Re,{}),Object(r.jsx)(y.a,{onResize:this.onResizePlayerWrapper}),Object(r.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:Ge.isShowTransition?"visible":"hidden"}})]}),Ge.mode!==R.Show&&Ge.sources.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(d.a,{justify:"center",container:!0,children:I(n,!0)}),Object(r.jsx)(st,{}),Object(r.jsx)(it,{}),Object(r.jsx)(d.a,{container:!0,children:Object(r.jsx)("button",{className:O()(C.a.recButton,Object(b.a)({},C.a.active,i)),onMouseDown:function(){console.log("down"),e.setState({record:!0}),e.onStartFrame()},onMouseUp:function(){console.log("up"),e.setState({record:!1}),e.onEndFrame()},children:i?"stop rec":"start rec"})}),a&&Object(r.jsxs)(d.a,{container:!0,justify:"center",className:C.a.timeRow,alignContent:"flex-end",children:[Object(r.jsx)(d.a,{item:!0,lg:!0,children:Object(r.jsx)(z,{value:a.startTime,label:"Start time",onChange:this.changeStart})}),Object(r.jsx)(d.a,{item:!0,lg:!0,children:Object(r.jsx)(z,{value:null===a||void 0===a?void 0:a.endTime,label:"End time",onChange:this.changeEnd})}),Object(r.jsxs)(d.a,{item:!0,className:C.a.buttons,xs:!0,justify:"flex-end",alignContent:"center",container:!0,wrap:"nowrap",children:[Object(r.jsx)(m.a,{variant:"outlined",disableElevation:!0,onClick:this.play,children:"Play"}),Object(r.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:this.onAddCut,children:"Add"}),Object(r.jsx)(m.a,{variant:"contained",disableElevation:!0,onClick:this.clear,children:"Clear"})]})]})]}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(d.a,{className:C.a.previewButtons,container:!0,children:[Object(r.jsxs)(m.a,{variant:"contained",size:"large",color:"primary",disableElevation:!0,disabled:Ge.isLoading,onClick:function(){return xe.changeModeToShow()},children:["Play trailer",Ge.isLoading&&Object(r.jsx)(v.a,{size:20})]}),Object(r.jsx)(m.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return xe.changeModeToCreate(0)},children:"Make your own trailer"})]})})]})}}]),n}(i.a.Component),lt=Object(l.a)(ut),dt=n(85),bt=n.n(dt),pt=n(128),ht=n.n(pt),ft=function(e){var t=e.title,n=e.children;return Object(r.jsxs)("div",{className:ht.a.container,children:[Object(r.jsx)("h2",{className:ht.a.title,children:t}),n]})},jt=function(){return Object(r.jsx)(ft,{title:"Add Music",children:Object(r.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u0430\u0443\u0434\u0438\u043e-\u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c"})})},mt=n(179),vt=n(79),xt=n(129),Ot=n.n(xt),gt=n(86),yt=n.n(gt),_t=n.p+"static/media/closeIcon.0b48234f.svg",It=function(e){var t=e.value,n=e.placeholder,a=e.onChange;return Object(r.jsxs)("div",{className:yt.a.container,children:[Object(r.jsx)("input",{onChange:function(e){return a(e.target.value)},value:t,placeholder:n,className:yt.a.input}),t&&Object(r.jsx)("div",{className:yt.a.buttonsBlock,children:Object(r.jsx)("button",{type:"button",className:yt.a.clearButton,onClick:function(){return a("")},children:Object(r.jsx)("img",{src:_t,alt:"Close icon"})})})]})},wt=new vt.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");!function(e){e.Trending="trending",e.Search="search"}(He||(He={})),function(e){e.Gifs="gifs",e.Stickers="stickers",e.Text="text"}(Je||(Je={}));var Ct=function(e){var t=e.width,n=e.searchText,a=e.fetchType,i=e.type,c=ze().editorStore;return Object(r.jsx)(mt.Grid,{fetchGifs:function(e){return a===He.Search?wt.search(n,{offset:e,limit:10,type:i}):a===He.Trending?wt.trending({offset:e,limit:10,type:i}):wt.trending({offset:e,limit:10})},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),null!==c.activeCutIndex?c.addGif(e,c.activeCutIndex):alert("\u0422\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b \u043a\u0443\u0441\u043e\u0447\u0435\u043a!")}})},kt=Object(l.a)((function(e){var t=e.type,n=i.a.createRef(),c=Object(a.useState)(null),o=Object(Xe.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(""),d=Object(Xe.a)(l,2),b=d[0],p=d[1],h=Object(a.useState)(!0),f=Object(Xe.a)(h,2),j=f[0],m=f[1];return Object(a.useEffect)((function(){n&&u(n.current.offsetWidth)}),[n]),Object(a.useEffect)((function(){var e=setTimeout((function(){m(!0)}),1e3);return function(){return clearTimeout(e)}}),[b]),Object(r.jsxs)("div",{ref:n,className:Ot.a.root,children:[Object(r.jsx)(It,{placeholder:"Search with GIPHY",value:b,onChange:function(e){m(!1),p(e)}}),s&&Object(r.jsxs)("div",{className:Ot.a.gifsPanel,children:[j&&""===b&&Object(r.jsx)(Ct,{width:s,searchText:b,fetchType:He.Trending,type:t}),j&&""!==b&&Object(r.jsx)(Ct,{width:s,searchText:b,fetchType:He.Search,type:t}),Object(r.jsx)(y.a,{onResize:function(e){e.width}})]})]})})),St=Object(l.a)((function(e){var t=e.type;return Object(r.jsx)(ft,{title:"Add Gif",children:Object(r.jsx)(kt,{type:t})})})),Tt=n(87),Pt=n.n(Tt),Nt=function(e){var t=e.value,n=e.isActive,a=e.icon,i=e.onClick;return Object(r.jsx)("div",{onClick:function(){return i(t)},className:O()(Pt.a.tabItem,Object(b.a)({},Pt.a.active,n)),children:Object(r.jsx)("img",{src:a,className:O()(Pt.a.icon,Object(b.a)({},Pt.a.activeIcon,n)),alt:"Source icon"})})},Et=n(180),Bt=n.n(Et),Gt=function(e){var t=e.tabs,n=e.activeTab,a=e.handleClick;return Object(r.jsx)("div",{className:Bt.a.container,children:t.map((function(e){var t=e.icon,i=e.id;return Object(r.jsx)(Nt,{icon:t,isActive:i===n,value:i,onClick:a},i)}))})},Lt=n(111),At=n.n(Lt),Mt="blue",zt="red",Dt="lightBlue",Rt=n(47),Ut=n.n(Rt),Ft=n.p+"static/media/close.f88f3a6a.svg",Wt=function(e){var t,n=e.text,a=e.type,i=e.active,c=e.disabled,o=e.colorTheme,s=e.withBorder,u=e.deleteButton,l=e.onClick,d=e.onDelete;return Object(r.jsxs)("button",{className:O()(Ut.a.button,(t={},Object(b.a)(t,Ut.a.active,i),Object(b.a)(t,Ut.a.disabled,c),Object(b.a)(t,Ut.a.withBorder,s),Object(b.a)(t,Ut.a.redTheme,o===zt),Object(b.a)(t,Ut.a.blueTheme,o===Mt),Object(b.a)(t,Ut.a.lightBlueTheme,o===Dt),t)),disabled:c,type:a||"submit",onClick:l,children:[n,u&&Object(r.jsx)("div",{className:Ut.a.delete,onClick:d,children:Object(r.jsx)("img",{src:Ft,alt:"close icon"})})]})},Vt=n(74),Ht=n(112),Jt=n.n(Ht),qt=n(66),Xt=n.n(qt),Yt=n.p+"static/media/close.b731002b.svg",Kt=n.p+"static/media/playIcon.737e8ec2.svg",Qt=Object(l.a)((function(e){var t=e.cut,n=e.idx,i=(e.isActive,e.isChosenSource),c=e.onClick,o=ze().editorStore,s=Object(a.useRef)(null),u=Object(a.useRef)(null),l=Object(a.useState)(!1),d=Object(Xe.a)(l,2),p=d[0],h=d[1],f=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},j=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(a.useEffect)((function(){var e=s.current;return e&&(e.addEventListener("mouseover",(function(){h(!0),f()})),e.addEventListener("mouseout",(function(){h(!1),j()}))),function(){e&&(e.removeEventListener("mouseover",(function(){f()})),e.removeEventListener("mouseout",(function(){j()})))}}),[s]),Object(r.jsxs)("div",{className:O()(Xt.a.wrapper,Object(b.a)({},Xt.a.isChosenSource,i)),children:[Object(r.jsx)("div",{className:Xt.a.buttons,children:Object(r.jsx)("button",{onClick:function(){return o.removeCut(n)},children:Object(r.jsx)("img",{src:Yt,alt:"Close icon"})})}),Object(r.jsxs)("div",{className:Xt.a.playerWrapper,ref:s,children:[Object(r.jsx)(Fe.a,{ref:u,width:"100%",height:"100%",url:o.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,u.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(r.jsx)("button",{onClick:function(){xe.playOne(n),c(n)},className:O()(Xt.a.playButton,Object(b.a)({},Xt.a.isVisible,p)),children:Object(r.jsx)("img",{src:Kt,alt:"Play icon"})})]})]})})),Zt=n(181),$t=n.n(Zt),en=n(113),tn=n.n(en),nn=n(77),rn=n.n(nn),an=n(48),cn=n.n(an),on=n.p+"static/media/arrow.8371470d.svg",sn="left",un="right",ln=function(e){var t,n=e.position,i=e.value,c=e.onChange,o=Object(a.useRef)(null),s=function(e){e.preventDefault(),e.deltaY>0?l():u()},u=function(){if(i){var e=i-.1;e<0&&(e=0),c(e)}},l=function(){c(i+.1)};Object(a.useEffect)((function(){var e=o.current;return null===e||void 0===e||e.addEventListener("wheel",s),function(){return null===e||void 0===e?void 0:e.removeEventListener("wheel",s)}}),[i]);var d={value:I(i,!0)};return Object(r.jsxs)("div",{className:cn.a.container,children:[Object(r.jsx)(P.a,Object(k.a)(Object(k.a)({},d),{},{className:cn.a.timeInput,size:"small",helperText:null,variant:"outlined",onChange:function(e){},ref:o,InputProps:{readOnly:!0}})),Object(r.jsx)("div",{className:O()(cn.a.buttons,(t={},Object(b.a)(t,cn.a.leftPosition,n===sn),Object(b.a)(t,cn.a.rightPosition,n===un),t)),children:Object(r.jsxs)("div",{className:cn.a.buttonsWrapper,children:[Object(r.jsx)("button",{onClick:l,className:cn.a.addButton,children:Object(r.jsx)("img",{src:on,alt:"Arrow icon"})}),Object(r.jsx)("button",{onClick:u,className:cn.a.removeButton,children:Object(r.jsx)("img",{src:on,alt:"Arrow icon"})})]})})]})},dn=Object(l.a)((function(e){var t,n=e.idx,a=ze().editorStore,i=null===(t=a.cuts[n])||void 0===t?void 0:t.cut;return Object(r.jsx)("div",{className:rn.a.container,children:i&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:rn.a.timerBlock,children:[Object(r.jsx)(ln,{value:i.startTime,onChange:function(e){return function(e){i.startTime=e,i.endTime<i.startTime+1&&(i.endTime=i.startTime+1),a.cuts[n].cut={startTime:i.startTime,endTime:i.endTime}}(e)},position:sn}),Object(r.jsx)("p",{className:rn.a.separator,children:"-"}),Object(r.jsx)(ln,{value:i.endTime,onChange:function(e){return function(e){i.endTime=e,i.startTime>i.endTime-1&&(i.startTime=i.endTime-1),a.cuts[n].cut={startTime:i.startTime,endTime:i.endTime}}(e)},position:un})]}),Object(r.jsx)("div",{className:rn.a.rightBlock,children:Object(r.jsxs)("div",{className:rn.a.timeTotal,children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u0443\u0441\u043e\u0447\u043a\u0430: ",I(i.endTime-i.startTime)]})})]})})})),bn=Object(l.a)((function(e){var t=e.playAll,n=e.onUrlCopy,a=e.clearStore,i=e.showCopied,c=ze().editorStore;return Object(r.jsxs)("div",{className:tn.a.container,children:[null!==c.activeCutIndex&&Object(r.jsx)(dn,{idx:c.activeCutIndex}),Object(r.jsxs)(d.a,{container:!0,className:tn.a.infoLine,item:!0,children:[Object(r.jsxs)(d.a,{item:!0,lg:!0,children:["Trailer duration: ",I(c.trailerLength)]}),Object(r.jsxs)(d.a,{item:!0,lg:!0,children:["Number of frames: ",c.cuts.length]})]}),Object(r.jsxs)(d.a,{className:tn.a.bottomBtn,children:[Object(r.jsxs)(m.a,{variant:"contained",disableElevation:!0,onClick:t,fullWidth:!0,color:"primary",disabled:c.isLoading,style:{margin:5},children:["Play all",c.isLoading&&Object(r.jsx)(v.a,{size:20})]}),Object(r.jsx)($t.a,{text:c.shareUrl||"",onCopy:n,children:Object(r.jsx)(m.a,{variant:"contained",disableElevation:!0,fullWidth:!0,style:{margin:5},children:i?"Copied":"Copy link"})}),Object(r.jsx)(m.a,{onClick:a,variant:"contained",disableElevation:!0,fullWidth:!0,style:{margin:5},children:"Clear store"})]})]})})),pn=n(88),hn=n.n(pn),fn=n(49),jn=n.n(fn),mn=n.p+"static/media/actionIcon.e6f6af32.svg",vn=function(e){var t=e.cut,n=e.deleteCut,i=Object(a.useState)(!1),c=Object(Xe.a)(i,2),o=c[0],s=c[1],u=Object(a.useState)(!1),l=Object(Xe.a)(u,2),d=l[0],p=l[1],h=Object(a.useRef)(null);return function(e,t,n,r,i){Object(a.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){r(!0)})),t.addEventListener("mouseleave",(function(){r(!1),i(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){r(!1),i(!1)})),t.removeEventListener("mouseleave",(function(){r(!1),i(!1)})))}}),[e,t,n])}(h,d,o,p,s),Object(r.jsxs)("div",{className:jn.a.container,ref:h,children:[Object(r.jsxs)("div",{className:O()(jn.a.actionBlock,Object(b.a)({},jn.a.isActive,d)),onClick:function(){return s(!o)},children:[Object(r.jsx)("img",{src:mn,alt:"Action icon"}),o&&Object(r.jsx)("div",{className:jn.a.listWrapper,children:Object(r.jsx)("ul",{className:jn.a.list,children:Object(r.jsx)("li",{className:jn.a.listItem,children:Object(r.jsx)("button",{onClick:function(e){e.stopPropagation(),n(t.id)},children:"Delete Cut"})})})})]}),Object(r.jsx)("div",{className:O()(jn.a.videoWrapper,Object(b.a)({},jn.a.isActive,d)),children:Object(r.jsx)(Fe.a,{width:"100%",height:"100%",url:t.url,muted:!0,controls:!1,config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},t.id)})]})},xn=n.p+"static/media/play.a44af37e.svg",On=function(e){var t=e.droppableId,n=e.taskIds,i=e.deleteCut,c=ze().editorStore,o=Object(a.useState)([]),s=Object(Xe.a)(o,2),u=s[0],l=s[1];Object(a.useEffect)((function(){var e=n.reduce((function(e,t,n){var r=t,a=t.split("-"),i=a.slice(0,a.length-1).join("-"),o=c.cuts.find((function(e){return e.id===i}));return o?[Object(k.a)(Object(k.a)({},Object(q.r)(o)),{},{realId:i,id:r})].concat(Object(H.a)(e)):e}),[]);l(e)}),[n]);var d=u.reduce((function(e,t,n){return t.cut?e+t.cut.endTime-t.cut.startTime:e}),0),b=function(e){i(e)};return Object(r.jsxs)("div",{className:hn.a.container,children:[Object(r.jsxs)("div",{className:hn.a.playInfo,children:[Object(r.jsx)("button",{className:hn.a.playButton,onClick:function(){xe.playAll()},children:Object(r.jsx)("img",{src:xn,alt:"Play icon"})}),Object(r.jsx)("p",{children:I(d)})]}),Object(r.jsx)(Vt.c,{droppableId:t,children:function(e){return Object(r.jsx)("div",Object(k.a)(Object(k.a)({className:hn.a.wrapper},e.droppableProps),{},{ref:e.innerRef,children:u.map((function(e){return Object(r.jsx)(vn,{cut:e,deleteCut:b},e.id)}))}))}})]})},gn={tasks:{},columns:{"column-1":{id:"column-1",title:"Cuts",taskIds:[]},"column-2":{id:"column-2",title:"PlayList",taskIds:[]}},columnOrder:["column-1","column-2"]};var yn,_n=Object(l.a)((function(){var e=ze().editorStore,t=Object(a.useState)(gn),n=Object(Xe.a)(t,2),i=n[0],c=n[1],o=Object(a.useState)(!1),s=Object(Xe.a)(o,2),u=s[0],l=s[1],p=Object(a.useState)(""),h=Object(Xe.a)(p,2),f=h[0],j=h[1];Object(a.useEffect)((function(){var t=e.cuts.reduce((function(e,t){return Object(k.a)(Object(k.a)({},e),{},Object(b.a)({},t.index,t))}),{}),n={tasks:t,columns:{"column-1":Object(k.a)(Object(k.a)({},i.columns["column-1"]),{},{taskIds:Object.keys(t)}),"column-2":Object(k.a)({},i.columns["column-2"])},columnOrder:["column-1","column-2"]};c(n)}),[e.cuts.length]);var m=function(){var t=Object(ee.a)($.a.mark((function t(n){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.activeCutIndex!==n){t.next=3;break}return e.activeCutIndex=null,t.abrupt("return");case 3:return e.activeCutIndex=n,e.currentCutIndex=n,t.next=7,xe.preloadCut(e.activePlayerIndex,n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function v(){return(v=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.playAll();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var t=e.sources[e.currentSourceIndex];void 0!==t&&j(t.url)}),[e.currentSourceIndex]),e.activeCutIndex,Object(r.jsx)(Vt.a,{onDragEnd:function(e){var t,n=e.destination,r=e.source,a=e.draggableId;if(n&&(n.droppableId!==r.droppableId||n.index!==r.index)){var o=i.columns[r.droppableId],s=i.columns[n.droppableId];if(o!==s){var u=Array.from(o.taskIds);u.splice(r.index,1);var l=Object(k.a)(Object(k.a)({},o),{},{taskIds:u}),d=Array.from(s.taskIds);d.splice(n.index,0,"".concat(a,"-").concat(+new Date));var p=Object(k.a)(Object(k.a)({},s),{},{taskIds:d}),h=Object(k.a)(Object(k.a)({},i),{},{columns:Object(k.a)(Object(k.a)({},i.columns),{},(t={},Object(b.a)(t,l.id,l),Object(b.a)(t,p.id,p),t))});c(h)}else{var f=Array.from(o.taskIds);f.splice(r.index,1),f.splice(n.index,0,a);var j=Object(k.a)(Object(k.a)({},o),{},{taskIds:f}),m=Object(k.a)(Object(k.a)({},i),{},{columns:Object(k.a)(Object(k.a)({},i.columns),{},Object(b.a)({},j.id,j))});c(m)}}},children:Object(r.jsx)("div",{className:Jt.a.cutsPanel,children:e.sources.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Vt.c,{droppableId:i.columns["column-1"].id,children:function(t){return Object(r.jsx)("div",Object(k.a)(Object(k.a)({className:Jt.a.cutsList},t.droppableProps),{},{ref:t.innerRef,children:e.cuts.map((function(t,n){return Object(r.jsx)(Vt.b,{draggableId:t.id.toString(),index:n,children:function(a){return Object(r.jsx)("div",Object(k.a)(Object(k.a)(Object(k.a)({},a.draggableProps),a.dragHandleProps),{},{ref:a.innerRef,children:Object(r.jsx)(Qt,{idx:n,cut:t.cut,isActive:n===e.activeCutIndex,onClick:m,isChosenSource:t.url===f},t.id)}))}},t.id)}))}))}}),Object(r.jsx)(bn,{clearStore:function(){return e.clearStore()},onUrlCopy:function(){l(!0),setTimeout((function(){return l(!1)}),3e3),gtag("event","url-copy",{url:e.shareUrl})},playAll:function(){return v.apply(this,arguments)},showCopied:u}),Object(r.jsx)(On,{droppableId:i.columns["column-2"].id,taskIds:i.columns["column-2"].taskIds,deleteCut:function(e){var t=Object(k.a)(Object(k.a)({},i),{},{columns:Object(k.a)(Object(k.a)({},i.columns),{},Object(b.a)({},"column-2",Object(k.a)(Object(k.a)({},i.columns["column-2"]),{},{taskIds:i.columns["column-2"].taskIds.filter((function(t){return t!==e}))})))});c(t)}})]}):Object(r.jsx)(d.a,{container:!0,className:Jt.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})})),In=Object(l.a)((function(){var e=ze().editorStore,t=Object(a.useState)(""),n=Object(Xe.a)(t,2),i=n[0],c=n[1],o=function(){e.addSource(i),c("")},s=function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(ft,{title:"All frames",children:[e.mode!==R.Show&&Object(r.jsxs)(d.a,{container:!0,direction:"column",children:[Object(r.jsx)(d.a,{className:At.a.searchLine,item:!0,children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o()},className:At.a.form,children:[Object(r.jsx)("div",{className:At.a.inputWrapper,children:Object(r.jsx)(It,{value:i,onChange:function(e){return c(e)},placeholder:"Paste the video link here"})}),Object(r.jsx)(Wt,{type:"button",text:"Add source",disabled:""===i,onClick:o,colorTheme:Mt})]})}),Object(r.jsx)(d.a,{item:!0,container:!0,spacing:2,children:e.sources.map((function(t){return Object(r.jsx)(d.a,{item:!0,children:Object(r.jsx)(Wt,{text:"Source ".concat(t.index+1),onClick:function(){return s(t.index)},onDelete:function(n){return function(t,n){return t.stopPropagation(),e.removeSource(n),n>0?s(n-1):0===n&&e.sources.length?s(0):void 0}(n,t.index)},deleteButton:!0,colorTheme:Dt,active:t.index===e.currentSourceIndex})},t.id)}))})]}),Object(r.jsx)(_n,{})]})})),wn=function(e){var t=e.type;return Object(r.jsx)(ft,{title:"Add Text",children:Object(r.jsx)(kt,{type:t})})},Cn=n.p+"static/media/frames.7fe1096a.svg",kn=n.p+"static/media/audio.18d70808.svg",Sn=n.p+"static/media/gif.cd91ed47.svg",Tn=n.p+"static/media/text.0504dd60.svg",Pn=n.p+"static/media/images.c3d542ed.svg",Nn=n.p+"static/media/sticker.689907e4.svg",En=n.p+"static/media/transitions.876ac694.svg",Bn="frames",Gn="transition",Ln="text",An="gifs",Mn="image",zn="sticker",Dn="audio",Rn=[{id:Bn,icon:Cn},{id:Gn,icon:En},{id:Ln,icon:Tn},{id:An,icon:Sn},{id:Mn,icon:Pn},{id:zn,icon:Nn},{id:Dn,icon:kn}],Un=n(131),Fn=n.n(Un),Wn=function(){return Object(r.jsx)(ft,{title:"Add Transitions",children:Object(r.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438"})})},Vn=function(){return Object(r.jsx)(ft,{title:"Add Images",children:Object(r.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430\u043c\u0438"})})},Hn=function(e){var t=e.type;return Object(r.jsx)(ft,{title:"Add Stickers",children:Object(r.jsx)(kt,{type:t})})},Jn=(yn={},Object(b.a)(yn,Bn,Object(r.jsx)(In,{})),Object(b.a)(yn,An,Object(r.jsx)(St,{type:Je.Gifs})),Object(b.a)(yn,Ln,Object(r.jsx)(wn,{type:Je.Text})),Object(b.a)(yn,Dn,Object(r.jsx)(jt,{})),Object(b.a)(yn,Gn,Object(r.jsx)(Wn,{})),Object(b.a)(yn,Mn,Object(r.jsx)(Vn,{})),Object(b.a)(yn,zn,Object(r.jsx)(Hn,{type:Je.Stickers})),yn),qn=function(){var e=ze().editorStore,t=Object(a.useState)(Bn),n=Object(Xe.a)(t,2),i=n[0],c=n[1];return Object(r.jsxs)("div",{className:Fn.a.container,children:[Object(r.jsx)(Gt,{tabs:Rn,handleClick:function(t){c(t),e.isEnableCanvas=t!==Bn},activeTab:i}),Object(r.jsx)("div",{className:Fn.a.content,children:Jn[i]})]})},Xn=n(89),Yn=n.n(Xn),Kn={isDev:!1,agora:{appId:"df4bc258854f4cb293dc97a3ab0fc123",appToken:"006df4bc258854f4cb293dc97a3ab0fc123IACrGJ2lVwuokMZ2x6ksR30jre117a/3bMmzvzuwsWLIQHiLwJYAAAAAEAAEa9nryolLYAEAAQDKiUtg"},google:{clientId:"408329112054-lostlgmbd8r8ncskmnfnfoqv50j84bev.apps.googleusercontent.com"}},Qn=Kn.agora.appId,Zn=Kn.agora.appToken;console.log("agora sdk version: "+Yn.a.VERSION+" compatible: "+Yn.a.checkSystemRequirements());var $n=new(function(){function e(){var t=this;Object(p.a)(this,e),this.client=void 0,this.localAudioTrack=null,this.uid=null,this.client=Yn.a.createClient({mode:"live",codec:"h264"}),this.client.on("user-published",function(){var e=Object(ee.a)($.a.mark((function e(n,r){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.subscribe(n,r);case 2:console.log("subscribe success"),"audio"===r&&(null===(a=n.audioTrack)||void 0===a||a.play());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}return Object(h.a)(e,[{key:"join",value:function(){var e=Object(ee.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.join(Qn,"EyeMo",Zn);case 3:return this.uid=e.sent,e.next=6,this.client.setClientRole("host");case 6:return e.next=8,Yn.a.createMicrophoneAudioTrack();case 8:return this.localAudioTrack=e.sent,e.next=11,this.client.publish([this.localAudioTrack]);case 11:return e.next=13,this.disableMic();case 13:Ge.isConnectedChat=!0,console.log("Publish success!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error on join to chat: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=this.localAudioTrack)||void 0===t||t.close(),e.next=4,this.client.leave();case 4:Ge.isConnectedChat=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on leave chat: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"enableMic",value:function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!0);case 3:Ge.isEnableMic=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on enable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableMic",value:function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!1);case 3:Ge.isEnableMic=!1,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on disable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserCount",value:function(){return console.log("Number of users: "+this.client.getRTCStats().UserCount),this.client.getRTCStats().UserCount}}]),e}()),er=n.p+"static/media/userIcon.401c41c6.svg",tr=n(183),nr=n.n(tr),rr=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},ar=function(){return Object(r.jsx)("li",{className:nr.a.item,style:{backgroundColor:rr()},children:Object(r.jsx)("img",{src:er,alt:"User icon"})})},ir=n.p+"static/media/mic.7674c511.svg",cr=n.p+"static/media/mic-white.1fcdc1a6.svg",or=n(58),sr=n.n(or),ur=Object(l.a)((function(){var e=ze().editorStore,t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),i=n[0],c=n[1],o=$n.getUserCount(),s=function(){var t=Object(ee.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnectedChat){t.next=5;break}return t.next=3,$n.leave();case 3:t.next=7;break;case 5:return t.next=7,$n.join();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(ee.a)($.a.mark((function t(){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEnableMic){t.next=5;break}return t.next=3,$n.disableMic();case 3:t.next=7;break;case 5:return t.next=7,$n.enableMic();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){c(e.isConnectedChat)}),[e.isConnectedChat]),Object(r.jsxs)("div",{className:sr.a.container,children:[Object(r.jsx)("h2",{className:sr.a.title,children:"Voice Room"}),Object(r.jsxs)("div",{className:sr.a.wrapper,children:[i&&o&&Object(r.jsx)("ul",{className:sr.a.memberList,children:Object(H.a)(Array(o)).map((function(e){return Object(r.jsx)(ar,{})}))}),Object(r.jsx)(Wt,{onClick:s,text:i?"Leave":"Join the room",colorTheme:i?zt:Mt}),Object(r.jsxs)("div",{className:sr.a.micBlock,children:[Object(r.jsx)("button",{onClick:u,className:O()(sr.a.micButton,Object(b.a)({},sr.a.micOff,!e.isEnableMic)),children:Object(r.jsx)("img",{src:e.isEnableMic?ir:cr,alt:"Mute"})}),Object(r.jsx)("p",{children:e.isEnableMic?"You're Live":"Tap to Unmute"})]})]})]})})),lr=n(376),dr=n(373),br=n(184),pr=n.n(br),hr=n(132),fr=n.n(hr),jr=n(109),mr=Kn.google.clientId,vr=Object(l.a)((function(e){var t=ze().userStore;return Object(r.jsx)("div",{children:Object(r.jsx)(jr.GoogleLogin,{clientId:mr,buttonText:"Sign in with Google",onSuccess:function(e){var n=e.accessToken,r=e.profileObj;n&&(t.user=r,t.googleToken=n)},onFailure:function(e){alert("Failed to log in")},cookiePolicy:"single_host_origin",responseType:"code,token"})})})),xr=Object(l.a)((function(){var e=ze().userStore,t=i.a.useState(!1),n=Object(Xe.a)(t,2),a=n[0],c=n[1];return Object(r.jsx)("div",{children:e.user?Object(r.jsx)(T.a,{onClick:function(){e.isShowUserProfile=!e.isShowUserProfile},children:e.isShowUserProfile?Object(r.jsx)(pr.a,{}):Object(r.jsx)(lr.a,{alt:"user",src:e.user.imageUrl})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(m.a,{variant:"contained",color:"primary",onClick:function(){c(!0)},children:"Sign In"}),Object(r.jsx)(dr.a,{open:a,onClose:function(){c(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:fr.a.container,children:Object(r.jsxs)("div",{className:fr.a.modalContainer,children:[Object(r.jsx)("h2",{children:"Sign In"}),Object(r.jsx)(vr,{})]})})]})})})),Or=n(50),gr=n.n(Or),yr=Object(l.a)((function(){var e,t,n=ze().userStore;return Object(r.jsx)("div",{className:gr.a.root,children:Object(r.jsxs)(d.a,{container:!0,children:[Object(r.jsx)(d.a,{item:!0,xs:8,children:Object(r.jsx)("h2",{children:"My Portfolio"})}),Object(r.jsxs)(d.a,{container:!0,item:!0,xs:4,className:gr.a.userData,children:[Object(r.jsx)(lr.a,{alt:"user",src:null===(e=n.user)||void 0===e?void 0:e.imageUrl,className:gr.a.avatar}),Object(r.jsx)("h3",{className:gr.a.text,children:null===(t=n.user)||void 0===t?void 0:t.name}),Object(r.jsx)("h2",{className:gr.a.text,children:"156.000.000 sec."}),Object(r.jsx)(m.a,{variant:"contained",children:"Edit Profile"}),Object(r.jsx)("h4",{className:gr.a.text,children:"Social"}),Object(r.jsx)(m.a,{variant:"contained",children:"$"}),Object(r.jsx)("div",{className:gr.a.text,children:"-o-"}),Object(r.jsx)(m.a,{variant:"contained",children:"Invite"}),Object(r.jsx)("div",{className:gr.a.text,children:"-o-"}),Object(r.jsx)(jr.GoogleLogout,{clientId:Kn.google.clientId,buttonText:"Sign out",onLogoutSuccess:function(){n.user=null,n.googleToken=null,n.isShowUserProfile=!1},onFailure:function(){alert("Failed to log out")}})]})]})})}));var _r=Object(l.a)((function(){var e=ze(),t=e.editorStore,n=e.userStore;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.a,{dateAdapter:s.a,children:Object(r.jsx)("div",{className:bt.a.container,children:Object(r.jsxs)(d.a,{container:!0,className:bt.a.wrapper,children:[Object(r.jsx)(d.a,{container:!0,item:!0,xs:12,className:bt.a.header,children:Object(r.jsx)(xr,{})}),n.isShowUserProfile?Object(r.jsx)(yr,{}):Object(r.jsxs)(r.Fragment,{children:[t.mode!==R.Show&&Object(r.jsx)(qn,{}),Object(r.jsxs)("div",{className:bt.a.playerPanel,children:[Object(r.jsx)(lt,{}),Object(r.jsx)(ur,{})]})]})]})})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(_r,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,n){e.exports={button:"button_button__rhxVg",withBorder:"button_withBorder__37cWq",disabled:"button_disabled__yLx7B",blueTheme:"button_blueTheme__XD1wz",active:"button_active__1B6fc",lightBlueTheme:"button_lightBlueTheme__3XqVe",redTheme:"button_redTheme__2bnwx",delete:"button_delete__2eXQr"}},48:function(e,t,n){e.exports={container:"customTimeInput_container__2GIEl",timeInput:"customTimeInput_timeInput__1SCjy",buttons:"customTimeInput_buttons__31Ika",buttonsWrapper:"customTimeInput_buttonsWrapper__2Iy5j",removeButton:"customTimeInput_removeButton__AC7w7",leftPosition:"customTimeInput_leftPosition__2app5",rightPosition:"customTimeInput_rightPosition__3hhMG"}},49:function(e,t,n){e.exports={container:"timeLineItem_container__3wWL6",videoWrapper:"timeLineItem_videoWrapper__2e5U4",isActive:"timeLineItem_isActive__B8g0-",actionBlock:"timeLineItem_actionBlock__ji3wX",listWrapper:"timeLineItem_listWrapper__fpC8L",list:"timeLineItem_list__2_oIs",listItem:"timeLineItem_listItem__o-J31"}},50:function(e,t,n){e.exports={root:"UserProfile_root__1HK7B",avatar:"UserProfile_avatar__1Q3dw",userData:"UserProfile_userData__1JyVF",text:"UserProfile_text__1d6Ai"}},57:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",playerWrapper:"PlayerPanel_playerWrapper__16uXZ",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",recButton:"PlayerPanel_recButton__3TYfL",recButtonAnimation:"PlayerPanel_recButtonAnimation__2UQQt",active:"PlayerPanel_active__2NmJa"}},58:function(e,t,n){e.exports={container:"chat_container__2-HcD",title:"chat_title__1sJgz",wrapper:"chat_wrapper__1lJMG",memberList:"chat_memberList__lX_EQ",micBlock:"chat_micBlock__1vxsg",micButton:"chat_micButton__mIDbu",micOff:"chat_micOff__66AK_"}},66:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__5cXzz",playerWrapper:"CutItem_playerWrapper__2L7gi",video:"CutItem_video__dXSLs",buttons:"CutItem_buttons__3RjEe",checkbox:"CutItem_checkbox__b5vN1",playButton:"CutItem_playButton__3vTkv",isVisible:"CutItem_isVisible__nFhaf",isChosenSource:"CutItem_isChosenSource__2IT89",checkboxWrapper:"CutItem_checkboxWrapper__1DS0U"}},77:function(e,t,n){e.exports={container:"cutPlayer_container__-EGWc",timerBlock:"cutPlayer_timerBlock__221Xt",separator:"cutPlayer_separator__3aYik"}},85:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb",header:"App_header__2L3DO"}},86:function(e,t,n){e.exports={container:"input_container__23uXm",input:"input_input__2NaO-",buttonsBlock:"input_buttonsBlock__20Mow",clearButton:"input_clearButton__3f2P7",copyButton:"input_copyButton__30Jkc"}},87:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},88:function(e,t,n){e.exports={container:"timeline_container__2nLX3",wrapper:"timeline_wrapper__2iCZU",playInfo:"timeline_playInfo__VzKts",playButton:"timeline_playButton__1rbTg",item:"timeline_item__18KTL"}}},[[333,1,2]]]);