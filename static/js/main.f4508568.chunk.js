(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{109:function(e,t,n){e.exports={timeInput:"TimeInput_timeInput__1OGkV",changeButton:"TimeInput_changeButton__1tKZm"}},110:function(e,t,n){e.exports={player:"MultiPlayer_player__3BLbd",playerPlaceholder:"MultiPlayer_playerPlaceholder__duL1K"}},111:function(e,t,n){e.exports={container:"contentView_container__RRG_Y",title:"contentView_title__1pCuk"}},112:function(e,t,n){e.exports={root:"GifsPanel_root__1ZDy0",searchLine:"GifsPanel_searchLine__3JEx-",gifsPanel:"GifsPanel_gifsPanel__1yNS-"}},113:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",content:"contentBlock_content__1xBTD"}},152:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},153:function(e,t,n){e.exports={container:"GifMenu_container__20wqN"}},158:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},288:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,u,l,d,p,h,b,f,j,v,m,x,y=n(1),g=n(0),O=n.n(g),_=n(19),w=n.n(_),I=n(160),C=n(326),T=n(20),P=n(15),k=n(45),S=n(46),N=n(162),B=n(161),G=n(324),E=n(289),z=n(325),L=n(34),A=n.n(L),M=n(83),R=n.n(M),D=n(27),W=n(23),V=n(114),F=n(16),U=(n(174),n(4)),J=n(117),X=n(145),Y=n.n(X),H=n(13),q=n.n(H),K=n(25),Q=new(function(){function e(){Object(k.a)(this,e),this.control=[]}return Object(S.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[se.activePlayerIndex].player.getCurrentTime()}},{key:"stop",value:function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return se.playing[t]=!1,e.next=5,Object(U.s)((function(){return!se.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return se.playing[t]=!0,e.next=5,Object(U.s)((function(){return se.players[t].playing}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se.mode=x.PlayOne,e.next=3,this.stop(se.activePlayerIndex);case 3:return se.currentCutIndex=t,e.next=6,this.preloadCut(se.activePlayerIndex,t);case 6:return e.next=8,this.start(se.activePlayerIndex);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.isLoading=!0,0!==se.cuts.length){e.next=5;break}return e.next=4,this.start(se.activePlayerIndex);case 4:return e.abrupt("return");case 5:return t||(se.mode=x.PlayAll),e.next=8,this.setDefaultPlayersState();case 8:return e.next=10,this.start(se.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.mode=x.Create,se.currentSourceIndex=t,se.currentCutIndex=-1,n=0;case 4:if(!(n<se.players.length)){e.next=11;break}return e.next=7,this.stop(n);case 7:n===se.activePlayerIndex&&(se.players[n]=Object(W.a)(Object(W.a)({},se.players[n]),{},{url:se.sources[t].url,playing:!1}));case 8:n+=1,e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(K.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se.mode=x.Show,e.next=3,this.playAll(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(K.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se.players[t]=Object(W.a)(Object(W.a)({},se.players[t]),{},{url:se.cuts[n].url,cutIndex:n}),se.players[t].preloading=!0,se.players[t].muted=!0,e.next=5,this.start(t);case 5:return e.next=7,this.stop(t);case 7:this.control[t].player.getInternalPlayer().seekTo(se.cuts[n].cut.startTime,!0),se.players[t].muted=!1,se.players[t].preloading=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setDefaultPlayersState",value:function(){var e=Object(K.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<se.players.length)){e.next=14;break}return e.next=4,this.stop(t);case 4:if(!(t<se.cuts.length)){e.next=10;break}return se.players[t].isVisible=0===t,e.next=8,this.preloadCut(t,t);case 8:e.next=11;break;case 10:se.players[t]={id:se.players[t].id,muted:!1,url:"",playing:!1,preloading:!1,cutIndex:t,isVisible:!1};case 11:t+=1,e.next=1;break;case 14:se.activePlayerIndex=0,se.currentCutIndex=0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToNextCut",value:function(){var e=Object(K.a)(q.a.mark((function e(t){var n,r,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=se.currentCutIndex===se.cuts.length-1,se.isShowTransition=!n,e.next=4,this.stop(t);case 4:if(!n){e.next=7;break}return console.log("Last cut is end"),e.abrupt("return");case 7:return r=se.currentCutIndex+se.players.length,a=r<se.cuts.length,console.log("Go from ".concat(se.currentCutIndex," to ").concat(se.nextCutIndex," cut")),se.activePlayerIndex=se.nextPlayerIndex,se.currentCutIndex=se.nextCutIndex,e.next=14,this.start(se.activePlayerIndex);case 14:if(se.players[t].isVisible=!1,se.players[se.activePlayerIndex].isVisible=!0,setTimeout((function(){return se.isShowTransition=!1}),400),a){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,this.preloadCut(t,r);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTimePosition",value:function(){var e=this.control[se.activePlayerIndex].player.getCurrentTime();if(se.currentCutIndex<0)return e;for(var t=0,n=0;n<se.cuts.length&&!(n>se.currentCutIndex);n+=1){var r=se.cuts[n].cut.startTime,a=se.cuts[n].cut.endTime;n===se.currentCutIndex?t+=e-r:t+=a-r}return t}}]),e}()),Z=n(38),$=new(function(){function e(){Object(k.a)(this,e)}return Object(S.a)(e,[{key:"getCutTime",value:function(e){var t={startTime:0,endTime:0},n=this.getGifIndexById(e);if(null!==n){var r=se.gifs[n].cutId;se.cuts.map((function(e){e.id===r&&(t=e.cut)}))}return t}},{key:"setGifTime",value:function(e,t){var n=this.getGifIndexById(e);null!==n&&(se.gifs[n].startShowTime=t[0],se.gifs[n].endShowTime=t[1])}},{key:"getGifIndexById",value:function(e){var t=null;return se.gifs.map((function(n){n.id===e&&(t=n.index)})),t}},{key:"getGifTime",value:function(e){var t=[0,0],n=this.getGifIndexById(e);return null!==n&&(t=[se.gifs[n].startShowTime,se.gifs[n].endShowTime]),t}},{key:"isShowGif",value:function(e){if(void 0===se.cuts[se.currentCutIndex]||e.cutId!==se.cuts[se.currentCutIndex].id)return!1;var t=Q.getActivePlayerPosition();return t>=e.startShowTime&&t<=e.endShowTime}},{key:"checkShowGifs",value:function(e){if(se)for(var t=0;t<se.gifs.length;t+=1){var n=se.gifs[t];void 0!==se.cuts[se.currentCutIndex]?n.cutId===se.cuts[se.currentCutIndex].id&&n.cutId===se.cuts[se.currentCutIndex].id&&e>=n.startShowTime&&e<n.endShowTime?(se.gifs[t].isShow||console.log("Show gif on position: "+e),se.gifs[t].isShow=!0):(se.gifs[t].isShow&&console.log("Hide gif on position: "+e),se.gifs[t].isShow=!1):se.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){se.gifs=se.gifs.filter((function(t){return t.id!==e}))}}]),e}());Object(U.i)({enforceActions:"never"}),function(e){e.Create="create",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show"}(x||(x={}));var ee=Y()(window.location.href,!0),te=null,ne=null;if(ee.query.story){localStorage.removeItem("eyeMoStore"),window.history.pushState(null,"","/");var re=decodeURIComponent(ee.query.story);te=re.split(",").map((function(e){var t=e.split("::");return{id:t[0],index:parseFloat(t[1]),url:t[2],cut:{startTime:parseFloat(t[3]),endTime:parseFloat(t[4])}}}))}if(ee.query.video){var ae=decodeURIComponent(ee.query.video);ne=ae.split(",").map((function(e){var t=e.split("::");return{id:t[0],index:parseFloat(t[1]),url:t[2]}}))}var ie=ne&&ne.length>0,ce=new(r=function(){function e(){var t=this;Object(k.a)(this,e),Object(D.a)(this,"sources",a,this),Object(D.a)(this,"mode",i,this),Object(D.a)(this,"cuts",c,this),Object(D.a)(this,"gifs",o,this),Object(D.a)(this,"players",s,this),Object(D.a)(this,"playing",u,this),Object(D.a)(this,"activePlayerIndex",l,this),Object(D.a)(this,"currentCutIndex",d,this),Object(D.a)(this,"activeCutIndex",p,this),Object(D.a)(this,"currentSourceIndex",h,this),Object(D.a)(this,"selectedGifId",b,this),Object(D.a)(this,"isEnableCanvas",f,this),Object(D.a)(this,"canvasSize",j,this),Object(D.a)(this,"isLoading",v,this),Object(D.a)(this,"isShowTransition",m,this),Object(U.o)(this),Object(U.g)((function(){return console.log("--\x3e In ".concat(t.mode.toUpperCase()," mode"))})),Object(U.g)((function(){t.isEnableCanvas||(t.selectedGifId=null)})),Object(U.g)((function(){-1===t.currentCutIndex&&$.checkShowGifs(0)}))}return Object(S.a)(e,[{key:"addCut",value:function(e){this.cuts.push({id:Object(J.a)(),index:this.cuts.length,url:this.sources[this.currentSourceIndex].url,cut:{startTime:Math.round(1e3*e.startTime)/1e3,endTime:Math.round(1e3*e.endTime)/1e3}})}},{key:"addSource",value:function(e){this.sources=[].concat(Object(V.a)(this.sources),[{id:Object(J.a)(),index:this.sources.length,url:e}]),Q.changeModeToCreate(this.sources.length-1)}},{key:"addGif",value:function(e,t){var n=this.cuts[t];this.gifs=[].concat(Object(V.a)(this.gifs),[{id:Object(J.a)(),index:this.gifs.length,src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:n.cut.startTime,endShowTime:n.cut.endTime,cutId:n.id,isShow:!0}])}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,r=t.width,a=t.canvasWidth,i=t.canvasHeight,c=t.x,o=t.y,s=this.canvasSize.width/a,u=this.canvasSize.height/i;this.gifs[e]=Object(W.a)(Object(W.a)({},this.gifs[e]),{},{height:n*u,width:r*s,x:c*s,y:o*u,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"removeCut",value:function(e){(!this.players[this.activePlayerIndex].playing||e!==this.currentCutIndex&&e!==this.nextCutIndex)&&(e!==this.currentCutIndex?this.cuts=this.cuts.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})):Q.changeModeToCreate(0))}},{key:"removeSource",value:function(e){this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e}))}},{key:"clearStore",value:function(){var e=this;this.sources=[],this.mode=x.Create,this.cuts=[],this.gifs=[],this.players=[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}})),this.activePlayerIndex=0,this.currentCutIndex=-1,this.activeCutIndex=null,this.currentSourceIndex=-1,this.selectedGifId=null}},{key:"shareUrl",get:function(){if(0===this.sources.length)return null;var e=window.location.href.split("?")[0];return"".concat(e,"?video=").concat(encodeURIComponent(this.sources.map((function(e){return[e.id,e.index,e.url].join("::")})).join(",")),"&story=").concat(encodeURIComponent(this.cuts.map((function(e,t){var n,r;return[e.id,e.index,e.url,null===(n=e.cut)||void 0===n?void 0:n.startTime,null===(r=e.cut)||void 0===r?void 0:r.endTime].join("::")})).join(",")))}},{key:"trailerLength",get:function(){return this.cuts.reduce((function(e,t,n){return t.cut?e+t.cut.endTime-t.cut.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.currentCutIndex===this.cuts.length-1?0:this.currentCutIndex+1}}]),e}(),a=Object(F.a)(r.prototype,"sources",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne||[]}}),i=Object(F.a)(r.prototype,"mode",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ie?x.Show:x.Create}}),c=Object(F.a)(r.prototype,"cuts",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return te||[]}}),o=Object(F.a)(r.prototype,"gifs",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=Object(F.a)(r.prototype,"players",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}}))}}),u=Object(F.a)(r.prototype,"playing",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(e){return!1}))}}),l=Object(F.a)(r.prototype,"activePlayerIndex",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=Object(F.a)(r.prototype,"currentCutIndex",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.cuts.length>0?0:-1}}),p=Object(F.a)(r.prototype,"activeCutIndex",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=Object(F.a)(r.prototype,"currentSourceIndex",[U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),b=Object(F.a)(r.prototype,"selectedGifId",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=Object(F.a)(r.prototype,"isEnableCanvas",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Object(F.a)(r.prototype,"canvasSize",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),v=Object(F.a)(r.prototype,"isLoading",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(F.a)(r.prototype,"isShowTransition",[Z.b,U.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(F.a)(r.prototype,"shareUrl",[U.h],Object.getOwnPropertyDescriptor(r.prototype,"shareUrl"),r.prototype),Object(F.a)(r.prototype,"trailerLength",[U.h],Object.getOwnPropertyDescriptor(r.prototype,"trailerLength"),r.prototype),Object(F.a)(r.prototype,"nextPlayerIndex",[U.h],Object.getOwnPropertyDescriptor(r.prototype,"nextPlayerIndex"),r.prototype),Object(F.a)(r.prototype,"nextCutIndex",[U.h],Object.getOwnPropertyDescriptor(r.prototype,"nextCutIndex"),r.prototype),Object(F.a)(r.prototype,"addCut",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"addCut"),r.prototype),Object(F.a)(r.prototype,"addSource",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"addSource"),r.prototype),Object(F.a)(r.prototype,"addGif",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"addGif"),r.prototype),Object(F.a)(r.prototype,"scaleGifs",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"scaleGifs"),r.prototype),Object(F.a)(r.prototype,"removeCut",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"removeCut"),r.prototype),Object(F.a)(r.prototype,"removeSource",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"removeSource"),r.prototype),Object(F.a)(r.prototype,"clearStore",[U.f],Object.getOwnPropertyDescriptor(r.prototype,"clearStore"),r.prototype),r);window.store=ce;var oe=new Z.a(ce,{storageKey:"eyeMoStore",storage:localStorage}),se=ce;function ue(e){return e<10?"0".concat(e):e}function le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"00:00:00.0";var n=Math.floor(e/60/60),r=Math.floor(e/60%60),a=Math.floor(e%60),i=Math.floor(10*(e-Math.floor(e))),c="".concat(ue(n),":").concat(ue(r),":").concat(ue(a));return t&&(c="".concat(c,".").concat(i)),c}var de=n(52),pe=n.n(de),he=n(328),be=n(322),fe=n(327),je=n(149),ve=n.n(je),me=n(150),xe=n.n(me),ye=n(109),ge=n.n(ye);function Oe(e){var t=e.onClick,n=e.position;return Object(y.jsx)(he.a,{position:n,children:Object(y.jsx)(be.a,{edge:n,onClick:t,className:ge.a.changeButton,children:"start"===n?Object(y.jsx)(ve.a,{style:{fontSize:12}}):Object(y.jsx)(xe.a,{style:{fontSize:12}})})})}function _e(e){var t=Object(g.useRef)(null);function n(e){e.preventDefault(),e.deltaY>0?a():r()}function r(){if(e.value){var t=e.value-.1;t<0&&(t=0),e.onChange(t)}}function a(){e.onChange(e.value+.1)}Object(g.useEffect)((function(){var e=t.current;return null===e||void 0===e||e.addEventListener("wheel",n),function(){null===e||void 0===e||e.removeEventListener("wheel",n)}}),[e.value]);var i=Object(W.a)(Object(W.a)({},e),{},{value:le(e.value,!0)});return Object(y.jsx)(fe.a,Object(W.a)(Object(W.a)({},i),{},{className:ge.a.timeInput,size:"small",helperText:null,variant:"outlined",onChange:function(e){},ref:t,InputProps:{startAdornment:Object(y.jsx)(Oe,{position:"start",onClick:r}),endAdornment:Object(y.jsx)(Oe,{position:"end",onClick:a}),readOnly:!0}}))}var we=n(64),Ie=n(152),Ce=n.n(Ie),Te=(n(220),Object(T.a)((function(e){var t=e.gif,n=e.isSelected,r=e.isShow,a=e.onChange,i=e.onSelect,c=O.a.useRef(null),o=O.a.useRef(),s=O.a.useMemo((function(){return document.createElement("canvas")}),[]);O.a.useEffect((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(s),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),c.current&&c.current.getLayer().draw()}})),function(){return e.stop()}}),[t.src,s]),O.a.useEffect((function(){n&&o.current&&(o.current.nodes([c.current]),o.current.getLayer().batchDraw())}),[n]);return Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)(we.a,{ref:c,image:s,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:i,onTap:i,onDragEnd:function(e){a(Object(W.a)(Object(W.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=c.current,r=n.scaleX(),i=n.scaleY();n.scaleX(1),n.scaleY(1),a(Object(W.a)(Object(W.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*i)}))}}),r&&n&&Object(y.jsx)(we.d,{ref:o,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})}))),Pe=Object(T.a)((function(){var e=function(e){e.target===e.target.getStage()&&(se.selectedGifId=null)},t=function(e){se.selectedGifId=e},n=function(e,t){return se.gifs[e]=t};return Object(y.jsx)("div",{children:Object(y.jsx)(we.c,{className:Ce.a.container,width:se.canvasSize.width,height:se.canvasSize.height,style:se.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:e,onTouchStart:e,children:Object(y.jsx)(we.b,{children:se.gifs.map((function(e,r){return Object(y.jsx)(Te,{gif:e,isSelected:e.id===se.selectedGifId,isShow:e.isShow,onSelect:t.bind(null,e.id),onChange:n.bind(null,e.index)},e.id)}))})})})})),ke=n(91),Se=n.n(ke),Ne=n(110),Be=n.n(Ne);var Ge,Ee=Object(T.a)((function(e){var t=e.updatePosition,n=function(e,t){console.log("Player ".concat(e," onReady")),Q.setPlayer(e,{player:t})},r=function(){var e=Object(K.a)(q.a.mark((function e(n,r){var a,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.checkShowGifs(r.playedSeconds),n===se.activePlayerIndex&&!se.players[n].preloading&&se.players[n].playing){e.next=4;break}return console.log("Player ".concat(n," onProgress stopped")),e.abrupt("return");case 4:if(se.isLoading&&(se.isLoading=!1),t(Q.getTimePosition()),void 0!==(a=se.players[n].cutIndex)&&-1!==se.currentCutIndex){e.next=10;break}return console.log("Player ".concat(n," onProgress No cut index in player")),e.abrupt("return");case 10:i=se.cuts[a].cut,console.log("Player ".concat(n," onProgress in ").concat(r.playedSeconds," sec (s: ").concat(null===i||void 0===i?void 0:i.startTime," e: ").concat(null===i||void 0===i?void 0:i.endTime)),e.t0=se.mode,e.next=e.t0===x.Create?15:e.t0===x.PlayOne?16:e.t0===x.PlayAll?21:e.t0===x.Show?26:31;break;case 15:return e.abrupt("break",31);case 16:if(!d(i,r.playedSeconds)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,Q.stop(n);case 20:return e.abrupt("break",31);case 21:if(!d(i,r.playedSeconds)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,Q.goToNextCut(n);case 25:return e.abrupt("break",31);case 26:if(!d(i,r.playedSeconds)){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,Q.goToNextCut(n);case 30:return e.abrupt("break",31);case 31:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=function(e){console.log("Player ".concat(e," onBuffer"))},i=function(e){console.log("Player ".concat(e," onBufferEnd"))},c=function(e){console.log("Player ".concat(e," onStart"))},o=function(e){console.log("Player ".concat(e," onPlay")),se.playing[e]||(se.playing[e]=!0),se.players[e].playing=!0},s=function(e){console.log("Player ".concat(e," onPause")),se.playing[e]&&(se.playing[e]=!1),se.players[e].playing=!1},u=function(e){console.log("Player ".concat(e," onEnded"))},l=function(e,t){console.log("Player ".concat(e," onSeek"))},d=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(y.jsx)("div",{children:se.sources.length>0?se.players.map((function(e,t,d){var p=d.length-1-t;return Object(y.jsx)("div",{style:{visibility:se.players[p].isVisible?"visible":"hidden"},children:Object(y.jsx)(Se.a,{playing:se.playing[p],className:Be.a.player,url:se.players[p].url,muted:se.players[p].muted,width:"100%",height:"100%",onPlay:o.bind(null,p),onProgress:r.bind(null,p),onStart:c.bind(null,p),onPause:s.bind(null,p),onEnded:u.bind(null,p),onReady:n.bind(null,p),onSeek:l.bind(null,p),onBufferEnd:i.bind(null,p),onBuffer:a.bind(null,p),progressInterval:100,controls:!0,config:{youtube:{playerVars:{}}}})},se.players[p].id)})):Object(y.jsx)("div",{className:Be.a.playerPlaceholder})})})),ze=n(29),Le=n(329),Ae=n(323),Me=n(156),Re=n.n(Me),De=n(154),We=n.n(De),Ve=n(155),Fe=n.n(Ve),Ue=n(153),Je=n.n(Ue),Xe=Object(T.a)((function(e){var t=Object(g.useState)([0,0]),n=Object(ze.a)(t,2),r=n[0],a=n[1];Object(g.useEffect)((function(){null!==se.selectedGifId&&a($.getGifTime(se.selectedGifId))}),[se.selectedGifId]);var i=function(){var e=Object(K.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.playOne(se.currentCutIndex);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:se.selectedGifId&&Object(y.jsxs)("div",{className:Je.a.container,children:[Object(y.jsx)(Le.a,{value:r,onChange:function(e,t){a(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",max:$.getCutTime(se.selectedGifId).endTime,min:$.getCutTime(se.selectedGifId).startTime,step:.01}),Object(y.jsxs)(Ae.a,{size:"small","aria-label":"small outlined button group",children:[Object(y.jsx)(be.a,{"aria-label":"play",color:"primary",onClick:i,children:Object(y.jsx)(We.a,{})}),Object(y.jsx)(be.a,{"aria-label":"thumbUp",color:"primary",onClick:function(){null!==se.selectedGifId&&$.setGifTime(se.selectedGifId,r)},children:Object(y.jsx)(Fe.a,{})}),Object(y.jsx)(be.a,{"aria-label":"delete",color:"primary",onClick:function(){null!==se.selectedGifId&&($.deleteGif(se.selectedGifId),se.selectedGifId=null)},children:Object(y.jsx)(Re.a,{})})]})]})})})),Ye=function(e){Object(N.a)(n,e);var t=Object(B.a)(n);function n(e){var r;return Object(k.a)(this,n),(r=t.call(this,e)).state=void 0,r.canvasRef=void 0,r.changeStart=function(e){r.setState({cut:{startTime:e,endTime:Math.max(r.state.cut.endTime,e+1)}})},r.changeEnd=function(e){r.setState({cut:{startTime:Math.min(r.state.cut.startTime,e-1),endTime:e}})},r.play=function(){var e=r.state.cut;e&&(se.players[se.activePlayerIndex].playing=!1,Q.control[se.activePlayerIndex].player.seekTo(e.startTime),setTimeout((function(){Q.start(se.activePlayerIndex);var e=setInterval((function(){var t=r.state.cut;if(t){var n=Q.control[se.activePlayerIndex].player,a=n?n.getCurrentTime():0;a>=(null===t||void 0===t?void 0:t.startTime)&&a<=(null===t||void 0===t?void 0:t.endTime)||(clearInterval(e),Q.stop(se.activePlayerIndex))}}),100)}),1e3))},r.clear=function(){r.setState({cut:null})},r.onAddCut=function(){var e=r.state.cut;e&&(se.addCut(e),r.setState({startTime:0,endTime:0}))},r.updatePosition=function(e){r.setState({position:e})},r.onStartFrame=function(){var e=r.state,t=e.position,n=e.cut,a={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};a.startTime=t,a.endTime<t&&(a.endTime=t+5),r.setState({cut:a})},r.onEndFrame=function(){var e=r.state,t=e.position,n=e.cut,a={startTime:(null===n||void 0===n?void 0:n.startTime)||0,endTime:(null===n||void 0===n?void 0:n.endTime)||0};a.endTime=t,a.startTime>t&&(a.startTime=t-5),r.setState({cut:a})},r.onResizePlayerWrapper=function(e){var t=e.width,n=e.height;se.canvasSize={width:t,height:n},se.scaleGifs()},r.state={cut:null,playing:!1,position:0,record:!1},r.canvasRef=O.a.createRef(),r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.canvasRef.current&&(se.canvasSize={width:this.canvasRef.current.offsetWidth,height:this.canvasRef.current.offsetHeight})}},{key:"render",value:function(){var e=this,t=this.state,n=t.position,r=t.cut,a=t.record;return Object(y.jsxs)("div",{className:pe.a.container,children:[Object(y.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",se.activePlayerIndex,"/",se.players.length-1," Cut: ",se.currentCutIndex,"/",se.cuts.length-1," Source: ",se.currentSourceIndex,"/",se.sources.length-1]}),Object(y.jsxs)(G.a,{ref:this.canvasRef,className:A()("padded",pe.a.playerWrapper),children:[Object(y.jsx)(Ee,{updatePosition:this.updatePosition}),Object(y.jsx)(Pe,{}),Object(y.jsx)(R.a,{onResize:this.onResizePlayerWrapper}),Object(y.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:se.isShowTransition?"visible":"hidden"}})]}),se.mode!==x.Show&&se.sources.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(G.a,{justify:"center",container:!0,children:le(n,!0)}),Object(y.jsx)(Xe,{}),Object(y.jsx)(G.a,{container:!0,children:Object(y.jsx)("button",{className:A()(pe.a.recButton,Object(P.a)({},pe.a.active,a)),onMouseDown:function(){console.log("down"),e.setState({record:!0}),e.onStartFrame()},onMouseUp:function(){console.log("up"),e.setState({record:!1}),e.onEndFrame()},children:a?"stop rec":"start rec"})}),r&&Object(y.jsxs)(G.a,{container:!0,justify:"center",className:pe.a.timeRow,alignContent:"flex-end",children:[Object(y.jsx)(G.a,{item:!0,lg:!0,children:Object(y.jsx)(_e,{value:r.startTime,label:"Start time",onChange:this.changeStart})}),Object(y.jsx)(G.a,{item:!0,lg:!0,children:Object(y.jsx)(_e,{value:null===r||void 0===r?void 0:r.endTime,label:"End time",onChange:this.changeEnd})}),Object(y.jsxs)(G.a,{item:!0,className:pe.a.buttons,xs:!0,justify:"flex-end",alignContent:"center",container:!0,wrap:"nowrap",children:[Object(y.jsx)(E.a,{variant:"outlined",disableElevation:!0,onClick:this.play,children:"Play"}),Object(y.jsx)(E.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:this.onAddCut,children:"Add"}),Object(y.jsx)(E.a,{variant:"contained",disableElevation:!0,onClick:this.clear,children:"Clear"})]})]})]}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(G.a,{className:pe.a.previewButtons,container:!0,children:[Object(y.jsxs)(E.a,{variant:"contained",size:"large",color:"primary",disableElevation:!0,disabled:se.isLoading,onClick:function(){return Q.changeModeToShow()},children:["Play trailer",se.isLoading&&Object(y.jsx)(z.a,{size:20})]}),Object(y.jsx)(E.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return Q.changeModeToCreate(0)},children:"Make your own trailer"})]})})]})}}]),n}(O.a.Component),He=Object(T.a)(Ye),qe=n(97),Ke=n.n(qe),Qe=n(111),Ze=n.n(Qe),$e=function(e){var t=e.title,n=e.children;return Object(y.jsxs)("div",{className:Ze.a.container,children:[Object(y.jsx)("h2",{className:Ze.a.title,children:t}),n]})},et=function(){return Object(y.jsx)($e,{title:"Add Music",children:Object(y.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u0430\u0443\u0434\u0438\u043e-\u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c"})})},tt=n(157),nt=n(72),rt=n(112),at=n.n(rt),it=n(77),ct=n.n(it),ot=n.p+"static/media/closeIcon.0b48234f.svg",st=function(e){var t=e.value,n=e.placeholder,r=e.onChange;return Object(y.jsxs)("div",{className:ct.a.container,children:[Object(y.jsx)("input",{onChange:function(e){return r(e.target.value)},value:t,placeholder:n,className:ct.a.input}),t&&Object(y.jsx)("div",{className:ct.a.buttonsBlock,children:Object(y.jsx)("button",{type:"button",className:ct.a.clearButton,onClick:function(){return r("")},children:Object(y.jsx)("img",{src:ot,alt:"Close icon"})})})]})},ut=new nt.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");function lt(e){var t=e.width,n=e.searchText,r=e.fetchType;return Object(y.jsx)(tt.Grid,{fetchGifs:function(e){return r===Ge.Search?ut.search(n,{offset:e,limit:10}):(Ge.Trending,ut.trending({offset:e,limit:10}))},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),null!==se.activeCutIndex?se.addGif(e,se.activeCutIndex):alert("\u0422\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b \u043a\u0443\u0441\u043e\u0447\u0435\u043a!")}})}!function(e){e.Trending="trending",e.Search="search"}(Ge||(Ge={}));var dt=Object(T.a)((function(){var e=O.a.createRef(),t=Object(g.useState)(null),n=Object(ze.a)(t,2),r=n[0],a=n[1],i=Object(g.useState)(""),c=Object(ze.a)(i,2),o=c[0],s=c[1],u=Object(g.useState)(!0),l=Object(ze.a)(u,2),d=l[0],p=l[1];return Object(g.useEffect)((function(){e&&a(e.current.offsetWidth)}),[e]),Object(g.useEffect)((function(){var e=setTimeout((function(){p(!0)}),1e3);return function(){return clearTimeout(e)}}),[o]),Object(y.jsx)($e,{title:"Add Gif",children:Object(y.jsxs)("div",{ref:e,className:at.a.root,children:[Object(y.jsx)(st,{placeholder:"Search with GIPHY",value:o,onChange:function(e){p(!1),s(e)}}),r&&Object(y.jsxs)("div",{className:at.a.gifsPanel,children:[d&&""===o&&Object(y.jsx)(lt,{width:r,searchText:o,fetchType:Ge.Trending}),d&&""!==o&&Object(y.jsx)(lt,{width:r,searchText:o,fetchType:Ge.Search}),Object(y.jsx)(R.a,{onResize:function(e){e.width}})]})]})})})),pt=n(78),ht=n.n(pt),bt=function(e){var t=e.value,n=e.isActive,r=e.icon,a=e.onClick;return Object(y.jsx)("div",{onClick:function(){return a(t)},className:A()(ht.a.tabItem,Object(P.a)({},ht.a.active,n)),children:Object(y.jsx)("img",{src:r,className:A()(ht.a.icon,Object(P.a)({},ht.a.activeIcon,n)),alt:"Source icon"})})},ft=n(158),jt=n.n(ft),vt=function(e){var t=e.tabs,n=e.activeTab,r=e.handleClick;return Object(y.jsx)("div",{className:jt.a.container,children:t.map((function(e){var t=e.icon,a=e.id;return Object(y.jsx)(bt,{icon:t,isActive:a===n,value:a,onClick:r},a)}))})},mt=n(98),xt=n.n(mt),yt="blue",gt="red",Ot=n(53),_t=n.n(Ot),wt=n.p+"static/media/close.f88f3a6a.svg",It=function(e){var t,n=e.text,r=e.type,a=e.active,i=e.disabled,c=e.colorTheme,o=e.withBorder,s=e.deleteButton,u=e.onClick,l=e.onDelete;return Object(y.jsxs)("button",{className:A()(_t.a.button,(t={},Object(P.a)(t,_t.a.active,a),Object(P.a)(t,_t.a.disabled,i),Object(P.a)(t,_t.a.withBorder,o),Object(P.a)(t,_t.a.redTheme,c===gt),Object(P.a)(t,_t.a.blueTheme,c===yt),t)),disabled:i,type:r||"submit",onClick:u,children:[n,s&&Object(y.jsx)("div",{className:_t.a.delete,onClick:l,children:Object(y.jsx)("img",{src:wt,alt:"close icon"})})]})},Ct=n(159),Tt=n.n(Ct),Pt=n(66),kt=n.n(Pt),St=n(41),Nt=n.n(St),Bt=n.p+"static/media/close.b731002b.svg",Gt=n.p+"static/media/playIcon.737e8ec2.svg",Et=Object(T.a)((function(e){var t=e.cut,n=e.idx,r=e.isActive,a=e.isChosenSource,i=e.onClick,c=Object(g.useRef)(null),o=Object(g.useRef)(null),s=Object(g.useState)(!1),u=Object(ze.a)(s,2),l=u[0],d=u[1],p=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},h=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(g.useEffect)((function(){var e=c.current;return e&&(e.addEventListener("mouseover",(function(){d(!0),p()})),e.addEventListener("mouseout",(function(){d(!1),h()}))),function(){e&&(e.removeEventListener("mouseover",(function(){p()})),e.removeEventListener("mouseout",(function(){h()})))}}),[c]),Object(y.jsxs)("div",{className:A()(Nt.a.wrapper,Object(P.a)({},Nt.a.isChosenSource,a)),children:[Object(y.jsxs)("div",{className:Nt.a.buttons,children:[Object(y.jsxs)("div",{className:Nt.a.checkboxWrapper,children:[Object(y.jsx)("input",{id:n.toString(),type:"checkbox",checked:r,className:Nt.a.checkbox,onChange:function(){return i(n)}}),Object(y.jsx)("label",{htmlFor:n.toString()})]}),Object(y.jsx)("button",{onClick:function(){return se.removeCut(n)},children:Object(y.jsx)("img",{src:Bt,alt:"Close icon"})})]}),Object(y.jsxs)("div",{className:Nt.a.playerWrapper,ref:c,children:[Object(y.jsx)(Se.a,{ref:o,width:"100%",height:"100%",url:se.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,o.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(y.jsx)("button",{onClick:function(){return Q.playOne(n)},className:A()(Nt.a.playButton,Object(P.a)({},Nt.a.isVisible,l)),children:Object(y.jsx)("img",{src:Gt,alt:"Play icon"})})]})]})})),zt=n(67),Lt=n.n(zt),At=n(42),Mt=n.n(At),Rt=n.p+"static/media/arrow.8371470d.svg",Dt="left",Wt="right",Vt=function(e){var t,n=e.position,r=e.value,a=e.onChange,i=Object(g.useRef)(null),c=function(e){e.preventDefault(),e.deltaY>0?s():o()},o=function(){if(r){var e=r-.1;e<0&&(e=0),a(e)}},s=function(){a(r+.1)};Object(g.useEffect)((function(){var e=i.current;return null===e||void 0===e||e.addEventListener("wheel",c),function(){return null===e||void 0===e?void 0:e.removeEventListener("wheel",c)}}),[r]);var u={value:le(r,!0)};return Object(y.jsxs)("div",{className:Mt.a.container,children:[Object(y.jsx)(fe.a,Object(W.a)(Object(W.a)({},u),{},{className:Mt.a.timeInput,size:"small",helperText:null,variant:"outlined",onChange:function(e){},ref:i,InputProps:{readOnly:!0}})),Object(y.jsx)("div",{className:A()(Mt.a.buttons,(t={},Object(P.a)(t,Mt.a.leftPosition,n===Dt),Object(P.a)(t,Mt.a.rightPosition,n===Wt),t)),children:Object(y.jsxs)("div",{className:Mt.a.buttonsWrapper,children:[Object(y.jsx)("button",{onClick:s,className:Mt.a.addButton,children:Object(y.jsx)("img",{src:Rt,alt:"Arrow icon"})}),Object(y.jsx)("button",{onClick:o,className:Mt.a.removeButton,children:Object(y.jsx)("img",{src:Rt,alt:"Arrow icon"})})]})})]})},Ft=Object(T.a)((function(e){var t,n=e.idx,r=null===(t=se.cuts[n])||void 0===t?void 0:t.cut;return Object(y.jsx)("div",{className:Lt.a.container,children:r&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:Lt.a.timerBlock,children:[Object(y.jsx)(Vt,{value:r.startTime,onChange:function(e){return function(e){r.startTime=e,r.endTime<r.startTime+1&&(r.endTime=r.startTime+1),se.cuts[n].cut={startTime:r.startTime,endTime:r.endTime}}(e)},position:Dt}),Object(y.jsx)("p",{className:Lt.a.separator,children:"-"}),Object(y.jsx)(Vt,{value:r.endTime,onChange:function(e){return function(e){r.endTime=e,r.startTime>r.endTime-1&&(r.startTime=r.endTime-1),se.cuts[n].cut={startTime:r.startTime,endTime:r.endTime}}(e)},position:Wt})]}),Object(y.jsx)("div",{className:Lt.a.rightBlock,children:Object(y.jsxs)("div",{className:Lt.a.timeTotal,children:["\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u0443\u0441\u043e\u0447\u043a\u0430: ",le(r.endTime-r.startTime)]})})]})})}));var Ut,Jt=Object(T.a)((function(){var e=Object(g.useState)(!1),t=Object(ze.a)(e,2),n=t[0],r=t[1],a=Object(g.useState)(""),i=Object(ze.a)(a,2),c=i[0],o=i[1],s=function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se.activeCutIndex!==t){e.next=3;break}return se.activeCutIndex=null,e.abrupt("return");case 3:return se.activeCutIndex=t,se.currentCutIndex=t,e.next=7,Q.preloadCut(se.activePlayerIndex,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function u(){return(u=Object(K.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.playAll();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(g.useEffect)((function(){var e=se.sources[se.currentSourceIndex];void 0!==e&&o(e.url)}),[se.currentSourceIndex]),Object(y.jsx)("div",{className:kt.a.cutsPanel,children:se.sources.length>0?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:kt.a.cutsList,children:se.cuts.map((function(e,t){return Object(y.jsx)(Et,{idx:t,cut:e.cut,isActive:t===se.activeCutIndex,onClick:s,isChosenSource:e.url===c},e.id)}))}),null!==se.activeCutIndex&&Object(y.jsx)(Ft,{idx:se.activeCutIndex}),Object(y.jsxs)(G.a,{container:!0,className:kt.a.infoLine,item:!0,children:[Object(y.jsxs)(G.a,{item:!0,lg:!0,children:["Trailer duration: ",le(se.trailerLength)]}),Object(y.jsxs)(G.a,{item:!0,lg:!0,children:["Number of frames: ",se.cuts.length]})]}),Object(y.jsxs)(G.a,{className:kt.a.bottomBtn,children:[Object(y.jsxs)(E.a,{variant:"contained",disableElevation:!0,onClick:function(){return u.apply(this,arguments)},fullWidth:!0,color:"primary",disabled:se.isLoading,style:{margin:5},children:["Play all",se.isLoading&&Object(y.jsx)(z.a,{size:20})]}),Object(y.jsx)(Tt.a,{text:se.shareUrl||"",onCopy:function(){r(!0),setTimeout((function(){return r(!1)}),3e3),gtag("event","url-copy",{url:se.shareUrl})},children:Object(y.jsx)(E.a,{variant:"contained",disableElevation:!0,fullWidth:!0,style:{margin:5},children:n?"Copied":"Copy link"})}),Object(y.jsx)(E.a,{onClick:function(){return se.clearStore()},variant:"contained",disableElevation:!0,fullWidth:!0,style:{margin:5},children:"Clear store"})]})]}):Object(y.jsx)(G.a,{container:!0,className:kt.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})),Xt=Object(T.a)((function(){var e=Object(g.useState)(""),t=Object(ze.a)(e,2),n=t[0],r=t[1],a=function(){se.addSource(n),r("")},i=function(){var e=Object(K.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)($e,{title:"All frames",children:[se.mode!==x.Show&&Object(y.jsxs)(G.a,{container:!0,direction:"column",children:[Object(y.jsx)(G.a,{className:xt.a.searchLine,item:!0,children:Object(y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a()},className:xt.a.form,children:[Object(y.jsx)("div",{className:xt.a.inputWrapper,children:Object(y.jsx)(st,{value:n,onChange:function(e){return r(e)},placeholder:"Paste the video link here"})}),Object(y.jsx)(It,{type:"button",text:"Add source",disabled:""===n,onClick:a,colorTheme:yt})]})}),Object(y.jsx)(G.a,{item:!0,container:!0,spacing:2,children:se.sources.map((function(e){return Object(y.jsx)(G.a,{item:!0,children:Object(y.jsx)(It,{text:"Source ".concat(e.index+1),onClick:function(){return i(e.index)},onDelete:function(t){return function(e,t){return e.stopPropagation(),se.removeSource(t),t>0?i(t-1):0===t&&se.sources.length?i(0):void 0}(t,e.index)},deleteButton:!0,colorTheme:yt,active:e.index===se.currentSourceIndex})},e.id)}))})]}),Object(y.jsx)(Jt,{})]})})),Yt=function(){return Object(y.jsx)($e,{title:"Add Text",children:Object(y.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c"})})},Ht=n.p+"static/media/frames.7fe1096a.svg",qt=n.p+"static/media/audio.18d70808.svg",Kt=n.p+"static/media/gif.cd91ed47.svg",Qt=n.p+"static/media/text.0504dd60.svg",Zt=n.p+"static/media/images.c3d542ed.svg",$t=n.p+"static/media/sticker.689907e4.svg",en=n.p+"static/media/transitions.876ac694.svg",tn="frames",nn="transition",rn="text",an="gifs",cn="image",on="sticker",sn="audio",un=[{id:tn,icon:Ht},{id:nn,icon:en},{id:rn,icon:Qt},{id:an,icon:Kt},{id:cn,icon:Zt},{id:on,icon:$t},{id:sn,icon:qt}],ln=n(113),dn=n.n(ln),pn=function(){return Object(y.jsx)($e,{title:"Add Transitions",children:Object(y.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438"})})},hn=function(){return Object(y.jsx)($e,{title:"Add Images",children:Object(y.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430\u043c\u0438"})})},bn=function(){return Object(y.jsx)($e,{title:"Add Stickers",children:Object(y.jsx)("div",{children:"\u0411\u043b\u043e\u043a \u0441\u043e \u0441\u0442\u0438\u043a\u0435\u0440\u0430\u043c\u0438"})})},fn=(Ut={},Object(P.a)(Ut,tn,Object(y.jsx)(Xt,{})),Object(P.a)(Ut,an,Object(y.jsx)(dt,{})),Object(P.a)(Ut,rn,Object(y.jsx)(Yt,{})),Object(P.a)(Ut,sn,Object(y.jsx)(et,{})),Object(P.a)(Ut,nn,Object(y.jsx)(pn,{})),Object(P.a)(Ut,cn,Object(y.jsx)(hn,{})),Object(P.a)(Ut,on,Object(y.jsx)(bn,{})),Ut),jn=function(){var e=Object(g.useState)(tn),t=Object(ze.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)("div",{className:dn.a.container,children:[Object(y.jsx)(vt,{tabs:un,handleClick:function(e){r(e),se.isEnableCanvas=e!==tn},activeTab:n}),Object(y.jsx)("div",{className:dn.a.content,children:fn[n]})]})};var vn=Object(T.a)((function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(C.a,{dateAdapter:I.a,children:Object(y.jsx)("div",{className:Ke.a.container,children:Object(y.jsxs)("div",{className:Ke.a.wrapper,children:[se.mode!==x.Show&&Object(y.jsx)(jn,{}),Object(y.jsx)("div",{className:Ke.a.playerPanel,children:Object(y.jsx)(He,{})})]})})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));oe.init().then((function(){w.a.render(Object(y.jsx)(O.a.StrictMode,{children:Object(y.jsx)(vn,{})}),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},41:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__5cXzz",playerWrapper:"CutItem_playerWrapper__2L7gi",video:"CutItem_video__dXSLs",buttons:"CutItem_buttons__3RjEe",checkbox:"CutItem_checkbox__b5vN1",playButton:"CutItem_playButton__3vTkv",isVisible:"CutItem_isVisible__nFhaf",isChosenSource:"CutItem_isChosenSource__2IT89",checkboxWrapper:"CutItem_checkboxWrapper__1DS0U"}},42:function(e,t,n){e.exports={container:"customTimeInput_container__2GIEl",timeInput:"customTimeInput_timeInput__1SCjy",buttons:"customTimeInput_buttons__31Ika",buttonsWrapper:"customTimeInput_buttonsWrapper__2Iy5j",removeButton:"customTimeInput_removeButton__AC7w7",leftPosition:"customTimeInput_leftPosition__2app5",rightPosition:"customTimeInput_rightPosition__3hhMG"}},52:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",playerWrapper:"PlayerPanel_playerWrapper__16uXZ",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",recButton:"PlayerPanel_recButton__3TYfL",recButtonAnimation:"PlayerPanel_recButtonAnimation__2UQQt",active:"PlayerPanel_active__2NmJa"}},53:function(e,t,n){e.exports={button:"button_button__rhxVg",withBorder:"button_withBorder__37cWq",disabled:"button_disabled__yLx7B",blueTheme:"button_blueTheme__XD1wz",active:"button_active__1B6fc",delete:"button_delete__2eXQr"}},66:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2UoMA",cutsPanelBlank:"CutsPanel_cutsPanelBlank__bj4au",timeInput:"CutsPanel_timeInput__cesid",input:"CutsPanel_input__2WjGi",stepBtn:"CutsPanel_stepBtn__30nMj",infoLine:"CutsPanel_infoLine__1Tkkh",loadIcon:"CutsPanel_loadIcon__1Iegz",bottomBtn:"CutsPanel_bottomBtn__-K_Jc",cutsList:"CutsPanel_cutsList__atkIJ"}},67:function(e,t,n){e.exports={container:"cutPlayer_container__-EGWc",timerBlock:"cutPlayer_timerBlock__221Xt",separator:"cutPlayer_separator__3aYik"}},77:function(e,t,n){e.exports={container:"input_container__23uXm",input:"input_input__2NaO-",buttonsBlock:"input_buttonsBlock__20Mow",clearButton:"input_clearButton__3f2P7",copyButton:"input_copyButton__30Jkc"}},78:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},97:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb"}},98:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__3ao3G",form:"SourcesPanel_form__2e3-e",inputWrapper:"SourcesPanel_inputWrapper__3hJ6C"}}},[[288,1,2]]]);
//# sourceMappingURL=main.f4508568.chunk.js.map