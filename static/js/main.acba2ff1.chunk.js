(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{102:function(e,t,n){e.exports={title:"additional_title__1m0_k",list:"additional_list__1avp9",listItem:"additional_listItem__3BE6U"}},103:function(e,t,n){e.exports={container:"input_container__1OlOE",input:"input_input__3I3G6",buttonsBlock:"input_buttonsBlock__241nw",clearButton:"input_clearButton__3FPaA",copyButton:"input_copyButton__20L6h"}},104:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},105:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",isActive:"contentBlock_isActive__1EC5r",content:"contentBlock_content__1xBTD",hideBlock:"contentBlock_hideBlock__2Wym6"}},106:function(e,t,n){e.exports={container:"CustomSlider_container__WcW3I",root:"CustomSlider_root__hemha",label:"CustomSlider_label__2lMkh",tooltipContainer:"CustomSlider_tooltipContainer__3CM33",tooltipIcon:"CustomSlider_tooltipIcon__3iVXY"}},108:function(e,t,n){e.exports={imageUploader:"avatar_imageUploader__2W-mG",title:"avatar_title__1xETB",imageWrapper:"avatar_imageWrapper__3Xr9R"}},109:function(e,t,n){e.exports={container:"deleteAccount_container__1vtDB",title:"deleteAccount_title__144Of",description:"deleteAccount_description__28b48",buttons:"deleteAccount_buttons__UzBrc"}},132:function(e,t,n){e.exports={playerPanel:"mainView_playerPanel__2qpku",content:"mainView_content__2OnP2",contentWrapper:"mainView_contentWrapper__2i6MG"}},133:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__1DdM7",form:"SourcesPanel_form__1o_MA",inputWrapper:"SourcesPanel_inputWrapper__2NF9J"}},134:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2qCbT",cutsPanelBlank:"CutsPanel_cutsPanelBlank__2gLJh",timeInput:"CutsPanel_timeInput__FdtI3",input:"CutsPanel_input__4Og8R",stepBtn:"CutsPanel_stepBtn__3kDcm",infoLine:"CutsPanel_infoLine__3lLJ8",loadIcon:"CutsPanel_loadIcon__1BsrY",bottomBtn:"CutsPanel_bottomBtn__2J2gr",cutsList:"CutsPanel_cutsList__1Nvl5"}},135:function(e,t,n){e.exports={container:"settingTabs_container__3ul44",link:"settingTabs_link__2J6Jf",active:"settingTabs_active__3Y1ku"}},136:function(e,t,n){e.exports={header:"header_header__2Hcu_",rightBlock:"header_rightBlock__2de4S",buttons:"header_buttons__1VIAW"}},150:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb","slick-slide":"App_slick-slide__2pNaG"}},154:function(e,t,n){e.exports={block:"modal_block__1GAxY",closeButton:"modal_closeButton__246Uq"}},155:function(e,t,n){e.exports={container:"content_container__3-ZBv",player:"content_player__NWuLE",userWrapper:"content_userWrapper__3men2"}},156:function(e,t,n){e.exports={container:"contentView_container__HlNrD",title:"contentView_title__13t0d"}},157:function(e,t,n){e.exports={root:"GiphyPanel_root__2Hx9n",searchLine:"GiphyPanel_searchLine__69zTm",gifsPanel:"GiphyPanel_gifsPanel__2OqQn"}},159:function(e,t,n){e.exports={button:"transitionItem_button__2Ttj-",isActive:"transitionItem_isActive__2Hq6p"}},160:function(e,t,n){e.exports={container:"GifMenu_container__20wqN",btn:"GifMenu_btn__MgwTd"}},161:function(e,t,n){e.exports={gif:"CutGifsList_gif__1zFY4",isSelected:"CutGifsList_isSelected__1hbWU"}},162:function(e,t,n){e.exports={container:"buttons_container__24qbY",rightBtnGroup:"buttons_rightBtnGroup__1o9qX"}},163:function(e,t,n){e.exports={container:"settings_container__D_8z-",content:"settings_content__N0K7s"}},164:function(e,t,n){e.exports={container:"loginModal_container__2JncL",content:"loginModal_content__RWDdw"}},208:function(e,t,n){e.exports={container:"UserProfile_container__2kkVd"}},210:function(e,t,n){e.exports={item:"slider_item__3pDgX"}},213:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},219:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},222:function(e,t,n){e.exports={list:"transitions_list__11-Eh"}},224:function(e,t,n){e.exports={item:"userItem_item__1-Mkf"}},225:function(e,t,n){e.exports={container:"actionButton_container__35clG"}},226:function(e,t,n){e.exports={button:"smallButton_button__100sP"}},227:function(e,t,n){},228:function(e,t,n){e.exports={button:"socialItem_button__1SH6F"}},229:function(e,t,n){e.exports={container:"SignMenu_container__CFRMs",modalContainer:"SignMenu_modalContainer__3unD8",alert:"SignMenu_alert__vJhZ_"}},35:function(e,t,n){e.exports={container:"timeLineItem_container__xQUm0",videoWrapper:"timeLineItem_videoWrapper__1iGSb",isActive:"timeLineItem_isActive__hk5F6",player:"timeLineItem_player__2pv5Z",actionBlock:"timeLineItem_actionBlock__8nvXQ",activeIcon:"timeLineItem_activeIcon__GEpyq",defaultIcon:"timeLineItem_defaultIcon__iW-P8",listWrapper:"timeLineItem_listWrapper__FTQFr",list:"timeLineItem_list__35pAO",listItem:"timeLineItem_listItem__1icJS",block:"timeLineItem_block__3n2ah",blockContent:"timeLineItem_blockContent__kgIZ4",topButtons:"timeLineItem_topButtons__1kfqT",buttomButtons:"timeLineItem_buttomButtons__OvQJV",playButton:"timeLineItem_playButton__2uyY4",isVisible:"timeLineItem_isVisible__2Ldl3"}},38:function(e,t,n){e.exports={container:"portfolio_container__3s1vU",title:"portfolio_title__1d9Gn",list:"portfolio_list__3vjSu",imageWrapper:"portfolio_imageWrapper__39O-8",addButton:"portfolio_addButton__1uR8w",playerWrapper:"portfolio_playerWrapper__1xtYY",player:"portfolio_player__jz_Gi",buttons:"portfolio_buttons__1Uwgf",buttonsContainer:"portfolio_buttonsContainer__3Bb5q",buttonsList:"portfolio_buttonsList__2_Nig",button:"portfolio_button__2EqQ0",buttonItem:"portfolio_buttonItem__SdLBc",shareButton:"portfolio_shareButton__2cgQQ",duration:"portfolio_duration__hHjPU",overlay:"portfolio_overlay__1POnn",playerBlocker:"portfolio_playerBlocker__3u8Qo"}},428:function(e,t,n){},429:function(e,t,n){"use strict";n.r(t);var r,i,a,c=n(0),o=n.n(c),s=n(21),u=n.n(s),l=n(231),d=n(460),b=n(7),p=n(41),h=n(30),f=n(232),j=n(150),m=n.n(j),v=n(54),O=n(14),x=n(36),g=n(43),_=n(85),y=n(131),C=n(130),w=n(5),S=(n(111),n(3)),I=n(175),k=n(26),P=n(12),T=n(4),N=n.n(T),E=n(8);!function(e){e.PlayerStore="eyeMoPlayerStore",e.EditorStore="eyeMoEditorStore",e.UserStore="eyeMoUserStore",e.UiStore="eyeMoUiStore"}(r||(r={})),function(e){e.Create="create",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show",e.EditGifs="editGifs",e.EditShot="editShot"}(i||(i={})),function(e){e.GOOGLE="google"}(a||(a={}));var B=n(207),A=n.n(B),L=n(233),G={isDev:!1,agora:{appId:"df4bc258854f4cb293dc97a3ab0fc123",appToken:"006df4bc258854f4cb293dc97a3ab0fc123IAA1mPM18LwuOkyuSGrb+11IvJFdcEWsOe8cJD1DX3uSEHiLwJYAAAAAEAAEa9nru4JIYAEAAQC7gkhg"},google:{clientId:"408329112054-lostlgmbd8r8ncskmnfnfoqv50j84bev.apps.googleusercontent.com"},server:{url:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AGORA_APP_ID:"df4bc258854f4cb293dc97a3ab0fc123",REACT_APP_AGORA_APP_TOKEN:"006df4bc258854f4cb293dc97a3ab0fc123IAA1mPM18LwuOkyuSGrb+11IvJFdcEWsOe8cJD1DX3uSEHiLwJYAAAAAEAAEa9nru4JIYAEAAQC7gkhg",REACT_APP_GOOGLE_CLIENT_ID:"408329112054-lostlgmbd8r8ncskmnfnfoqv50j84bev.apps.googleusercontent.com"}).REACT_APP_SERVER_URL}},M=A.a.create({baseURL:G.server.url,responseType:"json"}),D=function(){var e=Object(E.a)(N.a.mark((function e(){var t,n,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.load();case 2:return n=e.sent,e.next=5,n.get({debug:!1});case 5:r=e.sent,i=r.visitorId,Ye.visitorId=i,M.defaults.headers.Authorization="Bearer ".concat(null===(t=Ye.tokens)||void 0===t?void 0:t.accessToken),M.defaults.headers["x-browser-fingerprint"]=Ye.visitorId,M.defaults.baseURL=G.server.url;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V={getUserProfile:function(){return M({method:"GET",url:"/user/profile"})},getNewAccessToken:function(){var e;return M({method:"GET",url:"/user/access/token?refreshToken=".concat(null===(e=Ye.tokens)||void 0===e?void 0:e.refreshToken)})},getVideoById:function(e){return M({method:"GET",url:"/video/".concat(e)})},getUserVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M({method:"GET",url:"/video/list?limit=".concat(e,"&offset=").concat(t)})},postLogin:function(){return M({method:"POST",url:"/user/login/google",data:{idToken:Ye.googleToken}})},postLogout:function(){var e;return M({method:"POST",url:"/user/logout",data:{refreshToken:null===(e=Ye.tokens)||void 0===e?void 0:e.refreshToken}})},createVideo:function(e){return M({method:"POST",url:"/video",data:e})},trackVideoWatching:function(e){return M({method:"POST",url:"/video/watch/stop/action",data:e})},updateVideo:function(e){return M({method:"PUT",url:"/video/".concat(e.id),data:e})},deleteVideoById:function(e){return M({method:"DELETE",url:"/video/".concat(e)})}};M.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return 401!==e.response.status||t._retry?Promise.reject(e):(t._retry=!0,V.getNewAccessToken().then((function(e){if(200===e.status&&Ye.tokens)return t.headers.Authorization="Bearer ".concat(e.data.value),Ye.tokens.accessToken=e.data.value,M.defaults.headers.Authorization="Bearer ".concat(e.data.value),new Promise((function(e,n){M.request(t).then((function(t){e(t)})).catch((function(e){n(e)}))}))})).catch((function(e){return Promise.reject(e)})))}));var R,W,z,F,U,H,J,q,Y,Q,K,X,Z,$,ee,te,ne,re,ie,ae,ce,oe,se,ue,le,de=V,be=new(function(){function e(){Object(x.a)(this,e),this.control=[],this.store=Ee}return Object(g.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[this.store.activePlayerIndex].player.getCurrentTime()}},{key:"stop",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!1,e.next=5,Object(S.s)((function(){return!n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!0,e.next=5,Object(S.s)((function(){return n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(!(n.length>1&&void 0!==n[1])||n[1])&&(this.store.mode=i.PlayOne),this.store.isLoading=!0,e.next=5,this.stop(this.store.activePlayerIndex);case 5:return this.store.currentCutIndex=t,e.next=8,this.preloadCut(this.store.activePlayerIndex,t);case 8:return e.next=10,this.start(this.store.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.isLoading=!0,this.store.createCurrentCuts(this.store.shotCuts),0!==this.store.currentCuts.length){e.next=6;break}return e.next=5,this.start(this.store.activePlayerIndex);case 5:return e.abrupt("return");case 6:return t||(this.store.mode=i.PlayAll),e.next=9,this.preloadShotCuts();case 9:return e.next=11,this.start(this.store.activePlayerIndex);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.mode=i.Create,this.store.currentCutIndex=-1,void 0!==this.store.sources[t]){e.next=4;break}return e.abrupt("return");case 4:this.store.currentSourceIndex=t,n=0;case 6:if(!(n<this.store.players.length)){e.next=13;break}return e.next=9,this.stop(n);case 9:n===this.store.activePlayerIndex&&(this.store.players[n]=Object(P.a)(Object(P.a)({},this.store.players[n]),{},{url:this.store.sources[t].url,playing:!1}));case 10:n+=1,e.next=6;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.mode=i.Show,e.next=3,this.playAll(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(E.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.players[t]=Object(P.a)(Object(P.a)({},this.store.players[t]),{},{url:this.store.currentCuts[n].url,cutIndex:n}),this.store.players[t].preloading=!0,this.store.players[t].muted=!0,e.next=5,this.start(t);case 5:return e.next=7,this.stop(t);case 7:this.control[t].player.getInternalPlayer().seekTo(this.store.currentCuts[n].time.startTime,!0),this.store.players[t].muted=!1,this.store.players[t].preloading=!1;case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"quickMoveToPosition",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.store.activePlayerIndex,this.control[n].player.getInternalPlayer().seekTo(t,!0);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rewindOn",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.activePlayerIndex,void 0!==(r=this.control[n].player.getInternalPlayer().getCurrentTime())&&null!==r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.quickMoveToPosition(r+t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"preloadShotCuts",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.store.players.length)){e.next=14;break}return e.next=4,this.stop(t);case 4:if(!(t<this.store.shotCuts.length)){e.next=10;break}return this.store.players[t].isVisible=0===t,e.next=8,this.preloadCut(t,t);case 8:e.next=11;break;case 10:this.store.players[t]={id:this.store.players[t].id,muted:!1,url:"",playing:!1,preloading:!1,cutIndex:t,isVisible:!1};case 11:t+=1,e.next=1;break;case 14:this.store.activePlayerIndex=0,this.store.currentCutIndex=0;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goToNextShotCut",value:function(){var e=Object(E.a)(N.a.mark((function e(t){var n,r,i,a=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.store.currentCutIndex===this.store.currentCuts.length-1,this.store.isShowTransition=!n,e.next=4,this.stop(t);case 4:if(!n){e.next=8;break}return console.log("Last cut is end"),this.sendTimePosition(),e.abrupt("return");case 8:return r=this.store.currentCutIndex+this.store.players.length,i=r<this.store.currentCuts.length,console.log("Go from ".concat(this.store.currentCutIndex," to ").concat(this.store.nextCutIndex," cut")),this.store.activePlayerIndex=this.store.nextPlayerIndex,this.store.currentCutIndex=this.store.nextCutIndex,e.next=15,this.start(this.store.activePlayerIndex);case 15:if(this.store.players[t].isVisible=!1,this.store.players[this.store.activePlayerIndex].isVisible=!0,setTimeout((function(){return a.store.isShowTransition=!1}),400),i){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,this.preloadCut(t,r);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTimePosition",value:function(){var e=this.control[this.store.activePlayerIndex].player.getCurrentTime();if(this.store.currentCutIndex<0)this.store.timePosition=e||0;else{for(var t=0,n=0;n<this.store.currentCuts.length&&!(n>this.store.currentCutIndex);n+=1){var r=this.store.currentCuts[n].time.startTime,i=this.store.currentCuts[n].time.endTime;n===this.store.currentCutIndex?t+=e-r:t+=i-r}this.store.timePosition=t}}},{key:"getCurrentPlayerDuration",value:function(){var e;if(this.control[this.store.activePlayerIndex]){var t=null===(e=this.control[this.store.activePlayerIndex].player.getInternalPlayer())||void 0===e?void 0:e.getDuration();return null!==t?t:0}}},{key:"sendTimePosition",value:function(){this.store.watchId&&this.store.mode===i.Show&&de.trackVideoWatching({watchId:this.store.watchId,timePosition:this.store.timePosition}).then((function(){})).catch((function(e){return console.error(e)}))}}]),e}()),pe=new(function(){function e(){Object(x.a)(this,e),this.customGif=null,this.store=Ee}return Object(g.a)(e,[{key:"getCutTime",value:function(e){var t={startTime:0,endTime:0},n=this.getGifIndexById(e);if(null!==n){var r=this.store.gifs[n].cutId;this.store.currentCuts.map((function(e){return e.id===r&&(t=e.time),e}))}return t}},{key:"setGifTime",value:function(e,t){var n=this.getGifIndexById(e);null!==n&&(this.store.gifs[n].startShowTime=t[0],this.store.gifs[n].endShowTime=t[1])}},{key:"getGifIndexById",value:function(e){var t=null;return this.store.gifs.map((function(n,r){return n.id===e&&(t=r),n})),t}},{key:"getGifTime",value:function(e){var t=[0,0],n=this.getGifIndexById(e);return null!==n&&(t=[this.store.gifs[n].startShowTime,this.store.gifs[n].endShowTime]),t}},{key:"isShowGif",value:function(e){if(void 0===this.store.currentCuts[this.store.currentCutIndex]||e.cutId!==this.store.currentCuts[this.store.currentCutIndex].id)return!1;var t=be.getActivePlayerPosition();return t>=e.startShowTime&&t<=e.endShowTime}},{key:"checkShowGifs",value:function(e){if(this.store)for(var t=0;t<this.store.gifs.length;t+=1){var n,r,i=this.store.gifs[t];if(void 0!==this.store.currentCuts[this.store.currentCutIndex]){var a=i.id===(null===(n=this.customGif)||void 0===n?void 0:n.id)?this.customGif.startShowTime:i.startShowTime,c=i.id===(null===(r=this.customGif)||void 0===r?void 0:r.id)?this.customGif.endShowTime:i.endShowTime;i.cutId===this.store.currentCuts[this.store.currentCutIndex].id&&i.cutId===this.store.currentCuts[this.store.currentCutIndex].id&&e>=a&&e<c?(this.store.gifs[t].isShow||console.log("Show gif on position: "+e),this.store.gifs[t].isShow=!0):(this.store.gifs[t].isShow&&console.log("Hide gif on position: "+e),this.store.gifs[t].isShow=!1)}else this.store.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){this.store.gifs=this.store.gifs.filter((function(t){return t.id!==e}))}},{key:"setCustomGifData",value:function(e){this.customGif=e}},{key:"getGifListForCut",value:function(e){if(void 0===this.store.currentCuts[e])return[];var t=this.store.currentCuts[e].id;return this.store.gifs.filter((function(e){return e.cutId===t}))}}]),e}());Object(S.i)({enforceActions:"never"});var he=(R=function(){function e(){Object(x.a)(this,e),Object(O.a)(this,"mode",W,this),Object(O.a)(this,"sources",z,this),Object(O.a)(this,"cuts",F,this),Object(O.a)(this,"shotCuts",U,this),Object(O.a)(this,"currentCuts",H,this),Object(O.a)(this,"gifs",J,this),Object(O.a)(this,"videoId",q,this),Object(O.a)(this,"watchId",Y,this),Object(O.a)(this,"secondsCount",Q,this),Object(O.a)(this,"timePosition",K,this),Object(O.a)(this,"players",X,this),Object(O.a)(this,"playing",Z,this),Object(O.a)(this,"activePlayerIndex",$,this),Object(O.a)(this,"currentCutIndex",ee,this),Object(O.a)(this,"currentSourceIndex",te,this),Object(O.a)(this,"isEnableCanvas",ne,this),Object(O.a)(this,"canvasSize",re,this),Object(O.a)(this,"isLoading",ie,this),Object(O.a)(this,"isShowTransition",ae,this),Object(O.a)(this,"isConnectedChat",ce,this),Object(O.a)(this,"isEnableMic",oe,this),Object(O.a)(this,"isShowRecButton",se,this),Object(O.a)(this,"isShowGifList",ue,this),Object(O.a)(this,"selectedGifId",le,this),Object(S.o)(this)}return Object(g.a)(e,[{key:"shareUrl",value:function(e){if(null===e)return null;var t=window.location.origin;return"".concat(t,"/#/v/").concat(e)}},{key:"trailerLength",get:function(){return this.cuts.reduce((function(e,t,n){return t.time?e+t.time.endTime-t.time.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.currentCutIndex===this.currentCuts.length-1?0:this.currentCutIndex+1}},{key:"isCleanEditorStore",get:function(){return 0===this.shotCuts.length}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,r=t.width,i=t.canvasWidth,a=t.canvasHeight,c=t.x,o=t.y,s=this.canvasSize.width/i,u=this.canvasSize.height/a;this.gifs[e]=Object(P.a)(Object(P.a)({},this.gifs[e]),{},{height:n*u,width:r*s,x:c*s,y:o*u,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"createCurrentCuts",value:function(e){this.currentCuts=JSON.parse(JSON.stringify(e))}},{key:"clearStore",value:function(){var e=this;this.sources=[],this.mode=i.Create,this.cuts=[],this.shotCuts=[],this.currentCuts=[],this.gifs=[],this.players=[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}})),this.activePlayerIndex=0,this.currentCutIndex=-1,this.currentSourceIndex=-1,this.selectedGifId=null,this.videoId=null,this.watchId=null,this.secondsCount=0,this.timePosition=0,this instanceof ge&&(this.activeCutIndex=null,this.editCutIndex=null)}},{key:"loadVideoToStore",value:function(e){var t=this,n=e.video,r=e.watchId;this.shotCuts=n.cuts,this.sources=n.sources,this.gifs=n.gifs,this.videoId=n.id,this.watchId=r,this.secondsCount=n.secondsCount||0,this.players=[0,1,2,3].map((function(e,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:n===t.activePlayerIndex&&(t.shotCuts[0].url||t.sources[0].url)||"",isVisible:n===t.activePlayerIndex}})),this.mode=i.Show}}]),e}(),W=Object(w.a)(R.prototype,"mode",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i.Show}}),z=Object(w.a)(R.prototype,"sources",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=Object(w.a)(R.prototype,"cuts",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=Object(w.a)(R.prototype,"shotCuts",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=Object(w.a)(R.prototype,"currentCuts",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(w.a)(R.prototype,"gifs",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Object(w.a)(R.prototype,"videoId",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=Object(w.a)(R.prototype,"watchId",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Object(w.a)(R.prototype,"secondsCount",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=Object(w.a)(R.prototype,"timePosition",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=Object(w.a)(R.prototype,"players",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,preloading:!1,muted:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n}}))}}),Z=Object(w.a)(R.prototype,"playing",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(e){return!1}))}}),$=Object(w.a)(R.prototype,"activePlayerIndex",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=Object(w.a)(R.prototype,"currentCutIndex",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.shotCuts.length>0?0:-1}}),te=Object(w.a)(R.prototype,"currentSourceIndex",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),ne=Object(w.a)(R.prototype,"isEnableCanvas",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=Object(w.a)(R.prototype,"canvasSize",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),ie=Object(w.a)(R.prototype,"isLoading",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=Object(w.a)(R.prototype,"isShowTransition",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(w.a)(R.prototype,"isConnectedChat",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=Object(w.a)(R.prototype,"isEnableMic",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=Object(w.a)(R.prototype,"isShowRecButton",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ue=Object(w.a)(R.prototype,"isShowGifList",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Object(w.a)(R.prototype,"selectedGifId",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(w.a)(R.prototype,"trailerLength",[S.h],Object.getOwnPropertyDescriptor(R.prototype,"trailerLength"),R.prototype),Object(w.a)(R.prototype,"nextPlayerIndex",[S.h],Object.getOwnPropertyDescriptor(R.prototype,"nextPlayerIndex"),R.prototype),Object(w.a)(R.prototype,"nextCutIndex",[S.h],Object.getOwnPropertyDescriptor(R.prototype,"nextCutIndex"),R.prototype),Object(w.a)(R.prototype,"isCleanEditorStore",[S.h],Object.getOwnPropertyDescriptor(R.prototype,"isCleanEditorStore"),R.prototype),Object(w.a)(R.prototype,"scaleGifs",[S.f],Object.getOwnPropertyDescriptor(R.prototype,"scaleGifs"),R.prototype),Object(w.a)(R.prototype,"createCurrentCuts",[S.f],Object.getOwnPropertyDescriptor(R.prototype,"createCurrentCuts"),R.prototype),Object(w.a)(R.prototype,"clearStore",[S.f],Object.getOwnPropertyDescriptor(R.prototype,"clearStore"),R.prototype),Object(w.a)(R.prototype,"loadVideoToStore",[S.f],Object.getOwnPropertyDescriptor(R.prototype,"loadVideoToStore"),R.prototype),R),fe=new he;G.isDev&&(window.playerStore=fe);var je,me,ve,Oe=fe,xe=new k.a(fe,{storageKey:r.PlayerStore,storage:localStorage});Object(S.i)({enforceActions:"never"});var ge=(je=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(x.a)(this,n),e=t.call(this),Object(O.a)(e,"activeCutIndex",me,Object(_.a)(e)),Object(O.a)(e,"editCutIndex",ve,Object(_.a)(e)),e.mode=i.Create,Object(S.o)(Object(_.a)(e)),Object(S.g)((function(){return console.log("--\x3e In ".concat(e.mode.toUpperCase()," mode"))})),Object(S.g)((function(){if(null!==e.selectedGifId){var t=pe.getGifIndexById(e.selectedGifId);e.isEnableCanvas||null===e.activeCutIndex||null===t||e.currentCuts[e.activeCutIndex].id===e.gifs[t].cutId||(e.selectedGifId=null)}})),Object(S.g)((function(){-1===e.currentCutIndex&&pe.checkShowGifs(0)})),Object(S.g)((function(){e.mode===i.Create?(e.editCutIndex=null,e.isShowRecButton=!0,e.activeCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===i.Show||e.mode===i.PlayAll?(e.editCutIndex=null,e.isShowRecButton=!1,e.activeCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===i.PlayOne?(e.editCutIndex=null,e.isShowRecButton=!1,e.isEnableCanvas=!1):e.mode===i.EditShot?(e.isShowRecButton=!1,e.isShowGifList=!1,e.isEnableCanvas=!1,e.selectedGifId=null):e.mode===i.EditGifs&&(e.editCutIndex=null,e.isShowRecButton=!1,e.isShowGifList=!0,e.isEnableCanvas=!0)})),e}return Object(g.a)(n,[{key:"addCutAndShot",value:function(e){var t=Object(I.a)();this.cuts.push({id:t,url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}}),this.shotCuts.push({id:Object(I.a)(),url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}})}},{key:"addShot",value:function(e){var t=this.getCutById(e);null!==t&&this.shotCuts.push({id:Object(I.a)(),url:t.url,time:{startTime:t.time.startTime,endTime:t.time.endTime}})}},{key:"replaceShot",value:function(e,t,n){var r=this.shotCuts.find((function(t){return t.id===e}));r&&(this.shotCuts.splice(t,1),this.shotCuts.splice(n,0,r))}},{key:"addSource",value:function(e){this.sources=[].concat(Object(v.a)(this.sources),[{id:Object(I.a)(),index:this.sources.length,url:e}]),be.changeModeToCreate(this.sources.length-1)}},{key:"addGif",value:function(e,t){var n=this.currentCuts[t];this.gifs=[].concat(Object(v.a)(this.gifs),[{id:Object(I.a)(),src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:n.time.startTime,endShowTime:n.time.endTime,cutId:n.id,isShow:!0}])}},{key:"removeCut",value:function(e){this.cuts=this.cuts.filter((function(t,n){return n!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeShotCut",value:function(e){this.shotCuts=this.shotCuts.filter((function(t){return t.id!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeSource",value:function(e){var t=this.sources[e].url;this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})),this.cuts=this.cuts.filter((function(e){return e.url!==t}))}},{key:"getCutById",value:function(e){var t=null;return this.cuts.map((function(n){return n.id===e&&(t=n),n})),t}}]),n}(he),me=Object(w.a)(je.prototype,"activeCutIndex",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Object(w.a)(je.prototype,"editCutIndex",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(w.a)(je.prototype,"addCutAndShot",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"addCutAndShot"),je.prototype),Object(w.a)(je.prototype,"addShot",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"addShot"),je.prototype),Object(w.a)(je.prototype,"replaceShot",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"replaceShot"),je.prototype),Object(w.a)(je.prototype,"addSource",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"addSource"),je.prototype),Object(w.a)(je.prototype,"addGif",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"addGif"),je.prototype),Object(w.a)(je.prototype,"removeCut",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"removeCut"),je.prototype),Object(w.a)(je.prototype,"removeShotCut",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"removeShotCut"),je.prototype),Object(w.a)(je.prototype,"removeSource",[S.f],Object.getOwnPropertyDescriptor(je.prototype,"removeSource"),je.prototype),je),_e=new ge;G.isDev&&(window.editorStore=_e);var ye,Ce,we,Se,Ie,ke,Pe,Te,Ne,Ee=_e,Be=new k.a(_e,{storageKey:r.EditorStore,storage:localStorage}),Ae=n.p+"static/media/frames.7fe1096a.svg",Le=n.p+"static/media/gif.cd91ed47.svg",Ge=n.p+"static/media/text.0504dd60.svg",Me=n.p+"static/media/sticker.689907e4.svg",De=n.p+"static/media/transitions.876ac694.svg",Ve="frames",Re="transition",We="text",ze="gifs",Fe="sticker",Ue=[{id:Ve,icon:Ae},{id:Re,icon:De},{id:We,icon:Ge},{id:ze,icon:Le},{id:Fe,icon:Me}],He=new(ye=function(){function e(){Object(x.a)(this,e),Object(O.a)(this,"user",Ce,this),Object(O.a)(this,"tokens",we,this),Object(O.a)(this,"googleToken",Se,this),Object(O.a)(this,"visitorId",Ie,this),Object(O.a)(this,"tab",ke,this),Object(O.a)(this,"isShowContent",Pe,this),Object(O.a)(this,"isDragStart",Te,this),Object(O.a)(this,"sumVideoSeconds",Ne,this),Object(S.o)(this)}return Object(g.a)(e,[{key:"changeTab",value:function(e){this.tab=e}},{key:"setIsShowContent",value:function(e){this.isShowContent=e}},{key:"setDragStart",value:function(e){this.isDragStart=e}},{key:"setSumVideosSeconds",value:function(e){this.sumVideoSeconds=e.reduce((function(e,t){return t.secondsCount?e+t.secondsCount:e}),0)}}]),e}(),Ce=Object(w.a)(ye.prototype,"user",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=Object(w.a)(ye.prototype,"tokens",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=Object(w.a)(ye.prototype,"googleToken",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=Object(w.a)(ye.prototype,"visitorId",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=Object(w.a)(ye.prototype,"tab",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ve}}),Pe=Object(w.a)(ye.prototype,"isShowContent",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Te=Object(w.a)(ye.prototype,"isDragStart",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=Object(w.a)(ye.prototype,"sumVideoSeconds",[S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(w.a)(ye.prototype,"changeTab",[S.f],Object.getOwnPropertyDescriptor(ye.prototype,"changeTab"),ye.prototype),Object(w.a)(ye.prototype,"setIsShowContent",[S.f],Object.getOwnPropertyDescriptor(ye.prototype,"setIsShowContent"),ye.prototype),Object(w.a)(ye.prototype,"setDragStart",[S.f],Object.getOwnPropertyDescriptor(ye.prototype,"setDragStart"),ye.prototype),Object(w.a)(ye.prototype,"setSumVideosSeconds",[S.f],Object.getOwnPropertyDescriptor(ye.prototype,"setSumVideosSeconds"),ye.prototype),ye);G.isDev&&(window.userStore=He);var Je,qe,Ye=He,Qe=new k.a(He,{storageKey:r.UserStore,storage:localStorage}),Ke=new(Je=function e(){Object(x.a)(this,e),Object(O.a)(this,"isLoadingApp",qe,this),Object(S.o)(this)},qe=Object(w.a)(Je.prototype,"isLoadingApp",[k.b,S.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Je);G.isDev&&(window.uiStore=Ke);var Xe=Ke,Ze=new k.a(Ke,{storageKey:r.UiStore,storage:localStorage}),$e=Object(c.createContext)({playerStore:Oe,editorStore:Ee,userStore:Ye,uiStore:Xe}),et=function(){return Object(c.useContext)($e)},tt=n(208),nt=n.n(tt),rt=n.p+"static/media/user.e027a384.png",it=n.p+"static/media/activeStatus.efaf463f.svg",at=n.p+"static/media/TikTok.68bfb298.svg",ct=n.p+"static/media/Youtube.306db314.svg",ot=n.p+"static/media/Facebook.828a81ba.svg",st=n.p+"static/media/Discord.5e927e26.svg",ut=n.p+"static/media/Link.7cb58b31.svg",lt=n(63),dt=n.n(lt),bt=n(209),pt=n.n(bt),ht=n(210),ft=n.n(ht),jt=n(1),mt={className:"slider variable-width",variableWidth:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,autoplay:!0,pauseOnHover:!1,speed:6e3,autoplaySpeed:0,cssEase:"linear"},vt=function(){return Object(jt.jsx)(pt.a,Object(P.a)(Object(P.a)({},mt),{},{children:Object(v.a)(new Array(5)).map((function(e,t){return Object(jt.jsx)("div",{className:ft.a.item},t)}))}))};function Ot(e){return e<10?"0".concat(e.toString(10)):e}function xt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"00:00:00.0";var n=Math.floor(e/60/60),r=Math.floor(e/60%60),i=Math.floor(e%60),a=Math.floor(10*(e-Math.floor(e))),c="".concat(Ot(n),":").concat(Ot(r),":").concat(Ot(i));return t&&(c="".concat(c,".").concat(a)),c}var gt=function(e){return e.toString().split("").reduceRight((function(e,t,n){return(n+1)%3===0&&""!==e?t+"."+e:t+e}),"")},_t=[at,st,ot,ct,ut],yt=Object(b.a)((function(e){var t=e.user;return Object(jt.jsxs)("div",{className:dt.a.container,children:[Object(jt.jsx)("div",{className:dt.a.slides,children:Object(jt.jsx)(vt,{})}),Object(jt.jsxs)("div",{className:dt.a.userImage,children:[Object(jt.jsx)("div",{className:dt.a.image,children:Object(jt.jsx)("img",{src:t.photoUrl||rt,alt:"User"})}),Object(jt.jsx)("div",{className:dt.a.status,children:Object(jt.jsx)("img",{src:it,alt:"Active status"})})]}),Object(jt.jsx)("p",{className:dt.a.name,children:t.username}),Object(jt.jsxs)("p",{className:dt.a.totalTime,children:[gt(Ye.sumVideoSeconds)," sec."]}),Object(jt.jsx)("ul",{className:dt.a.socialList,children:_t.map((function(e,t){return Object(jt.jsx)("li",{children:Object(jt.jsx)("a",{href:"#",target:"_blank",children:Object(jt.jsx)("img",{src:e,alt:"Social item"})})},t)}))})]})})),Ct=n(9),wt=n.p+"static/media/addIcon.f9e36598.svg",St=n(38),It=n.n(St),kt=n(68),Pt=n.n(kt),Tt=n.p+"static/media/mock.a377b9bb.png",Nt=n.p+"static/media/more.99c8af66.svg",Et=n.p+"static/media/share.281e367b.svg",Bt=n(120),At=n.n(Bt),Lt=function(e){var t=e.item,n=e.index,r=e.openModal,i=e.updateList,a=et(),o=a.editorStore,s=a.uiStore,u=a.playerStore,l=Object(c.useRef)(null),d=Object(c.useState)(0),b=Object(Ct.a)(d,2),p=b[0],f=b[1],j=Object(h.g)();Object(c.useEffect)((function(){var e=setInterval((function(){p!==t.sources.length-1?f(p+1):f(0)}),2e3);return function(){return clearInterval(e)}}));var m=function(e){e.stopPropagation(),de.getVideoById(t.id).then((function(e){var t=e.data;u.clearStore(),u.loadVideoToStore(t),r(!0)})).catch((function(e){return console.error(e)}))},v=[{text:"Open in modal",action:function(e){m(e)}},{text:"Edit video",action:function(e){e.stopPropagation(),s.isLoadingApp=!0,de.getVideoById(t.id).then((function(e){var t=e.data;o.clearStore(),o.loadVideoToStore(t),j.push("/"),be.changeModeToCreate(0)})).catch((function(e){return console.error(e)})).finally((function(){return s.isLoadingApp=!1}))}},{text:"Delete video",action:function(e){e.stopPropagation(),de.deleteVideoById(t.id).then((function(){return i()})).catch((function(e){return console.error(e)}))}}];return Object(jt.jsxs)("div",{className:It.a.playerWrapper,children:[Object(jt.jsxs)("div",{className:It.a.player,onClick:m,children:[0!==t.sources.length&&t.sources[p]?Object(jt.jsx)(Pt.a,{ref:l,width:"100%",height:"100%",url:t.sources[p].url,muted:!0,controls:!1,light:!0,playIcon:Object(jt.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},t.sources[0].id):Object(jt.jsx)("img",{src:Tt,alt:"Mock"}),Object(jt.jsx)("div",{className:It.a.playerBlocker}),Object(jt.jsx)("div",{className:It.a.buttons,children:Object(jt.jsxs)("div",{className:It.a.buttonsContainer,children:[Object(jt.jsx)("button",{className:It.a.button,children:Object(jt.jsx)("img",{src:Nt,alt:"More"})}),Object(jt.jsx)("ul",{className:It.a.buttonsList,children:v.map((function(e,t){var n=e.text,r=e.action;return Object(jt.jsx)("li",{className:It.a.buttonItem,children:Object(jt.jsx)("button",{onClick:function(e){return r(e)},children:n})},t)}))})]})}),Object(jt.jsx)(At.a,{text:o.shareUrl(t.id)||"",children:Object(jt.jsx)("button",{className:It.a.shareButton,onClick:function(e){e.stopPropagation(),console.log("share")},children:Object(jt.jsx)("img",{src:Et,alt:"share"})})})]},n),Object(jt.jsxs)("p",{className:It.a.duration,children:[gt(t.secondsCount||0)," sec. view"]})]})},Gt=n(153),Mt=n.n(Gt),Dt=n.p+"static/media/close.15725202.svg",Vt=n(154),Rt=n.n(Vt);Mt.a.setAppElement("#root");var Wt={content:{position:"relative",border:"none",borderRadius:0,backgroundColor:"transparent",inset:"0 0 0 0",height:"100%"},overlay:{zIndex:100,top:"0",left:"0",right:"0",bottom:"0",backdropFilter:"blur(3px)",backgroundColor:"rgba(0,0,0,.8)",display:"flex",alignItems:"center",justifyContent:"center"}},zt=function(e){var t=e.isOpen,n=e.children,r=e.toggleModal;return Object(jt.jsx)(Mt.a,{isOpen:t,style:Wt,onRequestClose:function(){return r(!1)},shouldCloseOnEsc:!0,children:Object(jt.jsxs)("div",{className:Rt.a.block,children:[Object(jt.jsx)("button",{className:Rt.a.closeButton,onClick:function(){return r(!1)},children:Object(jt.jsx)("img",{src:Dt,alt:"close"})}),n]})})},Ft=n(102),Ut=n.n(Ft),Ht=function(){return Object(jt.jsxs)("div",{className:Ut.a.container,children:[Object(jt.jsx)("p",{className:Ut.a.title,children:"Also see other videos:"}),Object(jt.jsx)("ul",{className:Ut.a.list,children:Object(v.a)(new Array(10)).map((function(e,t){return Object(jt.jsx)("li",{className:Ut.a.listItem},t)}))})]})},Jt=n(90),qt=n.n(Jt),Yt=function(){var e=et(),t=e.userStore,n=e.playerStore,r=t.user;return Object(jt.jsxs)("div",{className:qt.a.container,children:[Object(jt.jsx)("div",{className:qt.a.image,children:Object(jt.jsx)("img",{src:(null===r||void 0===r?void 0:r.photoUrl)||"",alt:"user"})}),Object(jt.jsxs)("div",{className:qt.a.info,children:[Object(jt.jsx)("span",{className:qt.a.name,children:null===r||void 0===r?void 0:r.username}),Object(jt.jsxs)("span",{className:qt.a.duration,children:[gt(n.secondsCount)," sec. view"]})]})]})},Qt=n(155),Kt=n.n(Qt),Xt=n(19),Zt=n.n(Xt),$t=n(72),en=n.n($t);var tn,nn=Object(b.a)((function(e){var t=e.store,n=et().uiStore;Object(c.useEffect)((function(){""===t.players[t.activePlayerIndex].url&&(n.isLoadingApp=!1)}));var r=function(e,r){console.log("Player ".concat(e," onReady")),t.activePlayerIndex===e&&(n.isLoadingApp=!1),be.setPlayer(e,{player:r})},a=function(){var e=Object(E.a)(N.a.mark((function e(n,r){var a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.checkShowGifs(r.playedSeconds),n===t.activePlayerIndex&&!t.players[n].preloading&&t.players[n].playing){e.next=4;break}return console.log("Player ".concat(n," onProgress stopped")),e.abrupt("return");case 4:if(t.isLoading&&(t.isLoading=!1),be.setTimePosition(),void 0!==(a=t.players[n].cutIndex)&&-1!==t.currentCutIndex){e.next=9;break}return e.abrupt("return");case 9:c=t.currentCuts[a].time,console.log(),e.t0=t.mode,e.next=e.t0===i.Create?14:e.t0===i.PlayOne?15:e.t0===i.EditGifs?20:e.t0===i.EditShot?25:e.t0===i.PlayAll?30:e.t0===i.Show?35:40;break;case 14:return e.abrupt("break",40);case 15:if(!h(c,r.playedSeconds)){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,be.stop(n);case 19:return e.abrupt("break",40);case 20:if(!h(c,r.playedSeconds)){e.next=22;break}return e.abrupt("return");case 22:return e.next=24,be.stop(n);case 24:return e.abrupt("break",40);case 25:if(!h(c,r.playedSeconds)){e.next=27;break}return e.abrupt("return");case 27:return e.next=29,be.stop(n);case 29:return e.abrupt("break",40);case 30:if(!h(c,r.playedSeconds)){e.next=32;break}return e.abrupt("return");case 32:return e.next=34,be.goToNextShotCut(n);case 34:return e.abrupt("break",40);case 35:if(!h(c,r.playedSeconds)){e.next=37;break}return e.abrupt("return");case 37:return e.next=39,be.goToNextShotCut(n);case 39:return e.abrupt("break",40);case 40:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(e){console.log("Player ".concat(e," onBuffer"))},s=function(e){console.log("Player ".concat(e," onBufferEnd"))},u=function(e){console.log("Player ".concat(e," onStart"))},l=function(e){console.log("Player ".concat(e," onPlay")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},d=function(e){console.log("Player ".concat(e," onPause")),t.playing[e]&&(t.playing[e]=!1),t.players[e].playing=!1},b=function(e){console.log("Player ".concat(e," onEnded"))},p=function(e,t){console.log("Player ".concat(e," onSeek"))},h=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(jt.jsx)("div",{children:t.sources.length>0?t.players.map((function(e,n,i){var c=i.length-1-n;return Object(jt.jsx)("div",{style:{visibility:t.players[c].isVisible?"visible":"hidden"},children:Object(jt.jsx)(Pt.a,{playing:t.playing[c],className:en.a.player,url:t.players[c].url,muted:t.players[c].muted,width:"100%",height:"100%",onPlay:l.bind(null,c),onProgress:a.bind(null,c),onStart:u.bind(null,c),onPause:d.bind(null,c),onEnded:b.bind(null,c),onReady:r.bind(null,c),onSeek:p.bind(null,c),onBufferEnd:s.bind(null,c),onBuffer:o.bind(null,c),progressInterval:100,controls:!0,config:{youtube:{playerVars:{}}}})},t.players[c].id)})):Object(jt.jsx)("div",{className:en.a.playerPlaceholder})})})),rn=n(89),an=n(213),cn=n.n(an),on=(n(355),Object(b.a)((function(e){var t=e.gif,n=e.isSelected,r=e.isShow,i=e.onChange,a=e.onSelect,o=et().editorStore,s=Object(c.useRef)(null),u=Object(c.useRef)(),l=Object(c.useMemo)((function(){return document.createElement("canvas")}),[]);Object(c.useEffect)((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(l),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),s.current&&s.current.getLayer().draw()}})),function(){var t;return null===(t=e)||void 0===t?void 0:t.stop()}}),[t.src,l]),Object(c.useEffect)((function(){n&&r&&u.current&&(u.current.nodes([s.current]),u.current.getLayer().batchDraw())}),[n,r]);return Object(jt.jsxs)(jt.Fragment,{children:[r&&Object(jt.jsx)(rn.a,{ref:s,image:l,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:a,onTap:a,onDragEnd:function(e){i(Object(P.a)(Object(P.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=s.current,r=n.scaleX(),a=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(P.a)(Object(P.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*a)}))}}),n&&r&&!o.players[o.activePlayerIndex].playing&&Object(jt.jsx)(rn.d,{ref:u,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})}))),sn=Object(b.a)((function(e){var t=e.store,n=function(e){e.target===e.target.getStage()&&(t.selectedGifId=null)},r=function(e){t.selectedGifId=e},i=function(e,n){return t.gifs[e]=n};return Object(jt.jsx)("div",{children:Object(jt.jsx)(rn.c,{className:cn.a.container,width:t.canvasSize.width,height:t.canvasSize.height,style:t.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:n,onTouchStart:n,children:Object(jt.jsx)(rn.b,{children:t.gifs.map((function(e,n){return Object(jt.jsx)(on,{gif:e,isSelected:e.id===t.selectedGifId,isShow:e.isShow,onSelect:r.bind(null,e.id),onChange:i.bind(null,n)},e.id)}))})})})})),un=n(121),ln=n.n(un),dn=n.p+"static/media/play.a44af37e.svg";function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hn(e,t){var n=e.title,r=e.titleId,i=pn(e,["title","titleId"]);return c.createElement("svg",bn({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,tn||(tn=c.createElement("path",{d:"M10 24h-6v-24h6v24zm10 0h-6v-24h6v24zm-11-23h-4v22h4v-22zm10 0h-4v22h4v-22z"})))}var fn,jn,mn=c.forwardRef(hn),vn=(n.p,n(78)),On=n.n(vn),xn=function(e){var t=e.color;return Object(jt.jsx)("div",{className:On.a.container,children:Object(jt.jsx)("div",{className:Zt()(On.a.loaderContainer,On.a.arcRotateDouble),style:{backgroundColor:t},children:Object(jt.jsxs)("div",{className:On.a.loader,children:[Object(jt.jsx)("div",{className:On.a.arc1}),Object(jt.jsx)("div",{className:On.a.arc2})]})})})},gn=Object(b.a)((function(e){var t=e.store,n=Object(c.useRef)(),r=Object(c.useState)(!1),a=Object(Ct.a)(r,2),o=a[0],s=a[1];Object(c.useEffect)((function(){n.current&&(t.canvasSize={width:n.current.offsetWidth,height:n.current.offsetHeight})})),Object(c.useEffect)((function(){be.store=t,pe.store=t}),[]);var u=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mode!==i.Show){e.next=5;break}return e.next=3,be.changeModeToShow();case 3:e.next=7;break;case 5:return e.next=7,be.start(t.activePlayerIndex);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.stop(t.activePlayerIndex);case 2:be.sendTimePosition();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(jt.jsxs)("div",{ref:n,className:Zt()("padded",en.a.playerWrapper),onMouseMove:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[Object(jt.jsx)(nn,{store:t}),Object(jt.jsx)(sn,{store:t}),Object(jt.jsx)(ln.a,{onResize:function(e){var n=e.width,r=e.height;t.canvasSize={width:n,height:r},t.scaleGifs()}}),!t.players[t.activePlayerIndex].playing&&Object(jt.jsx)("button",{className:en.a.playButton,onClick:u,children:Object(jt.jsx)("img",{src:dn,alt:"Play icon"})}),t.players[t.activePlayerIndex].playing&&o&&Object(jt.jsx)("button",{className:en.a.playButton,onClick:l,children:Object(jt.jsx)(mn,{className:en.a.pauseButton})}),Object(jt.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:t.isShowTransition?"visible":"hidden"}}),t.isLoading&&Object(jt.jsx)(xn,{})]})})),_n=function(e){var t,n,r=e.toggleModal,i=et().playerStore,a=Object(c.useRef)(null);return t=a,n=function(){return r(!1)},Object(c.useEffect)((function(){var e=function(e){(null===t||void 0===t?void 0:t.current)&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]),Object(jt.jsxs)("div",{className:Kt.a.container,ref:a,children:[Object(jt.jsx)(gn,{store:i}),Object(jt.jsx)("div",{className:Kt.a.userWrapper,children:Object(jt.jsx)(Yt,{})}),Object(jt.jsx)(Ht,{})]})},yn=(Object(b.a)(_n),n(461)),Cn=n(462),wn=n(455),Sn=n(456),In=Object(b.a)((function(){var e=et(),t=e.editorStore,n=e.userStore,r=Object(c.useState)(!1),i=Object(Ct.a)(r,2),a=i[0],o=i[1],s=Object(c.useState)([]),u=Object(Ct.a)(s,2),l=u[0],d=u[1],b=Object(c.useState)(!1),p=Object(Ct.a)(b,2),f=p[0],j=p[1],m=Object(h.g)(),v=Object(c.useCallback)((function(){de.getUserVideos(40,0).then((function(e){var t=e.data;d(t.list),n.setSumVideosSeconds(t.list)})).catch((function(e){return console.error(e)}))}),[]);Object(c.useEffect)((function(){v()}),[]);var O=function(e){return o(e)},x=function(){return j(!1)};return Object(jt.jsxs)("div",{className:It.a.container,children:[Object(jt.jsxs)("div",{className:It.a.title,children:[Object(jt.jsx)("p",{children:"My Portfolio"}),Object(jt.jsx)("p",{children:"Recent Videos"})]}),Object(jt.jsxs)("ul",{className:It.a.list,children:[Object(jt.jsx)("button",{className:It.a.addButton,onClick:function(){return j(!0)},children:Object(jt.jsx)("img",{src:wt,alt:"Add icon"})}),Object(jt.jsxs)(yn.a,{open:f,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(jt.jsx)(Cn.a,{id:"alert-dialog-title",children:"Current video will be deleted. Continue?"}),Object(jt.jsxs)(wn.a,{children:[Object(jt.jsx)(Sn.a,{onClick:x,color:"primary",children:"Cancel"}),Object(jt.jsx)(Sn.a,{onClick:function(e){t.clearStore(),m.push("/")},color:"primary",autoFocus:!0,children:"OK"})]})]}),l.map((function(e,t){return Object(jt.jsx)(Lt,{item:e,index:t,openModal:O,updateList:v},t)}))]}),Object(jt.jsx)(zt,{isOpen:a,toggleModal:O,children:Object(jt.jsx)(_n,{toggleModal:O})})]})})),kn=Object(b.a)((function(){var e=et(),t=e.userStore,n=e.uiStore;return Object(c.useEffect)((function(){n.isLoadingApp&&(n.isLoadingApp=!1)}),[]),Object(jt.jsxs)("div",{className:nt.a.container,children:[t.user&&Object(jt.jsx)(yt,{user:t.user}),Object(jt.jsx)(In,{})]})})),Pn=n(11),Tn=n(71),Nn=n(132),En=n.n(Nn),Bn=n(156),An=n.n(Bn),Ln=function(e){var t=e.title,n=e.children;return Object(jt.jsxs)("div",{className:An.a.container,children:[Object(jt.jsx)("h2",{className:An.a.title,children:t}),n]})},Gn=n(217),Mn=n(96),Dn=n(157),Vn=n.n(Dn),Rn=n(103),Wn=n.n(Rn),zn=n.p+"static/media/closeIcon.0b48234f.svg",Fn=function(e){var t=e.value,n=e.placeholder,r=e.onChange;return Object(jt.jsxs)("div",{className:Wn.a.container,children:[Object(jt.jsx)("input",{onChange:function(e){return r(e.target.value)},value:t,placeholder:n,className:Wn.a.input}),t&&Object(jt.jsx)("div",{className:Wn.a.buttonsBlock,children:Object(jt.jsx)("button",{type:"button",className:Wn.a.clearButton,onClick:function(){return r("")},children:Object(jt.jsx)("img",{src:zn,alt:"Close icon"})})})]})},Un=new Mn.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");!function(e){e.Trending="trending",e.Search="search"}(fn||(fn={})),function(e){e.Gifs="gifs",e.Stickers="stickers",e.Text="text"}(jn||(jn={}));var Hn=function(e){var t=e.width,n=e.searchText,r=e.fetchType,a=e.type,c=et().editorStore;return Object(jt.jsx)(Gn.Grid,{fetchGifs:function(e){return r===fn.Search?Un.search(n,{offset:e,limit:10,type:a}):r===fn.Trending?Un.trending({offset:e,limit:10,type:a}):Un.trending({offset:e,limit:10})},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),null!==c.activeCutIndex?(c.addGif(e,c.activeCutIndex),c.mode=i.EditGifs):alert("\u0422\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b \u043a\u0443\u0441\u043e\u0447\u0435\u043a!")}})},Jn=Object(b.a)((function(e){var t=e.type,n=o.a.createRef(),r=Object(c.useState)(null),i=Object(Ct.a)(r,2),a=i[0],s=i[1],u=Object(c.useState)(""),l=Object(Ct.a)(u,2),d=l[0],b=l[1],p=Object(c.useState)(!0),h=Object(Ct.a)(p,2),f=h[0],j=h[1];return Object(c.useEffect)((function(){n&&s(n.current.offsetWidth)}),[n]),Object(c.useEffect)((function(){var e=setTimeout((function(){j(!0)}),1e3);return function(){return clearTimeout(e)}}),[d]),Object(jt.jsxs)("div",{ref:n,className:Vn.a.root,children:[Object(jt.jsx)(Fn,{placeholder:"Search with GIPHY",value:d,onChange:function(e){j(!1),b(e)}}),a&&Object(jt.jsxs)("div",{className:Vn.a.gifsPanel,children:[f&&""===d&&Object(jt.jsx)(Hn,{width:a,searchText:d,fetchType:fn.Trending,type:t}),f&&""!==d&&Object(jt.jsx)(Hn,{width:a,searchText:d,fetchType:fn.Search,type:t}),Object(jt.jsx)(ln.a,{onResize:function(e){e.width}})]})]})})),qn=Object(b.a)((function(e){var t=e.type;return Object(jt.jsx)(Ln,{title:"Add Gif",children:Object(jt.jsx)(Jn,{type:t})})})),Yn=n(104),Qn=n.n(Yn),Kn=function(e){var t=e.value,n=e.isActive,r=e.icon,i=e.onClick;return Object(jt.jsx)("div",{onClick:function(){return i(t)},className:Zt()(Qn.a.tabItem,Object(Pn.a)({},Qn.a.active,n)),children:Object(jt.jsx)("img",{src:r,className:Zt()(Qn.a.icon,Object(Pn.a)({},Qn.a.activeIcon,n)),alt:"Source icon"})})},Xn=n(219),Zn=n.n(Xn),$n=function(e){var t=e.tabs,n=e.activeTab,r=e.handleClick;return Object(jt.jsx)("div",{className:Zn.a.container,children:t.map((function(e){var t=e.icon,i=e.id;return Object(jt.jsx)(Kn,{icon:t,isActive:i===n,value:i,onClick:r},i)}))})},er=n(220),tr=n(457),nr=n(458),rr=n(133),ir=n.n(rr),ar="blue",cr="red",or="lightBlue",sr=n(64),ur=n.n(sr),lr=n.p+"static/media/close.f88f3a6a.svg",dr=function(e){var t,n=e.text,r=e.type,i=e.active,a=e.disabled,c=e.colorTheme,o=e.withBorder,s=e.deleteButton,u=e.onClick,l=e.onDelete;return Object(jt.jsxs)("button",{className:Zt()(ur.a.button,(t={},Object(Pn.a)(t,ur.a.active,i),Object(Pn.a)(t,ur.a.disabled,a),Object(Pn.a)(t,ur.a.withBorder,o),Object(Pn.a)(t,ur.a.redTheme,c===cr),Object(Pn.a)(t,ur.a.blueTheme,c===ar),Object(Pn.a)(t,ur.a.lightBlueTheme,c===or),t)),disabled:a,type:r||"submit",onClick:u,children:[n,s&&Object(jt.jsx)("div",{className:ur.a.delete,onClick:l,children:Object(jt.jsx)("img",{src:lr,alt:"close icon"})})]})},br=n(134),pr=n.n(br),hr=n(79),fr=n.n(hr),jr=n.p+"static/media/close.b731002b.svg",mr=n.p+"static/media/playIcon.737e8ec2.svg",vr=Object(b.a)((function(e){var t=e.cut,n=e.idx,r=(e.isActive,e.isChosenSource),i=(e.onClick,et().editorStore),a=Object(c.useRef)(null),o=Object(c.useRef)(null),s=Object(c.useState)(!1),u=Object(Ct.a)(s,2),l=u[0],d=u[1],b=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.createCurrentCuts(i.cuts),e.next=3,be.playOne(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},h=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(c.useEffect)((function(){var e=a.current;return e&&(e.addEventListener("mouseover",(function(){d(!0),p()})),e.addEventListener("mouseout",(function(){d(!1),h()}))),function(){e&&(e.removeEventListener("mouseover",(function(){p()})),e.removeEventListener("mouseout",(function(){h()})))}}),[a]),Object(jt.jsxs)("div",{className:Zt()(fr.a.wrapper,Object(Pn.a)({},fr.a.isChosenSource,r)),children:[Object(jt.jsx)("div",{className:fr.a.buttons,children:Object(jt.jsx)("button",{onClick:function(){return i.removeCut(n)},children:Object(jt.jsx)("img",{src:jr,alt:"Close icon"})})}),Object(jt.jsxs)("div",{className:fr.a.playerWrapper,ref:a,children:[Object(jt.jsx)(Pt.a,{ref:o,width:"100%",height:"100%",url:i.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,o.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(jt.jsx)("button",{onClick:b,className:Zt()(fr.a.playButton,Object(Pn.a)({},fr.a.isVisible,l)),children:Object(jt.jsx)("img",{src:mr,alt:"Play icon"})})]})]})}));var Or,xr,gr=Object(b.a)((function(){var e=et().editorStore,t=Object(c.useState)(""),n=Object(Ct.a)(t,2),r=n[0],i=n[1],a=function(){var t=Object(E.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createCurrentCuts(e.cuts),e.currentCutIndex=n,t.next=4,be.preloadCut(e.activePlayerIndex,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){var t=e.sources[e.currentSourceIndex];void 0!==t&&i(t.url)}),[e.currentSourceIndex]),e.cuts.length,Object(jt.jsx)("div",{className:pr.a.cutsPanel,children:e.sources.length>0?Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)(Tn.c,{droppableId:"column-1",direction:"horizontal",children:function(t){return Object(jt.jsx)("div",Object(P.a)(Object(P.a)({className:pr.a.cutsList},t.droppableProps),{},{ref:t.innerRef,children:e.cuts.map((function(t,n){return Object(jt.jsx)(Tn.b,{draggableId:t.id.toString(),index:n,children:function(i){return Object(jt.jsx)("div",Object(P.a)(Object(P.a)(Object(P.a)({},i.draggableProps),i.dragHandleProps),{},{ref:i.innerRef,children:Object(jt.jsx)(vr,{idx:n,cut:t.time,isActive:n===e.activeCutIndex,onClick:a,isChosenSource:t.url===r},t.id)}))}},t.id)}))}))}})}):Object(jt.jsx)(tr.a,{container:!0,className:pr.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})),_r=Object(b.a)((function(){var e=et(),t=e.editorStore,n=e.userStore,r=Object(c.useState)(""),a=Object(Ct.a)(r,2),s=a[0],u=a[1],l=o.a.useState(null),d=Object(Ct.a)(l,2),b=d[0],p=d[1],h=function(e){f()?e&&p(e.currentTarget):(t.addSource(s),n.setIsShowContent(!1),n.changeTab(""),u(""))},f=function(){var e,n=Object(er.a)(t.sources);try{for(n.s();!(e=n.n()).done;){if(e.value.url===s)return!0}}catch(r){n.e(r)}finally{n.f()}return!1},j=function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Boolean(b),v=m?"simple-popover":void 0;return Object(jt.jsxs)(Ln,{title:"All frames",children:[t.mode!==i.Show&&Object(jt.jsxs)(tr.a,{container:!0,direction:"column",children:[Object(jt.jsx)(tr.a,{className:ir.a.searchLine,item:!0,children:Object(jt.jsxs)("form",{className:ir.a.form,onSubmit:function(e){e.preventDefault(),s&&h()},children:[Object(jt.jsx)("div",{className:ir.a.inputWrapper,children:Object(jt.jsx)(Fn,{value:s,onChange:function(e){return u(e)},placeholder:"Paste the video link here"})}),Object(jt.jsx)(dr,{type:"button",text:"Add source",disabled:""===s,onClick:h,colorTheme:ar}),Object(jt.jsx)(nr.a,{id:v,open:m,anchorEl:b,onClose:function(){p(null),u("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(jt.jsx)("span",{children:"You already have this source."})})]})}),Object(jt.jsx)(tr.a,{item:!0,container:!0,spacing:2,children:t.sources.map((function(e,n){return Object(jt.jsx)(tr.a,{item:!0,children:Object(jt.jsx)(dr,{text:"Source ".concat(n+1),onClick:function(){return j(n)},onDelete:function(e){return function(e,n){return e.stopPropagation(),t.removeSource(n),n>0?j(n-1):0===n&&t.sources.length?j(0):void 0}(e,n)},deleteButton:!0,colorTheme:or,active:n===t.currentSourceIndex})},e.id)}))})]}),Object(jt.jsx)(gr,{})]})})),yr=function(e){var t=e.type;return Object(jt.jsx)(Ln,{title:"Add Text",children:Object(jt.jsx)(Jn,{type:t})})},Cr=n(105),wr=n.n(Cr),Sr=n(222),Ir=n.n(Sr),kr=[{id:"default",text:"\u0411\u0435\u0437 \u0447\u0435\u0440\u043d\u043e\u0433\u043e \u0444\u043e\u043d\u0430"},{id:"black",text:"\u0421 \u0447\u0435\u0440\u043d\u044b\u043c \u0444\u043e\u043d\u043e\u043c"}],Pr=n(159),Tr=n.n(Pr),Nr=function(e){var t=e.isActive,n=e.text,r=e.id,i=e.onClick;return Object(jt.jsx)("button",{className:Zt()(Tr.a.button,Object(Pn.a)({},Tr.a.isActive,t)),onClick:function(){return i(r)},children:n})},Er=function(){var e=Object(c.useState)(kr[0].id),t=Object(Ct.a)(e,2),n=t[0],r=t[1];return Object(jt.jsx)(Ln,{title:"Transitions",children:Object(jt.jsx)("ul",{className:Ir.a.list,children:kr.map((function(e){var t=e.text,i=e.id;return Object(jt.jsx)(Nr,{text:t,id:i,isActive:n===i,onClick:r},i)}))})})},Br=function(e){var t=e.type;return Object(jt.jsx)(Ln,{title:"Add Stickers",children:Object(jt.jsx)(Jn,{type:t})})},Ar=n.p+"static/media/arrow.a4af7684.svg",Lr=(Or={},Object(Pn.a)(Or,Ve,Object(jt.jsx)(_r,{})),Object(Pn.a)(Or,ze,Object(jt.jsx)(qn,{type:jn.Gifs})),Object(Pn.a)(Or,We,Object(jt.jsx)(yr,{type:jn.Text})),Object(Pn.a)(Or,Re,Object(jt.jsx)(Er,{})),Object(Pn.a)(Or,Fe,Object(jt.jsx)(Br,{type:jn.Stickers})),Or),Gr=Object(b.a)((function(){var e=et().userStore;return Object(jt.jsxs)("div",{className:Zt()(wr.a.container,Object(Pn.a)({},wr.a.isActive,e.isShowContent)),children:[Object(jt.jsx)($n,{tabs:Ue,handleClick:function(t){e.changeTab(t),e.setIsShowContent(!0)},activeTab:e.tab}),e.isShowContent&&Object(jt.jsx)("div",{className:wr.a.content,children:Lr[e.tab]}),e.isShowContent&&Object(jt.jsx)("div",{className:wr.a.hideBlock,children:Object(jt.jsx)("button",{onClick:function(){e.setIsShowContent(!1),e.changeTab("")},children:Object(jt.jsx)("img",{src:Ar,alt:"arrow icon"})})})]})})),Mr=n(62),Dr=n.n(Mr),Vr=n(459),Rr=n(128),Wr=n.n(Rr),zr=n(160),Fr=n.n(zr),Ur=n(20),Hr=n(463),Jr=n(464),qr=n(106),Yr=n.n(qr),Qr=n.p+"static/media/mouse.bd54b72f.svg",Kr=Object(Ur.a)({tooltip:{display:"flex",alignItems:"center",backgroundColor:"#ebf8ff",color:"#00a3ff",fontSize:14,height:24,borderRadius:2,padding:"5 4",zIndex:100},tooltipPlacementTop:{marginRight:15,marginLeft:15}})(Hr.a),Xr=function(e){var t,n=e.value,r=e.index,i=e.onWheel,a=null===(t=n)?{hours:"00",mins:"00",seconds:"00",fract:"0"}:{hours:Ot(Math.floor(t/60/60)),mins:Ot(Math.floor(t/60%60)),seconds:Ot(Math.floor(t%60)),fract:Math.floor(10*(t-Math.floor(t)))},c=a.hours,o=a.mins,s=a.seconds,u=a.fract;return Object(jt.jsxs)("div",{className:Yr.a.tooltipContainer,children:["00"!==c&&Object(jt.jsxs)("span",{onWheel:i.bind(null,r,"hours"),children:[c,":"]}),Object(jt.jsxs)("span",{onWheel:i.bind(null,r,"mins"),children:[o,":"]}),Object(jt.jsxs)("div",{onWheel:i.bind(null,r,"seconds"),children:[s,"."]}),Object(jt.jsx)("span",{onWheel:i.bind(null,r,"fract"),children:u}),Object(jt.jsx)("img",{src:Qr,alt:"mouse icon",className:Yr.a.tooltipIcon})]})},Zr=function(e,t){var n=t.children,r=t.open,i=t.value,a=t.index;return Object(jt.jsx)(Kr,{open:r,enterTouchDelay:0,placement:0===a?"top-end":"top-start",title:Object(jt.jsx)(Xr,{onWheel:e,value:i,index:a}),interactive:!0,children:n})},$r=Object(Ur.a)({root:{display:"flex",alignItems:"center",color:"#00a3ff",height:8},thumb:{height:34,width:10,backgroundColor:"#fff",border:"4px solid currentColor",borderRadius:4,marginTop:0,marginLeft:-8,"&:focus, &:hover, &$active":{boxShadow:"0 0 8px 0 #00a3ff"}},active:{},valueLabel:{},track:{height:34,border:"1px solid rgba(0, 163, 255, 0.55)",backgroundColor:"#6BCAFF"},rail:{height:4,borderRadius:2,backgroundColor:"#a5b4cb"}})(Jr.a),ei=Object(b.a)((function(e){var t=e.value,n=e.onChange,r=e.onWheel,i=e.max,a=e.min,o=e.step,s=et().userStore;return Object(c.useEffect)((function(){}),[s.isShowContent]),Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)($r,{value:t,ValueLabelComponent:Zr.bind(null,r),onChange:n,valueLabelDisplay:"on","aria-labelledby":"custom-slider",min:a,max:i,step:o,classes:{root:Yr.a.slider,valueLabel:Yr.a.label}})})})),ti=n.p+"static/media/applyBtn.51086de1.svg",ni=n.p+"static/media/deleteBtn.289b9a98.svg",ri=Object(b.a)((function(e){var t=et().editorStore,n=Object(c.useState)([0,0]),r=Object(Ct.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)([0,0]),s=Object(Ct.a)(o,2),u=s[0],l=s[1];Object(c.useEffect)((function(){pe.setCustomGifData(null),null!==t.selectedGifId&&a(pe.getGifTime(t.selectedGifId))}),[t.selectedGifId]),Object(c.useEffect)((function(){if(null!==t.selectedGifId){var e=pe.getCutTime(t.selectedGifId),n=e.startTime,r=e.endTime;l([n,r])}}),[t.selectedGifId]);var d=function(e,n){null!==t.selectedGifId&&(a(n),b())},b=function(){null!==t.selectedGifId&&pe.setGifTime(t.selectedGifId,i)},p=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.createCurrentCuts(t.shotCuts),e.next=3,be.playOne(t.currentCutIndex,!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(jt.jsx)(jt.Fragment,{children:t.selectedGifId&&Object(jt.jsxs)("div",{className:Fr.a.container,children:[Object(jt.jsx)(Vr.a,{"aria-label":"play",classes:{root:Fr.a.btn},onClick:p,children:Object(jt.jsx)(Wr.a,{})}),Object(jt.jsx)(ei,{value:i,onChange:d,onWheel:function(e,t,n){var r={hours:3600,mins:60,seconds:1,fract:.1}[t],a=i.slice();if(n.deltaY<0){if(a[e]=a[e]+r,a[e]>u[1])return;d(0,a)}else{if(a[e]=a[e]-r,a[e]<u[0])return;d(0,a)}},max:u[1],min:u[0],step:.1}),Object(jt.jsx)(Vr.a,{"aria-label":"thumbUp",onClick:b,children:Object(jt.jsx)("img",{src:ti,alt:"apply-icon"})}),Object(jt.jsx)(Vr.a,{"aria-label":"delete",onClick:function(){null!==t.selectedGifId&&(pe.deleteGif(t.selectedGifId),t.selectedGifId=null)},children:Object(jt.jsx)("img",{src:ni,alt:"delete-icon"})})]})})})),ii=n(161),ai=n.n(ii),ci=Object(b.a)((function(e){var t=et().editorStore,n=Object(c.useState)([]),r=Object(Ct.a)(n,2),i=r[0],a=r[1],o=function(){var e=Object(E.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.quickMoveToPosition(n.startShowTime);case 2:t.selectedGifId=n.id;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=null!==t.activeCutIndex?pe.getGifListForCut(t.activeCutIndex):[];a(e)}),[t.activeCutIndex,t.gifs]),Object(jt.jsx)("div",{children:t.isShowGifList&&i.length>0?i.map((function(e){return Object(jt.jsx)("img",{src:e.src,alt:"gif_"+e.id,className:Zt()(ai.a.gif,Object(Pn.a)({},ai.a.isSelected,e.id===t.selectedGifId)),onClick:o.bind(null,e)},e.id)})):null})})),oi=n(91),si=n.n(oi),ui=Object(b.a)((function(e){var t=et().editorStore,n=Object(c.useState)([0,0]),r=Object(Ct.a)(n,2),i=r[0],a=r[1],o=Object(c.useState)([0,0]),s=Object(Ct.a)(o,2),u=s[0],l=s[1];Object(c.useEffect)((function(){var e=function(){if(null===t.editCutIndex||void 0===t.currentCuts[t.editCutIndex])return[0,0];var e=t.currentCuts[t.editCutIndex].time;return[e.startTime,e.endTime]}();a(e);var n=be.getCurrentPlayerDuration()||0,r=Math.max(0,e[0]-30),i=Math.min(n,e[1]+30);l([r,i])}),[t.currentCuts,t.editCutIndex]);var d=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.editCutIndex){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,be.playOne(t.editCutIndex,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e,n){null!==t.editCutIndex&&(n[0]!==i[0]&&n[0]<i[1]?(t.currentCuts[t.editCutIndex].time.startTime=i[0],p(n[0])):n[1]!==i[1]&&n[1]>i[0]&&(t.currentCuts[t.editCutIndex].time.endTime=i[1],h(n[1])))},p=function(e){a([e,i[1]]),be.quickMoveToPosition(e)},h=function(e){a([i[0],e]),be.quickMoveToPosition(e)};return Object(jt.jsx)(jt.Fragment,{children:null!==t.editCutIndex&&Object(jt.jsxs)("div",{className:si.a.container,children:[Object(jt.jsx)(Vr.a,{"aria-label":"play",classes:{root:si.a.playBtn},onClick:d,children:Object(jt.jsx)(Wr.a,{})}),Object(jt.jsx)("span",{className:si.a.duration,children:xt(i[1]-i[0],!0)}),Object(jt.jsx)(ei,{value:i,onChange:b,onWheel:function(e,t,n){var r={hours:3600,mins:60,seconds:1,fract:.1}[t],a=i.slice();if(n.deltaY<0){if(a[e]=a[e]+r,a[e]>u[1])return;b(0,a)}else{if(a[e]=a[e]-r,a[e]<u[0])return;b(0,a)}},max:u[1],min:u[0],step:.1}),Object(jt.jsx)("div",{className:si.a.btn,children:Object(jt.jsx)(dr,{text:"Cancel",withBorder:!0,onClick:function(){return t.editCutIndex=null}})}),Object(jt.jsx)("div",{className:si.a.btn,children:Object(jt.jsx)(dr,{text:"Done",colorTheme:ar,onClick:function(){null!==t.editCutIndex&&(t.shotCuts[t.editCutIndex].time.startTime=i[0],t.shotCuts[t.editCutIndex].time.endTime=i[1],t.createCurrentCuts(t.shotCuts),t.editCutIndex=null)}})})]})})}));function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function di(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bi(e,t){var n=e.title,r=e.titleId,i=di(e,["title","titleId"]);return c.createElement("svg",li({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,xr||(xr=c.createElement("path",{d:"M14.7498 0.5C21.7248 0.5 27.6198 5.045 29.7048 11.33L26.1498 12.5C24.5748 7.715 20.0598 4.25 14.7498 4.25C11.8098 4.25 9.15476 5.33 7.06976 7.07L10.9998 11H0.499756V0.5L4.39976 4.4C7.17476 2 10.7748 0.5 14.7498 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var pi,hi=c.forwardRef(bi);n.p;function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ji(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mi(e,t){var n=e.title,r=e.titleId,i=ji(e,["title","titleId"]);return c.createElement("svg",fi({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,pi||(pi=c.createElement("path",{d:"M15.4551 0.5C8.48008 0.5 2.58508 5.045 0.50008 11.33L4.05508 12.5C5.63008 7.715 10.1451 4.25 15.4551 4.25C18.3951 4.25 21.0501 5.33 23.1351 7.07L19.2051 11H29.7051V0.5L25.8051 4.4C23.0301 2 19.4301 0.5 15.4551 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var vi=c.forwardRef(mi),Oi=(n.p,function(e){var t=e.sec,n=e.style,r=t<0?hi:vi;return Object(jt.jsxs)("button",{style:n,className:Dr.a.rewButton,onClick:function(){return be.rewindOn(t)},children:[Object(jt.jsx)(r,{className:Dr.a.arrow}),Object(jt.jsx)("span",{children:Math.abs(t)})]})}),xi=function(e){Object(y.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(x.a)(this,n),(r=t.call(this,e)).state=void 0,r.onAddCut=function(){var e=r.state.cut;e&&e.endTime-e.startTime!==0&&(Ee.addCutAndShot(e),r.setState({startTime:0,endTime:0}))},r.onStartFrame=function(){var e=r.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.startTime=Ee.timePosition,t.endTime<Ee.timePosition&&(t.endTime=Ee.timePosition+5),r.setState({cut:t})},r.onEndFrame=function(){var e=r.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.endTime=Ee.timePosition,t.startTime>Ee.timePosition&&(t.startTime=Ee.timePosition-5),r.setState({cut:t},(function(){return r.onAddCut()}))},r.onMouseDownHandler=function(){r.setState({record:!0}),r.onStartFrame()},r.onMouseUpHandler=function(){r.setState({record:!1}),r.onEndFrame()},r.state={cut:null,playing:!1,record:!1},r}return Object(g.a)(n,[{key:"componentWillUnmount",value:function(){be.sendTimePosition()}},{key:"render",value:function(){var e=this.state.record;return Object(jt.jsxs)("div",{className:Dr.a.container,children:[G.isDev&&Object(jt.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",Ee.activePlayerIndex,"/",Ee.players.length-1," Cut:"," ",Ee.currentCutIndex,"/",Ee.currentCuts.length-1," Source:"," ",Ee.currentSourceIndex,"/",Ee.sources.length-1]}),Object(jt.jsx)(gn,{store:Ee}),Ee.mode!==i.Show&&Ee.sources.length>0?Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)("div",{children:xt(Ee.timePosition,!0)}),Object(jt.jsx)(ci,{}),Object(jt.jsx)(ri,{}),Ee.isShowRecButton&&Object(jt.jsxs)("div",{className:Dr.a.buttonsContainer,children:[[-10,-5,-1].map((function(e){return Object(jt.jsx)(Oi,{sec:e,style:{marginTop:10}},e)})),Object(jt.jsx)("button",{className:Zt()(Dr.a.recButton,Object(Pn.a)({},Dr.a.active,e)),onMouseDown:this.onMouseDownHandler,onMouseUp:this.onMouseUpHandler,children:e?"stop rec":"start rec"}),[1,5,10].map((function(e){return Object(jt.jsx)(Oi,{sec:e,style:{marginTop:10}},e)}))]}),Object(jt.jsx)(ui,{})]}):Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)("div",{className:Dr.a.previewButtons,children:Object(jt.jsx)(Sn.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return be.changeModeToCreate(0)},children:"Make your own trailer"})})})]})}}]),n}(o.a.Component),gi=Object(b.a)(xi),_i=n(107),yi=n.n(_i),Ci=G.agora.appId,wi=G.agora.appToken;console.log("agora sdk version: "+yi.a.VERSION+" compatible: "+yi.a.checkSystemRequirements());var Si,Ii,ki=new(function(){function e(){var t=this;Object(x.a)(this,e),this.client=void 0,this.localAudioTrack=null,this.uid=null,this.client=yi.a.createClient({mode:"live",codec:"h264"}),this.client.on("user-published",function(){var e=Object(E.a)(N.a.mark((function e(n,r){var i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.subscribe(n,r);case 2:console.log("subscribe success"),"audio"===r&&(null===(i=n.audioTrack)||void 0===i||i.play());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}return Object(g.a)(e,[{key:"join",value:function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.join(Ci,"EyeMo",wi);case 3:return this.uid=e.sent,e.next=6,this.client.setClientRole("host");case 6:return e.next=8,yi.a.createMicrophoneAudioTrack();case 8:return this.localAudioTrack=e.sent,e.next=11,this.client.publish([this.localAudioTrack]);case 11:return e.next=13,this.disableMic();case 13:Ee.isConnectedChat=!0,console.log("Publish success!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error on join to chat: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=this.localAudioTrack)||void 0===t||t.close(),e.next=4,this.client.leave();case 4:Ee.isConnectedChat=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on leave chat: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"enableMic",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!0);case 3:Ee.isEnableMic=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on enable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableMic",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!1);case 3:Ee.isEnableMic=!1,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on disable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserCount",value:function(){return console.log("Number of users: "+this.client.getRTCStats().UserCount),this.client.getRTCStats().UserCount}}]),e}()),Pi=n.p+"static/media/userIcon.401c41c6.svg",Ti=n(224),Ni=n.n(Ti),Ei=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Bi=function(){return Object(jt.jsx)("li",{className:Ni.a.item,style:{backgroundColor:Ei()},children:Object(jt.jsx)("img",{src:Pi,alt:"User icon"})})},Ai=n.p+"static/media/mic.7674c511.svg",Li=n.p+"static/media/mic-white.1fcdc1a6.svg",Gi=n(74),Mi=n.n(Gi),Di=Object(b.a)((function(){var e=et().editorStore,t=Object(c.useState)(!1),n=Object(Ct.a)(t,2),r=n[0],i=n[1],a=ki.getUserCount(),o=function(){var t=Object(E.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnectedChat){t.next=5;break}return t.next=3,ki.leave();case 3:t.next=7;break;case 5:return t.next=7,ki.join();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(E.a)(N.a.mark((function t(){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEnableMic){t.next=5;break}return t.next=3,ki.disableMic();case 3:t.next=7;break;case 5:return t.next=7,ki.enableMic();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){i(e.isConnectedChat)}),[e.isConnectedChat]),Object(jt.jsxs)("div",{className:Mi.a.container,children:[Object(jt.jsx)("h2",{className:Mi.a.title,children:"Voice Room"}),Object(jt.jsxs)("div",{className:Mi.a.wrapper,children:[r&&a&&Object(jt.jsx)("ul",{className:Mi.a.memberList,children:Object(v.a)(Array(a)).map((function(e){return Object(jt.jsx)(Bi,{})}))}),Object(jt.jsx)(dr,{onClick:o,text:r?"Leave":"Join the room",colorTheme:r?cr:ar}),Object(jt.jsxs)("div",{className:Mi.a.micBlock,children:[Object(jt.jsx)("button",{onClick:s,className:Zt()(Mi.a.micButton,Object(Pn.a)({},Mi.a.micOff,!e.isEnableMic)),children:Object(jt.jsx)("img",{src:e.isEnableMic?Ai:Li,alt:"Mute"})}),Object(jt.jsx)("p",{children:e.isEnableMic?"You're Live":"Tap to Unmute"})]})]})]})})),Vi={cuts:{},columns:{"column-1":{id:"column-1",title:"Cuts",cutIds:[]},"column-2":{id:"column-2",title:"PlayList",cutIds:[]}},columnOrder:["column-1","column-2"]},Ri=n(75),Wi=n.n(Ri),zi=n(35),Fi=n.n(zi),Ui=function(e,t,n){Object(c.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){n(!0)})),t.addEventListener("mouseleave",(function(){n(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){n(!1)})),t.removeEventListener("mouseleave",(function(){n(!1)})))}}),[e,t])},Hi=n.p+"static/media/actionIcon.120e19fc.svg",Ji=n.p+"static/media/actionIconActive.e6f6af32.svg",qi=n.p+"static/media/duplicate.9ce441d6.svg",Yi=n.p+"static/media/edit.7081d9c8.svg",Qi=n.p+"static/media/delete.0b5bed2b.svg",Ki=n(225),Xi=n.n(Ki),Zi=function(e){var t=e.text,n=e.image,r=e.onClick;return Object(jt.jsxs)("button",{className:Xi.a.container,onClick:r,children:[t&&Object(jt.jsx)("p",{children:t}),Object(jt.jsx)("img",{src:n,alt:t})]})},$i=n.p+"static/media/playIcon.737e8ec2.svg",ea=[{text:"Add Text",id:We},{text:"Add Gif",id:ze},{text:"Add Sticker",id:Fe},{text:"Add Image",id:"image"}],ta=Object(b.a)((function(e){var t=e.cut,n=e.index,r=e.isActiveShot,a=e.deleteCut,o=e.setActiveShot,s=Object(c.useRef)(null),u=Object(c.useRef)(null),l=Object(c.useState)(!1),d=Object(Ct.a)(l,2),b=d[0],p=d[1],h=et(),f=h.editorStore,j=h.userStore,m=Object(c.useState)(!1),v=Object(Ct.a)(m,2),O=v[0],x=v[1],g=Object(c.useState)(!1),_=Object(Ct.a)(g,2),y=_[0],C=_[1];Object(c.useEffect)((function(){n===f.currentCutIndex?C(!0):C(!1)}),[f.currentCutIndex,n]);var w=function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),f.createCurrentCuts(f.shotCuts),e.next=4,be.playOne(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},k=function(){var e=u.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};Object(c.useEffect)((function(){var e=s.current;return e&&(e.addEventListener("mouseover",(function(){p(!0),S()})),e.addEventListener("mouseout",(function(){p(!1),k()}))),function(){e&&(e.removeEventListener("mouseover",(function(){S()})),e.removeEventListener("mouseout",(function(){k()})))}}),[s]);var T=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(t.id),f.mode=i.EditGifs,f.activeCutIndex=n,f.currentCutIndex=n,f.selectedGifId=null,f.editCutIndex!==f.currentCutIndex&&(f.editCutIndex=null),f.createCurrentCuts(f.shotCuts),e.next=9,be.preloadCut(f.activePlayerIndex,n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,T();case 3:f.mode=i.EditShot,f.editCutIndex=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Ui(s,O,x),Object(jt.jsxs)("div",{className:Fi.a.container,ref:s,onClick:T,children:[Object(jt.jsxs)("div",{className:Zt()(Fi.a.actionBlock,Object(Pn.a)({},Fi.a.isActive,O)),children:[Object(jt.jsx)("img",{src:Hi,alt:"Action icon",className:Fi.a.defaultIcon}),Object(jt.jsx)("img",{src:Ji,alt:"Action icon",className:Fi.a.activeIcon}),Object(jt.jsx)("div",{className:Fi.a.listWrapper,children:Object(jt.jsx)("ul",{className:Fi.a.list,children:ea.map((function(e){var t=e.text,n=e.id;return Object(jt.jsx)("li",{className:Fi.a.listItem,children:Object(jt.jsx)("button",{onClick:function(){return function(e){j.changeTab(e),j.setIsShowContent(!0)}(n)},children:t})},n)}))})})]}),Object(jt.jsxs)("div",{className:Zt()(Fi.a.videoWrapper,Object(Pn.a)({},Fi.a.isActive,O||r||y)),children:[Object(jt.jsx)("div",{className:Fi.a.block,children:Object(jt.jsxs)("div",{className:Fi.a.blockContent,children:[Object(jt.jsx)("div",{className:Fi.a.topButtons,children:Object(jt.jsx)(Zi,{image:Qi,onClick:function(e){e.stopPropagation(),a(t.id)}})}),Object(jt.jsxs)("div",{className:Fi.a.buttomButtons,children:[Object(jt.jsx)(Zi,{text:"Duplicate",image:qi,onClick:function(){f.shotCuts.push(Object(P.a)(Object(P.a)({},f.shotCuts[n]),{},{id:Object(I.a)()})),f.createCurrentCuts(f.shotCuts)}}),Object(jt.jsx)(Zi,{text:"Edit",image:Yi,onClick:B})]})]})}),Object(jt.jsx)("div",{className:Fi.a.player,children:Object(jt.jsx)(Pt.a,{ref:u,width:"100%",height:"100%",url:t.url,muted:!0,controls:!1,onEnded:function(){return e=t.time.startTime,u.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.time.startTime),end:Math.floor(t.time.endTime)}}}},t.id)})]}),Object(jt.jsx)("button",{onClick:w,className:Zt()(Fi.a.playButton,Object(Pn.a)({},Fi.a.isVisible,b)),children:Object(jt.jsx)("img",{src:$i,alt:"Play icon"})})]})})),na=n.p+"static/media/play.a44af37e.svg",ra=n(162),ia=n.n(ra),aa=Object(b.a)((function(){var e=Object(c.useState)(!1),t=Object(Ct.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),a=Object(Ct.a)(i,2),o=a[0],s=a[1],u=et().editorStore,l=function(){var e=Object(E.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,t({id:u.videoId,name:null,description:null,cuts:u.shotCuts,sources:u.sources,gifs:u.gifs});case 4:s(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),s(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(jt.jsxs)("div",{className:ia.a.container,children:[Object(jt.jsx)(dr,{text:"Clear store",onClick:function(){return u.clearStore()},colorTheme:ar,disabled:o}),Object(jt.jsxs)("div",{className:ia.a.rightBtnGroup,children:[Object(jt.jsx)(dr,{text:u.videoId?"Update":"Save",onClick:function(){return l(u.videoId?de.updateVideo:de.createVideo)},colorTheme:ar}),Object(jt.jsx)(At.a,{text:u.shareUrl(u.videoId)||"",onCopy:function(){r(!0),setTimeout((function(){return r(!1)}),3e3),gtag("event","url-copy",{url:u.shareUrl})},children:Object(jt.jsx)(dr,{text:n?"Copied":"Share",colorTheme:ar,disabled:!u.videoId})})]})]})})),ca=n(92),oa=n.n(ca);function sa(){return(sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ua(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function la(e,t){var n=e.title,r=e.titleId,i=ua(e,["title","titleId"]);return c.createElement("svg",sa({width:22,height:22,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?c.createElement("title",{id:r},n):null,Si||(Si=c.createElement("rect",{x:9.42822,width:3.14289,height:22.0002,rx:1.57144,fill:"#00A3FF"})),Ii||(Ii=c.createElement("rect",{x:22,y:9.42871,width:3.14289,height:22.0002,rx:1.57144,transform:"rotate(90 22 9.42871)",fill:"#00A3FF"})))}var da=c.forwardRef(la),ba=(n.p,Object(b.a)((function(){var e=et(),t=e.userStore,n=e.editorStore,r=Object(c.useRef)(null),i=Object(c.useState)(!1),a=Object(Ct.a)(i,2),o=a[0],s=a[1];Ui(r,o,s);var u=function(){var e=Object(E.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.changeTab(Ve),e.next=3,be.changeModeToCreate(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(jt.jsxs)("div",{ref:r,className:Zt()(oa.a.container,Object(Pn.a)({},oa.a.isActive,o)),children:[n.sources.length>0&&Object(jt.jsx)("ul",{className:oa.a.list,children:n.sources.map((function(e,t){return Object(jt.jsx)("li",{className:oa.a.listItem,children:Object(jt.jsxs)("button",{onClick:function(){return u(t)},children:["Source ",t+1]})},e.id)}))}),Object(jt.jsx)("div",{className:oa.a.dashContainer,children:Object(jt.jsx)(da,{})})]})}))),pa=Object(b.a)((function(e){var t=e.droppableId,n=e.isShowDuration,r=e.deleteCut,i=et(),a=i.editorStore,o=i.userStore,s=Object(c.useState)(null),u=Object(Ct.a)(s,2),l=u[0],d=u[1],b=a.shotCuts.reduce((function(e,t){return t.time?e+t.time.endTime-t.time.startTime:e}),0),p=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.playAll();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){r(e)};return console.log(o.isDragStart),Object(jt.jsxs)("div",{className:Zt()(Wi.a.container,Object(Pn.a)({},Wi.a.isShowDuration,n)),children:[Object(jt.jsxs)("div",{className:Wi.a.player,children:[Object(jt.jsxs)("div",{className:Wi.a.playInfo,children:[Object(jt.jsx)("button",{className:Wi.a.playButton,onClick:p,children:Object(jt.jsx)("img",{src:na,alt:"Play icon"})}),Object(jt.jsx)("p",{children:xt(b)})]}),Object(jt.jsx)(Tn.c,{droppableId:t,direction:"horizontal",children:function(e){return Object(jt.jsxs)("div",Object(P.a)(Object(P.a)({className:Zt()(Wi.a.wrapper,Object(Pn.a)({},Wi.a.isDragStart,o.isDragStart))},e.droppableProps),{},{ref:e.innerRef,children:[a.shotCuts.map((function(e,t){return Object(jt.jsx)(Tn.b,{draggableId:e.id,index:t,children:function(n){return Object(jt.jsx)("div",Object(P.a)(Object(P.a)(Object(P.a)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:Object(jt.jsx)(ta,{index:t,cut:e,isActiveShot:l===e.id,deleteCut:h,setActiveShot:d},e.id)}))}},e.id)})),Object(jt.jsx)(ba,{})]}))}})]}),Object(jt.jsx)(aa,{})]})})),ha=Object(b.a)((function(){var e=et(),t=e.editorStore,n=e.userStore,r=e.uiStore,a=Object(c.useState)(Vi),o=Object(Ct.a)(a,2),s=o[0],u=o[1],l=Object(h.i)().videoId;Object(c.useEffect)((function(){l&&Object(E.a)(N.a.mark((function e(){var n,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.isLoadingApp=!0,e.next=4,de.getVideoById(l);case 4:if(n=e.sent,a=n.data,t.isCleanEditorStore){e.next=10;break}return c=t.videoId?de.updateVideo:de.createVideo,e.next=10,c({id:t.videoId,name:null,description:null,cuts:t.shotCuts,sources:t.sources,gifs:t.gifs});case 10:t.clearStore(),t.loadVideoToStore(a),t.mode=i.Show,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]);var d=function(){var e=Object(E.a)(N.a.mark((function e(n){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.changeModeToCreate(0);case 2:t.removeShotCut(n),r=Object(P.a)(Object(P.a)({},s),{},{columns:Object(P.a)(Object(P.a)({},s.columns),{},Object(Pn.a)({},"column-2",Object(P.a)(Object(P.a)({},s.columns["column-2"]),{},{cutIds:s.columns["column-2"].cutIds.filter((function(e){return e!==n}))})))}),u(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(jt.jsx)(Tn.a,{onDragEnd:function(e){var r=e.destination,i=e.source,a=e.draggableId;if(n.setDragStart(!1),r&&(r.droppableId!==i.droppableId||r.index!==i.index)){if(s.columns[i.droppableId]===s.columns[r.droppableId])return t.replaceShot(a,i.index,r.index);t.addShot(a)}},onDragStart:function(){return n.setDragStart(!0)},children:Object(jt.jsxs)("div",{className:En.a.content,children:[Object(jt.jsxs)("div",{className:En.a.contentWrapper,children:[t.mode!==i.Show&&Object(jt.jsx)(Gr,{}),Object(jt.jsxs)("div",{className:En.a.playerPanel,children:[Object(jt.jsx)(gi,{}),t.mode===i.Show&&Object(jt.jsx)(Di,{})]})]}),t.mode!==i.Show&&Object(jt.jsx)(pa,{droppableId:s.columns["column-2"].id,deleteCut:d,isShowDuration:null!==t.activeCutIndex})]})})})),fa=n(234),ja=function(e){var t=e.component,n=e.permitted,r=e.path,i=Object(fa.a)(e,["component","permitted","path"]);return Object(jt.jsx)(h.b,Object(P.a)(Object(P.a)({},i),{},{render:function(e){return n?Object(jt.jsx)(t,Object(P.a)(Object(P.a)({path:r},e),{},{exact:!0})):Object(jt.jsx)(h.a,{to:"/"})}}))},ma=function(){return Object(jt.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})},va=n.p+"static/media/defaultImage.747489c0.svg",Oa=n(108),xa=n.n(Oa),ga=n(226),_a=n.n(ga),ya=function(e){var t=e.children,n=e.onClick;return Object(jt.jsx)("button",{className:_a.a.button,onClick:n,type:"button",children:t})},Ca=function(){var e=Object(c.useState)(""),t=Object(Ct.a)(e,2),n=t[0],r=t[1],i=o.a.useRef(null),a="string"===typeof n&&n?n:va;return Object(jt.jsxs)("div",{className:xa.a.container,children:[Object(jt.jsx)("p",{className:xa.a.title,children:"Profile picture"}),Object(jt.jsxs)("div",{className:xa.a.imageUploader,children:[Object(jt.jsx)("div",{className:xa.a.imageWrapper,children:Object(jt.jsx)("img",{src:a,alt:"User avatar"})}),Object(jt.jsx)(ya,{onClick:function(e){i.current&&i.current.click()},children:"Change"}),Object(jt.jsx)("input",{type:"file",ref:i,onChange:function(e){var t,n=new FileReader,i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&(n.onloadend=function(){r(n.result)},n.readAsDataURL(i))},style:{display:"none"}})]})]})},wa=n(109),Sa=n.n(wa),Ia=function(e){var t=e.onDelete,n=e.onCancel;return Object(jt.jsxs)("div",{className:Sa.a.container,children:[Object(jt.jsx)("p",{className:Sa.a.title,children:"Delete account?"}),Object(jt.jsx)("p",{className:Sa.a.description,children:"Are you sure you want to delete your account?"}),Object(jt.jsxs)("div",{className:Sa.a.buttons,children:[Object(jt.jsx)(dr,{text:"Cancel",onClick:n}),Object(jt.jsx)(dr,{text:"Delete account",colorTheme:ar,onClick:t})]})]})},ka=n(49),Pa=n.n(ka),Ta=n(227),Na=n.n(Ta),Ea=n.p+"static/media/TikTok.68bfb298.svg",Ba=n(228),Aa=n.n(Ba),La=function(){return Object(jt.jsxs)("button",{className:Aa.a.button,children:[Object(jt.jsx)("img",{src:Ea,alt:"icon"}),Object(jt.jsx)("span",{children:"Tik Tok"})]})},Ga=function(){var e=Object(c.useState)(""),t=Object(Ct.a)(e,2),n=t[0],r=t[1];return Object(jt.jsxs)("div",{children:[Object(jt.jsx)("ul",{className:Na.a.socials,children:Object(v.a)(new Array(3)).map((function(e){return Object(jt.jsx)(La,{})}))}),Object(jt.jsx)(Fn,{value:n,onChange:r,placeholder:"Homepage"})]})},Ma=function(){var e=Object(c.useState)(!1),t=Object(Ct.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),a=Object(Ct.a)(i,2),o=a[0],s=a[1],u=function(){return r(!n)};return Object(jt.jsxs)("div",{className:Pa.a.container,children:[Object(jt.jsx)("p",{className:Pa.a.description,children:"You can see the specified information in your profile"}),Object(jt.jsxs)("form",{children:[Object(jt.jsx)("div",{className:Pa.a.field,children:Object(jt.jsx)(Ca,{})}),Object(jt.jsxs)("div",{className:Pa.a.field,children:[Object(jt.jsx)("p",{className:Pa.a.fieldTitle,children:"Display name"}),Object(jt.jsx)(Fn,{value:o,onChange:s})]}),Object(jt.jsxs)("div",{className:"".concat(Pa.a.field," ").concat(Pa.a.fieldBlock),children:[Object(jt.jsx)("p",{className:Pa.a.fieldTitle,children:"Social networks"}),Object(jt.jsx)("p",{className:Pa.a.description,children:"Add links to social networks that will appear on the channel profile. Viewers will also be able to search for you by them."})]}),Object(jt.jsx)("div",{className:Pa.a.socialsWrapper,children:Object(jt.jsx)(Ga,{})}),Object(jt.jsxs)("div",{className:Pa.a.buttons,children:[Object(jt.jsx)("button",{type:"button",className:Pa.a.deleteButton,onClick:u,children:"Delete account"}),Object(jt.jsx)(dr,{type:"button",text:"Save changes",colorTheme:ar,onClick:function(){return console.log("save")}})]})]}),Object(jt.jsx)(zt,{isOpen:n,toggleModal:u,children:Object(jt.jsx)(Ia,{onCancel:u,onDelete:u})})]})},Da=function(){return Object(jt.jsx)("div",{children:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"})},Va=n(135),Ra=n.n(Va),Wa=function(e){var t=e.tabs,n=e.url;return Object(jt.jsx)("div",{className:Ra.a.container,children:t.map((function(e){return Object(jt.jsx)(p.b,{exact:!0,to:"".concat(n).concat(e.path),className:Ra.a.link,activeClassName:Ra.a.active,children:e.title},e.id)}))})},za=function(){return Object(jt.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})},Fa=n(163),Ua=n.n(Fa),Ha=[{title:"Change profile",id:"profileChange",path:""},{title:"Account settings",id:"account",path:"/account"},{title:"Security",id:"security",path:"/security"},{title:"Statistics",id:"statistics",path:"/statistics"}],Ja=function(){var e=Object(h.j)().url;return Object(jt.jsxs)("div",{className:Ua.a.container,children:[Object(jt.jsx)(Wa,{tabs:Ha,url:e}),Object(jt.jsx)("div",{className:Ua.a.content,children:Object(jt.jsxs)(h.d,{children:[Object(jt.jsx)(h.b,{path:e,exact:!0,component:Ma}),Object(jt.jsx)(h.b,{path:"".concat(e,"/account"),component:ma}),Object(jt.jsx)(h.b,{path:"".concat(e,"/security"),component:Da}),Object(jt.jsx)(h.b,{path:"".concat(e,"/statistics"),component:za})]})})]})},qa=n.p+"static/media/bell.9a40fa42.svg",Ya=n.p+"static/media/logo.79d236b0.svg",Qa=n(136),Ka=n.n(Qa),Xa=n(229),Za=n.n(Xa),$a=n(230),ec=G.google.clientId,tc=Object(b.a)((function(e){var t=e.onLogin,n=e.onError;return Object(jt.jsx)("div",{children:Object(jt.jsx)($a.GoogleLogin,{clientId:ec,buttonText:"Sign in with Google",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin",responseType:"code,token"})})})),nc=n(164),rc=n.n(nc),ic=function(e){var t=e.isOpen,n=e.isError,r=e.login,i=e.handleClose,a=e.handleLoginFailure;return Object(jt.jsx)(zt,{isOpen:t,toggleModal:i,children:Object(jt.jsx)("div",{className:rc.a.container,children:Object(jt.jsxs)("div",{className:rc.a.content,children:[Object(jt.jsx)("p",{children:"Sign In"}),Object(jt.jsx)(tc,{onLogin:r,onError:a}),n&&Object(jt.jsx)("p",{children:"Failed to log in"})]})})})},ac=n.p+"static/media/exit.ad75c228.svg",cc=n.p+"static/media/create.4f45b7d1.svg",oc=n.p+"static/media/settings.04a9772b.svg",sc=n(53),uc=n.n(sc),lc=function(e){var t=e.data,n=t.image,r=t.id,i=t.title;return Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)("div",{className:uc.a.imageWrapper,children:Object(jt.jsx)("img",{src:n,alt:"Icon",className:"user"===r?uc.a.image:uc.a.buttonImage})}),Object(jt.jsx)("span",{className:uc.a.buttonText,children:i})]})},dc=function(e){var t=e.id,n=e.action;switch(t){case"settings":return Object(jt.jsx)(p.b,{to:"/settings",className:uc.a.button,children:Object(jt.jsx)(lc,{data:e})});default:return Object(jt.jsx)("button",{className:uc.a.button,onClick:n,children:Object(jt.jsx)(lc,{data:e})})}},bc=function(e){var t=e.user,n=e.isProfilePage,r=e.logout,i=[{title:t.username,id:"user",image:t.photoUrl||"",action:function(){return console.log("userName")}},{title:"Create a Channel",id:"channel",image:cc,action:function(){return console.log("Create")}},{title:"Settings",id:"settings",image:oc,action:function(){return console.log("Settings")}},{title:"Exit",id:"exit",image:ac,action:function(){return r()}}];return Object(jt.jsxs)("div",{className:uc.a.userBlock,children:[Object(jt.jsx)(p.b,{to:"/profile",children:Object(jt.jsx)("img",{src:t.photoUrl||"",alt:"user avatar",className:Zt()(uc.a.image,Object(Pn.a)({},uc.a.withBorder,!n))})}),Object(jt.jsx)("ul",{className:uc.a.dropdown,children:i.map((function(e,t){return Object(jt.jsx)("li",{className:uc.a.dropdownItem,children:dc(e)},e.id)}))})]})},pc=Object(b.a)((function(e){var t=e.isProfilePage,n=et().userStore,r=Object(c.useState)(!1),i=Object(Ct.a)(r,2),a=i[0],o=i[1],s=Object(c.useState)(!1),u=Object(Ct.a)(s,2),l=u[0],d=u[1],b=function(){var e=Object(E.a)(N.a.mark((function e(t){var r,i,a,c,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.tokenId){e.next=3;break}return e.abrupt("return");case 3:return n.googleToken=r,e.prev=4,e.next=7,de.postLogin();case 7:return i=e.sent,a=i.data,n.tokens=a.tokens,e.next=12,de.getUserProfile();case 12:c=e.sent,o=c.data,n.user=o,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),d(!0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(E.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.postLogout();case 3:n.user=null,n.tokens=null,n.googleToken=null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(jt.jsx)("div",{className:Za.a.container,children:n.user?Object(jt.jsx)(bc,{user:n.user,isProfilePage:t,logout:p}):Object(jt.jsxs)(jt.Fragment,{children:[Object(jt.jsx)(Sn.a,{variant:"contained",color:"primary",onClick:function(){o(!0)},style:{fontSize:"10px"},children:"Sign In"}),Object(jt.jsx)(ic,{isOpen:a,handleClose:function(){o(!1)},login:b,isError:l,handleLoginFailure:function(e){d(!0)}})]})})})),hc=function(){var e=et().userStore.user,t=Object(h.h)().pathname;return Object(jt.jsxs)("header",{className:Ka.a.header,children:[Object(jt.jsx)("img",{src:Ya,alt:"logo eyemo"}),Object(jt.jsxs)("div",{className:Ka.a.rightBlock,children:[Object(jt.jsxs)("div",{className:Ka.a.buttons,children:["/"!==t&&Object(jt.jsx)(p.b,{to:"/",children:Object(jt.jsx)(ya,{children:"Create a clip"})}),e&&Object(jt.jsx)("button",{children:Object(jt.jsx)("img",{src:qa,alt:"Notifications"})})]}),Object(jt.jsx)(pc,{isProfilePage:"/profile"===t})]})]})};n(428);var fc=Object(b.a)((function(){var e=et(),t=e.userStore,n=e.uiStore;return Object(f.a)((function(){return be.sendTimePosition(),"You\u2019ll lose your data!"})),Object(jt.jsx)(jt.Fragment,{children:Object(jt.jsx)(d.a,{dateAdapter:l.a,children:Object(jt.jsxs)(p.a,{basename:"/",children:[Object(jt.jsxs)("div",{className:m.a.container,children:[Object(jt.jsx)(hc,{}),Object(jt.jsx)("div",{className:m.a.wrapper,children:Object(jt.jsxs)(h.d,{children:[Object(jt.jsx)(h.b,{path:"/v/:videoId",component:ha}),Object(jt.jsx)(h.b,{path:"/",exact:!0,component:ha}),Object(jt.jsx)(ja,{permitted:null!==t.user,path:"/profile",component:kn}),Object(jt.jsx)(ja,{permitted:null!==t.user,path:"/settings",component:Ja}),Object(jt.jsx)(h.a,{to:"/"})]})})]}),n.isLoadingApp&&Object(jt.jsx)(xn,{})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Promise.all([xe.init(),Be.init(),Qe.init(),Ze.init()]).then((function(){return D()})).then((function(){u.a.render(Object(jt.jsx)(o.a.StrictMode,{children:Object(jt.jsx)(fc,{})}),document.getElementById("root"))})).catch((function(e){return console.error(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,n){e.exports={description:"changeProfile_description__1hTwR",field:"changeProfile_field__2mO5u",fieldBlock:"changeProfile_fieldBlock__2jMB9",fieldTitle:"changeProfile_fieldTitle__2mfXp",buttons:"changeProfile_buttons__35ioz",deleteButton:"changeProfile_deleteButton__354u1",socialsWrapper:"changeProfile_socialsWrapper__OdFhr"}},53:function(e,t,n){e.exports={userBlock:"userBlock_userBlock__2GRWG",dropdown:"userBlock_dropdown__2dc2k",image:"userBlock_image__3Fqbj",withBorder:"userBlock_withBorder__l1wdw",dropdownItem:"userBlock_dropdownItem__25Hwb",button:"userBlock_button__1XUAk",imageWrapper:"userBlock_imageWrapper__2WgW-",buttonText:"userBlock_buttonText__2wSME"}},62:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",buttonsContainer:"PlayerPanel_buttonsContainer__2U8zY",recButton:"PlayerPanel_recButton__3TYfL",recButtonAnimation:"PlayerPanel_recButtonAnimation__2UQQt",active:"PlayerPanel_active__2NmJa",rewButton:"PlayerPanel_rewButton__2bNBE",arrow:"PlayerPanel_arrow__2LftY"}},63:function(e,t,n){e.exports={container:"userInfo_container__3nq7H",slides:"userInfo_slides__2Vq1t",userImage:"userInfo_userImage__3Jj5E",image:"userInfo_image__1HtQH",status:"userInfo_status__28AnI",name:"userInfo_name__3wu-r",totalTime:"userInfo_totalTime__3pyJh",socialList:"userInfo_socialList__2G1JA"}},64:function(e,t,n){e.exports={button:"button_button__q-EjP",withBorder:"button_withBorder__1-5d0",disabled:"button_disabled__1_Ved",blueTheme:"button_blueTheme__Kq4aP",active:"button_active__2mI4J",lightBlueTheme:"button_lightBlueTheme__3oYxs",redTheme:"button_redTheme__344Z4",delete:"button_delete__bY3NW"}},72:function(e,t,n){e.exports={playerWrapper:"MultiPlayer_playerWrapper__vY-K-",player:"MultiPlayer_player__2RDDT",playerPlaceholder:"MultiPlayer_playerPlaceholder__2igEn",playButton:"MultiPlayer_playButton__2ilbp",pauseButton:"MultiPlayer_pauseButton__t9yfd"}},74:function(e,t,n){e.exports={container:"chat_container__1pMfk",title:"chat_title__1b1BL",wrapper:"chat_wrapper__83tld",memberList:"chat_memberList__20IWQ",micBlock:"chat_micBlock__2peVb",micButton:"chat_micButton__3EJGT",micOff:"chat_micOff__agetB"}},75:function(e,t,n){e.exports={container:"timeline_container__Ot9x_",player:"timeline_player__1fwLp",wrapper:"timeline_wrapper__1B1Fp",isDragStart:"timeline_isDragStart__2aa9h",playInfo:"timeline_playInfo__2SvIF",playButton:"timeline_playButton__ST2NV",item:"timeline_item__3E5Bh"}},78:function(e,t,n){e.exports={container:"Preloader_container__3VLfE",loaderContainer:"Preloader_loaderContainer__2CSeo",loader:"Preloader_loader__2UV8v",arcRotateDouble:"Preloader_arcRotateDouble__1llZB",load:"Preloader_load__1BxGu",arc1:"Preloader_arc1__3QLhn",arc2:"Preloader_arc2__5Fv5N",rotate:"Preloader_rotate__3qmAc"}},79:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__1vR9b",playerWrapper:"CutItem_playerWrapper__32VlR",video:"CutItem_video__33TEF",buttons:"CutItem_buttons__JzliV",checkbox:"CutItem_checkbox__2_dpe",playButton:"CutItem_playButton__1QWqr",isVisible:"CutItem_isVisible__335-r",isChosenSource:"CutItem_isChosenSource__2r7bR",checkboxWrapper:"CutItem_checkboxWrapper__3jZA8"}},90:function(e,t,n){e.exports={container:"user_container__Q2B9I",image:"user_image__1axsI",info:"user_info__SvVc7",name:"user_name__3KwKa",duration:"user_duration__VqW4z"}},91:function(e,t,n){e.exports={container:"CutEditPanel_container__2WfnO",btn:"CutEditPanel_btn__-T5s8",playBtn:"CutEditPanel_playBtn__lkGoH",duration:"CutEditPanel_duration__360gs"}},92:function(e,t,n){e.exports={container:"AddSourceItem_container__3ZG2M",isActive:"AddSourceItem_isActive__3nUnA",list:"AddSourceItem_list__1UvK7",dashContainer:"AddSourceItem_dashContainer__6ofOv",listItem:"AddSourceItem_listItem__1lFJm"}}},[[429,1,2]]]);