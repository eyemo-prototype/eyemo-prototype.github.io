(this.webpackJsonpeyemo=this.webpackJsonpeyemo||[]).push([[0],{109:function(e,t,n){e.exports={title:"additional_title__1m0_k",list:"additional_list__1avp9",player:"additional_player__2-ajd",playerBlocker:"additional_playerBlocker__17tFI"}},110:function(e,t,n){e.exports={container:"input_container__1OlOE",input:"input_input__3I3G6",buttonsBlock:"input_buttonsBlock__241nw",clearButton:"input_clearButton__3FPaA",copyButton:"input_copyButton__20L6h",error:"input_error__1kf2V"}},111:function(e,t,n){e.exports={searchLine:"SourcesPanel_searchLine__1DdM7",form:"SourcesPanel_form__1o_MA",inputWrapper:"SourcesPanel_inputWrapper__2NF9J",sources:"SourcesPanel_sources__24FU7",sourceItem:"SourcesPanel_sourceItem__3eKQN"}},112:function(e,t,n){e.exports={container:"CutEditPanel_container__2WfnO",btn:"CutEditPanel_btn__-T5s8",playBtn:"CutEditPanel_playBtn__lkGoH",duration:"CutEditPanel_duration__360gs"}},113:function(e,t,n){e.exports={container:"videoButtons_container__1aDyo",button:"videoButtons_button__aCEDY",disabled:"videoButtons_disabled__3vWLe",captionBlock:"videoButtons_captionBlock__e5vJg",caption:"videoButtons_caption__2T3X9"}},114:function(e,t,n){e.exports={container:"backgroundImage_container__1Fl_1",backgroundImage:"backgroundImage_backgroundImage__hEjRH",imageUploader:"backgroundImage_imageUploader__1JVid",uploaderBLock:"backgroundImage_uploaderBLock__37xz6",uploadCaption:"backgroundImage_uploadCaption__WPcWu"}},123:function(e,t,n){e.exports={container:"confirmDialog_container__dLTem",title:"confirmDialog_title__1khqV",description:"confirmDialog_description__Uk4nP",buttons:"confirmDialog_buttons__32C22"}},124:function(e,t,n){e.exports={tabItem:"tabItem_tabItem__1OnFe",active:"tabItem_active__2Ilqp",icon:"tabItem_icon__14Ix2",activeIcon:"tabItem_activeIcon__2Giao"}},125:function(e,t,n){e.exports={container:"contentBlock_container__1pOST",isActive:"contentBlock_isActive__1EC5r",content:"contentBlock_content__1xBTD",hideBlock:"contentBlock_hideBlock__2Wym6"}},126:function(e,t,n){e.exports={container:"CustomSlider_container__WcW3I",root:"CustomSlider_root__hemha",label:"CustomSlider_label__2lMkh",tooltipContainer:"CustomSlider_tooltipContainer__3CM33",tooltipIcon:"CustomSlider_tooltipIcon__3iVXY"}},128:function(e,t,n){e.exports={container:"playButton_container__1I2Im",button:"playButton_button__3pUCK",duration:"playButton_duration__mQYN8"}},129:function(e,t,n){e.exports={container:"volumeButton_container__gsIsZ",button:"volumeButton_button__3fMso",disabled:"volumeButton_disabled__Nu0ce",volumeControlWrapper:"volumeButton_volumeControlWrapper__2MLW0"}},130:function(e,t,n){e.exports={container:"AddSourceItem_container__3ZG2M",isActive:"AddSourceItem_isActive__3nUnA",list:"AddSourceItem_list__1UvK7",dashContainer:"AddSourceItem_dashContainer__6ofOv",listItem:"AddSourceItem_listItem__1lFJm",frameIcon:"AddSourceItem_frameIcon__2ndyc"}},131:function(e,t,n){e.exports={wrapper:"music_wrapper__Jh4mm",isDragStart:"music_isDragStart__2bBPB",placeholder:"music_placeholder__1BPR9",list:"music_list__1ZPKj"}},152:function(e,t,n){e.exports={container:"tabs_container__3b688",link:"tabs_link__8wANO",active:"tabs_active__W4KZM"}},153:function(e,t,n){e.exports={container:"VideosList_container__1ad0R",title:"VideosList_title__3MXsF",list:"VideosList_list__10P9I",imageWrapper:"VideosList_imageWrapper__3o3V2",addButton:"VideosList_addButton__36ZaM",playerWrapper:"VideosList_playerWrapper__ZxRgY",player:"VideosList_player__1OXC3",buttons:"VideosList_buttons__2-iww",buttonsContainer:"VideosList_buttonsContainer__2XXSo",buttonsList:"VideosList_buttonsList__3i9oe",button:"VideosList_button__18knd",buttonItem:"VideosList_buttonItem__1v4ws",shareButton:"VideosList_shareButton__1zSdT",duration:"VideosList_duration__UbzsQ",overlay:"VideosList_overlay__2OfY1",playerBlocker:"VideosList_playerBlocker__3VZCx",shareContainer:"VideosList_shareContainer__3L6pv",shareMenu:"VideosList_shareMenu__Xp1Kv"}},154:function(e,t,n){e.exports={container:"shareButton_container__1if-H",shareMenu:"shareButton_shareMenu__1zMZo",shareButton:"shareButton_shareButton__1UuEv"}},155:function(e,t,n){e.exports={container:"nftInput_container__L6DW-",input:"nftInput_input__28jZT",placeholder:"nftInput_placeholder__1LUN8"}},156:function(e,t,n){e.exports={container:"notFound_container__7FBZ9",title:"notFound_title__1Uk9Y",caption:"notFound_caption__1NtgD"}},157:function(e,t,n){e.exports={playerPanel:"mainView_playerPanel__2qpku",content:"mainView_content__2OnP2",contentWrapper:"mainView_contentWrapper__2i6MG"}},158:function(e,t,n){e.exports={container:"contentView_container__HlNrD",title:"contentView_title__13t0d",wrapper:"contentView_wrapper__DwBOQ"}},159:function(e,t,n){e.exports={cutsPanel:"CutsPanel_cutsPanel__2qCbT",cutsPanelBlank:"CutsPanel_cutsPanelBlank__2gLJh",timeInput:"CutsPanel_timeInput__FdtI3",input:"CutsPanel_input__4Og8R",stepBtn:"CutsPanel_stepBtn__3kDcm",infoLine:"CutsPanel_infoLine__3lLJ8",loadIcon:"CutsPanel_loadIcon__1BsrY",bottomBtn:"CutsPanel_bottomBtn__2J2gr",cutsList:"CutsPanel_cutsList__1Nvl5"}},160:function(e,t,n){e.exports={container:"audioItem_container__cxOz5",audioBackground:"audioItem_audioBackground__1m32f",audioName:"audioItem_audioName__21xUS"}},161:function(e,t,n){e.exports={container:"controlButtons_container__13HXq",buttonsWrapper:"controlButtons_buttonsWrapper__7zygS",volumeButtonWrapper:"controlButtons_volumeButtonWrapper__2smy0"}},162:function(e,t,n){e.exports={wrapper:"effects_wrapper__b-rJX",placeholder:"effects_placeholder__22VTp",list:"effects_list__23hRN"}},163:function(e,t,n){e.exports={container:"settingTabs_container__3ul44",link:"settingTabs_link__2J6Jf",active:"settingTabs_active__3Y1ku"}},177:function(e,t,n){e.exports={playerPanel:"App_playerPanel__3bV36",editingPanel:"App_editingPanel__28fsw",container:"App_container__eSJ6i",wrapper:"App_wrapper__RCHjb","slick-slide":"App_slick-slide__2pNaG"}},181:function(e,t,n){e.exports={block:"modal_block__1GAxY",closeButton:"modal_closeButton__246Uq"}},183:function(e,t,n){e.exports={root:"GiphyPanel_root__2Hx9n",searchLine:"GiphyPanel_searchLine__69zTm",gifsPanel:"GiphyPanel_gifsPanel__2OqQn"}},185:function(e,t,n){e.exports={wrapper:"shots_wrapper__32Adg",isDragStart:"shots_isDragStart__1oiht"}},186:function(e,t,n){e.exports={button:"socialItem_button__1SH6F",input:"socialItem_input__N3oXM"}},187:function(e,t,n){e.exports={container:"imagesBlock_container__3HCue",avatarWrapper:"imagesBlock_avatarWrapper__3V5ji"}},188:function(e,t,n){e.exports={container:"settings_container__D_8z-",content:"settings_content__N0K7s"}},189:function(e,t,n){e.exports={container:"loginModal_container__2JncL",content:"loginModal_content__RWDdw"}},190:function(e,t,n){e.exports={notificationBlock:"notificationBlock_notificationBlock__3-qIR",notifications:"notificationBlock_notifications__3fwQ8"}},233:function(e,t,n){e.exports={container:"UserProfile_container__2kkVd"}},238:function(e,t,n){e.exports={container:"baseContainer_container__3gWT5"}},239:function(e,t,n){e.exports={isSaved:"SaveButton_isSaved__zVA0Q"}},242:function(e,t,n){e.exports={container:"CanvasLayer_container__3HORa"}},245:function(e,t,n){e.exports={container:"sidebar_container__1TYtp"}},250:function(e,t,n){e.exports={item:"userItem_item__1-Mkf"}},251:function(e,t,n){e.exports={container:"verticalSlider_container__2lkV9"}},252:function(e,t,n){e.exports={container:"playMarker_container__rAtQv"}},254:function(e,t,n){},255:function(e,t,n){e.exports={button:"smallButton_button__100sP"}},256:function(e,t,n){e.exports={container:"SignMenu_container__CFRMs",modalContainer:"SignMenu_modalContainer__3unD8",alert:"SignMenu_alert__vJhZ_"}},258:function(e,t,n){e.exports={list:"feedList_list__2ROUl"}},259:function(e,t,n){e.exports={container:"feed_container__1jCY7"}},36:function(e,t,n){e.exports={description:"changeProfile_description__1hTwR",field:"changeProfile_field__2mO5u",fieldBlock:"changeProfile_fieldBlock__2jMB9",fieldTitle:"changeProfile_fieldTitle__2mfXp",singleTitle:"changeProfile_singleTitle__3-TSC",buttons:"changeProfile_buttons__35ioz",deleteButton:"changeProfile_deleteButton__354u1",socialsWrapper:"changeProfile_socialsWrapper__OdFhr"}},38:function(e,t,n){e.exports={item:"feedItem_item__1AIsH",imageWrapper:"feedItem_imageWrapper__ye4_N",userImage:"feedItem_userImage__2Ux89",userInfo:"feedItem_userInfo__3yeds",wrapper:"feedItem_wrapper__2yLrO",videoImage:"feedItem_videoImage__ufLWH",infoBlock:"feedItem_infoBlock__1SyXT",title:"feedItem_title__3uUpE",userBlock:"feedItem_userBlock__2MCXc",userName:"feedItem_userName__wdhVq",duration:"feedItem_duration__3FiYw",saveBtnContainer:"feedItem_saveBtnContainer__1qsj1",shareBtnContainer:"feedItem_shareBtnContainer__QGcd1"}},44:function(e,t,n){e.exports={container:"ShareMenu_container__3yQMk",menuItem:"ShareMenu_menuItem__3ZAN6",isActive:"ShareMenu_isActive__2mZGS",contentMenuItem:"ShareMenu_contentMenuItem__2clZ2",title:"ShareMenu_title__vCF-O"}},443:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var r,i,a,o,c,s,l,u,d,p=n(0),h=n.n(p),b=n(22),f=n.n(b),j=n(260),m=n(480),v=n(6),O=n(26),g=n(33),x=n(261),y=n(177),_=n.n(y),C=n(9),w=n(11),S=n(39),k=n(40),I=n(8),P=(n(133),n(4)),N=n(15);!function(e){e.PlayerStore="eyeMoPlayerStore",e.EditorStore="eyeMoEditorStore",e.UserStore="eyeMoUserStore",e.UiStore="eyeMoUiStore"}(r||(r={})),function(e){e.Gif="gif",e.Text="text",e.Sticker="sticker"}(i||(i={})),function(e){e.Create="create",e.CreateAudio="createAudio",e.PlayOne="playOne",e.PlayAll="playAll",e.Show="show",e.EditGifs="editGifs",e.EditShot="editShot",e.EditAudio="editAudio"}(a||(a={})),function(e){e.GOOGLE="google"}(o||(o={})),function(e){e.Discord="discord",e.Instagram="instagram",e.Facebook="facebook",e.Reddit="reddit",e.Telegram="telegram",e.TikTok="tiktok",e.Twitch="twitch",e.Twitter="twitter",e.YouTube="youtube",e.VK="vk",e.HomePage="homepage"}(c||(c={})),function(e){e.YouTube="youtube",e.SoundCloud="soundcloud"}(s||(s={})),function(e){e.Audio="audio",e.Video="video"}(l||(l={})),function(e){e.Video="video",e.Audio="audio",e.Gif="gif"}(u||(u={})),function(e){e.Audio="audio",e.Video="video"}(d||(d={}));var T,B,E,L,A,M,V,D,R,U,z,W,G,F,H,Z,Y,J,q,X,Q,K,$,ee,te,ne,re,ie,ae,oe,ce,se,le,ue,de,pe,he,be={isDev:!1,agora:{appId:"df4bc258854f4cb293dc97a3ab0fc123",appToken:"006df4bc258854f4cb293dc97a3ab0fc123IACrGJ2lVwuokMZ2x6ksR30jre117a/3bMmzvzuwsWLIQHiLwJYAAAAAEAAEa9nryolLYAEAAQDKiUtg"},google:{clientId:"408329112054-lostlgmbd8r8ncskmnfnfoqv50j84bev.apps.googleusercontent.com"},server:{url:"https://api.dev.eyemo.app"}};Object(P.i)({enforceActions:"never"});var fe=(T=function(){function e(){Object(S.a)(this,e),Object(w.a)(this,"mode",B,this),Object(w.a)(this,"sources",E,this),Object(w.a)(this,"audioSources",L,this),Object(w.a)(this,"cuts",A,this),Object(w.a)(this,"audioCuts",M,this),Object(w.a)(this,"shotCuts",V,this),Object(w.a)(this,"audioShotCuts",D,this),Object(w.a)(this,"currentCuts",R,this),Object(w.a)(this,"gifs",U,this),Object(w.a)(this,"videoId",z,this),Object(w.a)(this,"watchId",W,this),Object(w.a)(this,"secondsCount",G,this),Object(w.a)(this,"videoName",F,this),Object(w.a)(this,"timePosition",H,this),Object(w.a)(this,"sourceTimePosition",Z,this),Object(w.a)(this,"playList",Y,this),Object(w.a)(this,"currentPlayListPositionIndex",J,this),Object(w.a)(this,"audioPlayer",q,this),Object(w.a)(this,"audioPlaying",X,this),Object(w.a)(this,"players",Q,this),Object(w.a)(this,"playing",K,this),Object(w.a)(this,"activePlayerIndex",$,this),Object(w.a)(this,"playingCutIndex",ee,this),Object(w.a)(this,"currentSourceIndex",te,this),Object(w.a)(this,"currentAudioSourceIndex",ne,this),Object(w.a)(this,"isEnableCanvas",re,this),Object(w.a)(this,"isShowControlLayer",ie,this),Object(w.a)(this,"canvasSize",ae,this),Object(w.a)(this,"isLoading",oe,this),Object(w.a)(this,"isShowTransition",ce,this),Object(w.a)(this,"isConnectedChat",se,this),Object(w.a)(this,"isEnableMic",le,this),Object(w.a)(this,"isShowRecButton",ue,this),Object(w.a)(this,"isShowGifList",de,this),Object(w.a)(this,"selectedGifId",pe,this),Object(w.a)(this,"creator",he,this),Object(P.o)(this)}return Object(k.a)(e,[{key:"shareUrl",value:function(e){if(null===e)return null;var t=window.location.origin;return"".concat(t,"/#/v/").concat(e)}},{key:"getIframeCode",value:function(e){var t=window.location.origin;return'<iframe src="'.concat(t,"/#/embed/").concat(e,'" name="').concat(e,'" width="560px" height="315px" scrolling="no" style="border:none;"></iframe>')}},{key:"trailerLength",get:function(){return this.shotCuts.reduce((function(e,t){return t.time?e+t.time.endTime-t.time.startTime:e}),0)}},{key:"nextPlayerIndex",get:function(){return this.activePlayerIndex===this.players.length-1?0:this.activePlayerIndex+1}},{key:"nextCutIndex",get:function(){return this.playingCutIndex===this.currentCuts.length-1?0:this.playingCutIndex+1}},{key:"isCleanEditorStore",get:function(){return 0===this.shotCuts.length}},{key:"scaleGifs",value:function(){for(var e=0;e<this.gifs.length;e+=1){var t=this.gifs[e],n=t.height,r=t.width,i=t.canvasWidth,a=t.canvasHeight,o=t.x,c=t.y,s=this.canvasSize.width/i,l=this.canvasSize.height/a;this.gifs[e]=Object(C.a)(Object(C.a)({},this.gifs[e]),{},{height:n*l,width:r*s,x:o*s,y:c*l,canvasWidth:this.canvasSize.width,canvasHeight:this.canvasSize.height})}}},{key:"createCurrentCuts",value:function(e){this.currentCuts=JSON.parse(JSON.stringify(e))}},{key:"clearStore",value:function(){this.sources=[],this.audioSources=[],this.mode=a.Create,this.cuts=[],this.audioCuts=[],this.shotCuts=[],this.audioShotCuts=[],this.currentCuts=[],this.gifs=[],this.players=[0,1,2,3].map((function(e,t){return{id:t,playing:!1,url:"",isVisible:0===t,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1}})),this.audioPlayer={id:0,playing:!1,url:"",isVisible:!1,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1},this.activePlayerIndex=0,this.playingCutIndex=-1,this.currentSourceIndex=-1,this.currentAudioSourceIndex=-1,this.selectedGifId=null,this.videoId=null,this.watchId=null,this.videoName=null,this.secondsCount=0,this.timePosition=0,this.sourceTimePosition=0}},{key:"loadVideoToStore",value:function(e){var t=this,n=e.video,r=e.watchId;this.shotCuts=n.cuts,this.sources=n.sources,this.gifs=n.gifs,this.videoId=n.id,this.watchId=r,this.videoName=n.name,this.secondsCount=n.secondsCount||0,this.players=[0,1,2,3].map((function(e,n){return{id:n,playing:!1,url:n===t.activePlayerIndex&&(t.shotCuts[0].url||t.sources[0].url)||"",isVisible:n===t.activePlayerIndex,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1}})),this.mode=a.Show,this.creator=n.creator||null}},{key:"setCreatorSecondsCount",value:function(e){this.creator&&(this.creator.secondsCount=e)}}]),e}(),B=Object(I.a)(T.prototype,"mode",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Show}}),E=Object(I.a)(T.prototype,"sources",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=Object(I.a)(T.prototype,"audioSources",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=Object(I.a)(T.prototype,"cuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Object(I.a)(T.prototype,"audioCuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Object(I.a)(T.prototype,"shotCuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=Object(I.a)(T.prototype,"audioShotCuts",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=Object(I.a)(T.prototype,"currentCuts",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=Object(I.a)(T.prototype,"gifs",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=Object(I.a)(T.prototype,"videoId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=Object(I.a)(T.prototype,"watchId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Object(I.a)(T.prototype,"secondsCount",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=Object(I.a)(T.prototype,"videoName",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=Object(I.a)(T.prototype,"timePosition",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=Object(I.a)(T.prototype,"sourceTimePosition",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=Object(I.a)(T.prototype,"playList",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(I.a)(T.prototype,"currentPlayListPositionIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=Object(I.a)(T.prototype,"audioPlayer",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{id:0,playing:!1,url:"",isVisible:!1,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1}}}),X=Object(I.a)(T.prototype,"audioPlaying",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(I.a)(T.prototype,"players",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return[0,1,2,3].map((function(t,n){return{id:n,playing:!1,url:e.sources[0]?e.sources[0].url:"",isVisible:0===n,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1}}))}}),K=Object(I.a)(T.prototype,"playing",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.players.map((function(){return!1}))}}),$=Object(I.a)(T.prototype,"activePlayerIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ee=Object(I.a)(T.prototype,"playingCutIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.shotCuts.length>0?0:-1}}),te=Object(I.a)(T.prototype,"currentSourceIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),ne=Object(I.a)(T.prototype,"currentAudioSourceIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.sources.length>0?0:-1}}),re=Object(I.a)(T.prototype,"isEnableCanvas",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=Object(I.a)(T.prototype,"isShowControlLayer",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ae=Object(I.a)(T.prototype,"canvasSize",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{height:0,width:0}}}),oe=Object(I.a)(T.prototype,"isLoading",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(I.a)(T.prototype,"isShowTransition",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=Object(I.a)(T.prototype,"isConnectedChat",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Object(I.a)(T.prototype,"isEnableMic",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=Object(I.a)(T.prototype,"isShowRecButton",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),de=Object(I.a)(T.prototype,"isShowGifList",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=Object(I.a)(T.prototype,"selectedGifId",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=Object(I.a)(T.prototype,"creator",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(I.a)(T.prototype,"trailerLength",[P.h],Object.getOwnPropertyDescriptor(T.prototype,"trailerLength"),T.prototype),Object(I.a)(T.prototype,"nextPlayerIndex",[P.h],Object.getOwnPropertyDescriptor(T.prototype,"nextPlayerIndex"),T.prototype),Object(I.a)(T.prototype,"nextCutIndex",[P.h],Object.getOwnPropertyDescriptor(T.prototype,"nextCutIndex"),T.prototype),Object(I.a)(T.prototype,"isCleanEditorStore",[P.h],Object.getOwnPropertyDescriptor(T.prototype,"isCleanEditorStore"),T.prototype),Object(I.a)(T.prototype,"scaleGifs",[P.f],Object.getOwnPropertyDescriptor(T.prototype,"scaleGifs"),T.prototype),Object(I.a)(T.prototype,"createCurrentCuts",[P.f],Object.getOwnPropertyDescriptor(T.prototype,"createCurrentCuts"),T.prototype),Object(I.a)(T.prototype,"clearStore",[P.f],Object.getOwnPropertyDescriptor(T.prototype,"clearStore"),T.prototype),Object(I.a)(T.prototype,"loadVideoToStore",[P.f],Object.getOwnPropertyDescriptor(T.prototype,"loadVideoToStore"),T.prototype),Object(I.a)(T.prototype,"setCreatorSecondsCount",[P.f],Object.getOwnPropertyDescriptor(T.prototype,"setCreatorSecondsCount"),T.prototype),T),je=new fe;be.isDev&&(window.playerStore=je);var me,ve,Oe,ge,xe,ye,_e,Ce,we=je,Se=new N.a(je,{storageKey:r.PlayerStore,storage:localStorage}),ke=n(12),Ie=n(25),Pe=n(61),Ne=n(151),Te=n(150),Be=n(262),Ee=n(89),Le=n(201),Ae=n(3),Me=n.n(Ae),Ve=n(7),De=n(232),Re=n.n(De),Ue=n(263),ze=n(49),We=new(me=function(){function e(){Object(S.a)(this,e),Object(w.a)(this,"user",ve,this),Object(w.a)(this,"modifiedUser",Oe,this),Object(w.a)(this,"tokens",ge,this),Object(w.a)(this,"googleToken",xe,this),Object(w.a)(this,"visitorId",ye,this),Object(w.a)(this,"isShowContent",_e,this),Object(w.a)(this,"isDragStart",Ce,this),Object(P.o)(this)}return Object(k.a)(e,[{key:"setIsShowContent",value:function(e){this.isShowContent=e}},{key:"setDragStart",value:function(e){this.isDragStart=e}},{key:"clearStore",value:function(){this.user=null,this.tokens=null,this.googleToken=null}},{key:"setUserSecondsCount",value:function(e){this.user&&(this.user.secondsCount=e)}},{key:"logout",value:function(){We.user=null,We.tokens=null,We.googleToken=null}}]),e}(),ve=Object(I.a)(me.prototype,"user",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=Object(I.a)(me.prototype,"modifiedUser",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=Object(I.a)(me.prototype,"tokens",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=Object(I.a)(me.prototype,"googleToken",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=Object(I.a)(me.prototype,"visitorId",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=Object(I.a)(me.prototype,"isShowContent",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ce=Object(I.a)(me.prototype,"isDragStart",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(I.a)(me.prototype,"setIsShowContent",[P.f],Object.getOwnPropertyDescriptor(me.prototype,"setIsShowContent"),me.prototype),Object(I.a)(me.prototype,"setDragStart",[P.f],Object.getOwnPropertyDescriptor(me.prototype,"setDragStart"),me.prototype),Object(I.a)(me.prototype,"clearStore",[P.f],Object.getOwnPropertyDescriptor(me.prototype,"clearStore"),me.prototype),Object(I.a)(me.prototype,"setUserSecondsCount",[P.f],Object.getOwnPropertyDescriptor(me.prototype,"setUserSecondsCount"),me.prototype),Object(I.a)(me.prototype,"logout",[P.f],Object.getOwnPropertyDescriptor(me.prototype,"logout"),me.prototype),me);be.isDev&&(window.userStore=We);var Ge=We,Fe=new N.a(We,{storageKey:r.UserStore,storage:localStorage}),He=Re.a.create({baseURL:be.server.url,responseType:"json"}),Ze=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,n,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue.a.load();case 2:return n=e.sent,e.next=5,n.get({debug:!1});case 5:r=e.sent,i=r.visitorId,Ge.visitorId=i,He.defaults.headers.Authorization="Bearer ".concat(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken),He.defaults.headers["x-browser-fingerprint"]=Ge.visitorId,He.defaults.baseURL=be.server.url;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(e){for(var t=Object(P.r)(e),n=0;n<t.gifs.length;n+=1)t.gifs[n].cutId=t.cuts[0].id;return t},Je={getUserProfile:function(){return He({method:"GET",url:"/user/profile"})},getNewAccessToken:function(){var e;return He({method:"GET",url:"/user/access/token?refreshToken=".concat(null===(e=Ge.tokens)||void 0===e?void 0:e.refreshToken)})},getVideoById:function(e){var t,n;return He({method:"GET",url:"/video/".concat(e),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):"","x-browser-referrer":document.referrer}})},checkUsername:function(e){return He({method:"GET",url:"/user/".concat(e,"/availability")})},getUserVideos:function(e){var t=e.limit,n=void 0===t?10:t,r=e.offset,i=void 0===r?0:r;return He({method:"GET",url:"/video/list?limit=".concat(n,"&offset=").concat(i)})},getCreatorVideos:function(e){var t,n,r=e.creatorName,i=e.limit,a=void 0===i?10:i,o=e.offset,c=void 0===o?0:o;return He({method:"GET",url:"/user/".concat(r,"/videos?limit=").concat(a,"&offset=").concat(c),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getRandomUserVideosByName:function(e){var t,n,r=e.userName,i=e.limit,a=void 0===i?10:i,o=e.offset,c=void 0===o?0:o;return He({method:"GET",url:"/user/".concat(r,"/videos/random?limit=").concat(a,"&offset=").concat(c),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getUserSavedVideos:function(e){var t=e.limit,n=void 0===t?10:t,r=e.offset,i=void 0===r?0:r;return He({method:"GET",url:"/user/saved-videos?limit=".concat(n,"&offset=").concat(i)})},getUserSecondsCount:function(){return He({method:"GET",url:"/user/profile/seconds-count"})},getAnotherUserSecondsCount:function(e){var t,n;return He({method:"GET",url:"/user/".concat(e,"/seconds-count"),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getUserInfoByName:function(e){var t,n;return He({method:"GET",url:"/user/".concat(e,"/data"),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getFeedVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return He({method:"GET",url:"/video/feed?limit=".concat(e,"&offset=").concat(t)})},getUserBestViewers:function(e){var t,n;return He({method:"GET",url:"/user/".concat(e,"/best-viewers"),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getVideoBestViewers:function(e){var t,n;return He({method:"GET",url:"/video/".concat(e,"/best-viewers"),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},getYoutubeVideoSpec:function(e){var t,n;return He({method:"GET",url:"/youtube/video/".concat(e,"/info"),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},postLogin:function(){return He({method:"POST",url:"/user/login/google",data:{idToken:Ge.googleToken}})},postLogout:function(){var e;return He({method:"POST",url:"/user/logout",data:{refreshToken:null===(e=Ge.tokens)||void 0===e?void 0:e.refreshToken}})},createVideo:function(e){var t,n;return He({method:"POST",url:"/video",data:Ye(e),headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},trackVideoWatching:function(e){var t,n;return He({method:"POST",url:"/video/watch/stop/action",data:e,headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},pingVideosSecondsCount:function(e){var t,n;return He({method:"POST",url:"/video/wrap/list/seconds-count",data:e,headers:{Authorization:(null===(t=Ge.tokens)||void 0===t?void 0:t.accessToken)?"Bearer ".concat(null===(n=Ge.tokens)||void 0===n?void 0:n.accessToken):""}})},addVideoToSaved:function(e){return He({method:"POST",url:"/video/".concat(e,"/save")})},updateVideo:function(e){return He({method:"PUT",url:"/video/".concat(e.id),data:Ye(e)})},uploadAvatar:function(e){return He({method:"PUT",url:"/user/profile/photo",headers:{"content-type":"multipart/form-data"},data:e})},uploadCoverImage:function(e){return He({method:"PUT",url:"/user/profile/cover-image",headers:{"content-type":"multipart/form-data"},data:e})},updateUserProfile:function(e){return He({method:"PUT",url:"/user/profile",data:e})},updateUsername:function(e){return He({method:"PATCH",url:"/user/".concat(e)})},deleteVideoById:function(e){return He({method:"DELETE",url:"/video/".concat(e)})},deleteUserProfile:function(){return He({method:"DELETE",url:"/user/profile"})},removeVideoFromSaved:function(e){return He({method:"DELETE",url:"/video/".concat(e,"/save")})}};He.interceptors.response.use((function(e){return e}),function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,"ERR_REFRESH_TOKEN_EXPIRED"!==t.response.data.code){e.next=6;break}return Ge.logout(),Object(ze.a)().push("/"),window.location.reload(),e.abrupt("return");case 6:if("ERR_ACCESS_TOKEN_EXPIRED"!==t.response.data.code||n._retry){e.next=25;break}return n._retry=!0,e.prev=8,e.next=11,Je.getNewAccessToken();case 11:if(r=e.sent,i=r.data,200===r.status&&Ge.tokens){e.next=16;break}return e.abrupt("return");case 16:return n.headers.Authorization="Bearer ".concat(i.value),Ge.tokens.accessToken=i.value,He.defaults.headers.common.Authorization="Bearer ".concat(i.value),e.abrupt("return",He(n));case 22:e.prev=22,e.t0=e.catch(8),console.error(e.t0);case 25:return e.abrupt("return",Promise.reject(t));case 26:case"end":return e.stop()}}),e,null,[[8,22]])})));return function(t){return e.apply(this,arguments)}}());var qe,Xe,Qe,Ke,$e,et,tt,nt,rt=Je,it=new(function(){function e(){Object(S.a)(this,e),this.control=[],this.audioControl=null,this.store=ht}return Object(k.a)(e,[{key:"setPlayer",value:function(e,t){this.control[e]=t,this.store.players[e].isReady=!0}},{key:"setAudioPlayer",value:function(e){this.audioControl=e,this.store.audioPlayer.isReady=!0}},{key:"getActivePlayerPosition",value:function(){return 0===this.control.length?0:this.control[this.store.activePlayerIndex].player.getCurrentTime()}},{key:"getNextIndex",value:function(e,t){return e===t.length-1?0:e+1}},{key:"stop",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!1,e.next=5,Object(P.t)((function(){return!n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.playing[t]){e.next=2;break}return e.abrupt("return");case 2:return this.store.playing[t]=!0,e.next=5,Object(P.t)((function(){return n.store.players[t].playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playOne",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n=arguments;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(!(n.length>1&&void 0!==n[1])||n[1])&&(this.store.mode=a.PlayOne),this.store.isLoading=!0,e.next=5,this.stop(this.store.activePlayerIndex);case 5:return this.store.playingCutIndex=t,e.next=8,this.preloadCut(this.store.activePlayerIndex,t);case 8:return e.next=10,this.start(this.store.activePlayerIndex);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAll",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.isLoading=!0,this.store.createCurrentCuts(this.store.shotCuts),0!==this.store.currentCuts.length){e.next=6;break}return e.next=5,this.start(this.store.activePlayerIndex);case 5:return e.abrupt("return");case 6:return t||(this.store.mode=a.PlayAll),e.next=9,this.preloadShotCuts();case 9:return e.next=11,this.start(this.store.activePlayerIndex);case 11:return e.next=13,this.startAudio();case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"playAllFromPosition",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n){var r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=-1===this.store.playingCutIndex?0:this.store.playingCutIndex,i=this.getSourceSecondsByPosition(t,r),this.store.isLoading=!0,this.store.createCurrentCuts(this.store.shotCuts),0!==this.store.currentCuts.length){e.next=8;break}return e.next=7,this.start(this.store.activePlayerIndex);case 7:return e.abrupt("return");case 8:return n||(this.store.mode=a.PlayAll),e.next=11,this.preloadShotCuts(r,i);case 11:return e.next=13,this.start(this.store.activePlayerIndex);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"changeModeToCreate",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store){e.next=2;break}return e.abrupt("return");case 2:if(this.store.mode=a.Create,this.store.playingCutIndex=-1,void 0!==this.store.sources[t]){e.next=6;break}return e.abrupt("return");case 6:this.store.currentSourceIndex=t,n=0;case 8:if(!(n<this.store.players.length)){e.next=15;break}return e.next=11,this.stop(n);case 11:n===this.store.activePlayerIndex&&(this.store.players[n]=Object(C.a)(Object(C.a)({},this.store.players[n]),{},{url:this.store.sources[t].url,playing:!1}));case 12:n+=1,e.next=8;break;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeModeToShow",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.mode=a.Show,e.next=3,this.playAll(!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadCut",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n,r){var i,a=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r||this.store.currentCuts[n].time.startTime,this.store.players[t]=Object(C.a)(Object(C.a)({},this.store.players[t]),{},{isPreloading:!0,isPreloaded:!1,url:this.store.currentCuts[n].url,cutIndex:n,playing:!1,volume:this.store.currentCuts[n].volume||1}),e.next=4,Object(P.t)((function(){return a.store.players[t].isReady}));case 4:return this.control[t].player.getInternalPlayer().mute(),e.next=7,this.start(t);case 7:return e.next=9,this.stop(t);case 9:this.control[t].player.getInternalPlayer().seekTo(i,!0),this.control[t].player.getInternalPlayer().unMute(),this.store.players[t].isPreloading=!1,this.store.players[t].isPreloaded=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"quickMoveToPosition",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.store.activePlayerIndex,this.control[n].player.getInternalPlayer().seekTo(t,!0);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rewindOn",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n,r;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.activePlayerIndex,void 0!==(r=this.control[n].player.getCurrentTime())&&null!==r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.quickMoveToPosition(r+t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"preloadShotCuts",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n){var r,i,a,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.store.activePlayerIndex,i=t||0,a=0;case 3:if(!(a<this.store.players.length)){e.next=18;break}return e.next=6,this.stop(r);case 6:if(!(a<this.store.shotCuts.length)){e.next=14;break}return o=void 0!==n&&void 0!==t&&t===i?n:void 0,e.next=10,this.preloadCut(r,i,o);case 10:r=this.getNextIndex(r,this.store.players),i=this.getNextIndex(i,this.store.currentCuts),e.next=15;break;case 14:this.store.players[a]={id:this.store.players[a].id,url:"",playing:!1,cutIndex:a,isVisible:!1,isReady:!1,isPreloading:!1,isPreloaded:!1,muted:!1,volume:1};case 15:a+=1,e.next=3;break;case 18:this.store.playingCutIndex=t||0;case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"goToNextShotCut",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n){var r,i,a,o=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.store.playingCutIndex===this.store.currentCuts.length-1,this.store.isShowTransition=!r,e.next=4,this.stop(t);case 4:if(this.sendTimePosition(),!r){e.next=11;break}return console.log("Last cut is end"),e.next=9,this.stopAudio();case 9:return n&&n(),e.abrupt("return");case 11:return i=this.store.playingCutIndex+this.store.players.length,a=i<this.store.currentCuts.length,console.log("Go from ".concat(this.store.playingCutIndex," to ").concat(this.store.nextCutIndex," cut")),this.store.activePlayerIndex=this.store.nextPlayerIndex,this.store.playingCutIndex=this.store.nextCutIndex,e.next=18,this.start(this.store.activePlayerIndex);case 18:if(this.store.players[t].isVisible=!1,this.store.players[this.store.activePlayerIndex].isVisible=!0,setTimeout((function(){return o.store.isShowTransition=!1}),400),a){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,this.preloadCut(t,i);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setTimePosition",value:function(){var e=this.control[this.store.activePlayerIndex].player.getCurrentTime();if(this.store.sourceTimePosition=e,0!==this.store.currentCuts.length){for(var t=0,n=0;n<this.store.currentCuts.length&&!(n>this.store.playingCutIndex);n+=1){var r=this.store.currentCuts[n].time.startTime,i=this.store.currentCuts[n].time.endTime;if(n===this.store.playingCutIndex){if(e<r||e>i)return;t+=e-r}else t+=i-r}this.store.timePosition=t}}},{key:"getCurrentPlayerDuration",value:function(){if(this.control[this.store.activePlayerIndex]){var e=this.control[this.store.activePlayerIndex].player.getDuration();return null!==e?e:0}}},{key:"sendTimePosition",value:function(){var e=this.control[this.store.activePlayerIndex],t=this.store.currentCuts[this.store.playingCutIndex];this.store.watchId&&t&&e&&rt.trackVideoWatching({watchId:this.store.watchId,cutId:t.id,timePosition:e.player.getCurrentTime()}).then((function(){})).catch((function(e){return console.error(e)}))}},{key:"getShotIndexByTimePosition",value:function(e){if(e<0||e>this.store.trailerLength||0===this.store.shotCuts.length)return null;for(var t=0,n=0;n<this.store.shotCuts.length;n+=1){var r=this.store.shotCuts[n].time;if(e<(t+=r.endTime-r.startTime))return n}return null}},{key:"loadShot",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store instanceof ct){e.next=2;break}return e.abrupt("return");case 2:return this.store.highlightedCutIndex=t,this.store.playingCutIndex=t,this.store.selectedGifId=null,this.store.createCurrentCuts(this.store.shotCuts),e.next=8,it.preloadCut(ht.activePlayerIndex,t,n);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSourceSecondsByPosition",value:function(e,t){if(e<0||0===this.store.shotCuts.length)return 0;var n=this.store.shotCuts.reduce((function(e,n,r){return r<t&&(e+=n.time.endTime-n.time.startTime),e}),0);return this.store.shotCuts[t].time.startTime+e-n}},{key:"changeModeToCreateAudio",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store){e.next=2;break}return e.abrupt("return");case 2:if(this.store.mode=a.CreateAudio,void 0!==this.store.audioSources[t]){e.next=5;break}return e.abrupt("return");case 5:this.store.currentAudioSourceIndex=t,n=0;case 7:if(!(n<this.store.players.length)){e.next=14;break}return e.next=10,this.stop(n);case 10:n===this.store.activePlayerIndex&&(this.store.players[n]=Object(C.a)(Object(C.a)({},this.store.players[n]),{},{url:this.store.audioSources[t].url,playing:!1}));case 11:n+=1,e.next=7;break;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseAudio",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.audioPlayer.isReady&&this.store.audioPlaying&&this.audioControl){e.next=2;break}return e.abrupt("return");case 2:return this.store.audioPlaying=!1,e.next=5,Object(P.t)((function(){return!t.store.audioPlayer.playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stopAudio",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"startAudio",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t=this;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.audioPlayer.isReady&&this.audioControl){e.next=2;break}return e.abrupt("return");case 2:return this.store.audioPlaying=!0,e.next=5,Object(P.t)((function(){return t.store.audioPlayer.playing}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"preloadAudio",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.audioPlayer.playing=!1,e.next=3,this.startAudio();case 3:return e.next=5,this.pauseAudio();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"moveToAudioPosition",value:function(e){this.audioControl&&this.audioControl.player.seekTo(e)}},{key:"getAudioPlayerDuration",value:function(){if(!this.audioControl)return 0;var e=this.audioControl.player.getDuration();return null!==e?e:0}}]),e}()),at=it,ot=new(function(){function e(){Object(S.a)(this,e),this.store=ht}return Object(k.a)(e,[{key:"getGifIndexById",value:function(e){var t=null;return this.store.gifs.map((function(n,r){return n.id===e&&(t=r),n})),t}},{key:"checkShowGifs",value:function(){if(this.store)for(var e=this.store.timePosition,t=0;t<this.store.gifs.length;t+=1){var n=this.store.gifs[t];if(void 0!==this.store.currentCuts[this.store.playingCutIndex]){var r=n.startShowTime,i=n.endShowTime;this.store.gifs[t].isShow=e>=r&&e<i}else this.store.gifs[t].isShow=!1}}},{key:"deleteGif",value:function(e){this.store.gifs=this.store.gifs.filter((function(t){return t.id!==e}))}},{key:"duplicateGif",value:function(e){var t=this.getGifIndexById(e);if(null!==t){var n=JSON.parse(JSON.stringify(this.store.gifs[t]));this.store.gifs.push(Object(C.a)(Object(C.a)({},n),{},{id:Object(Le.a)()}))}}}]),e}());Object(P.i)({enforceActions:"never"});var ct=(qe=function(e){Object(Ne.a)(n,e);var t=Object(Te.a)(n);function n(){var e;return Object(S.a)(this,n),e=t.call(this),Object(w.a)(e,"highlightedCutIndex",Xe,Object(Pe.a)(e)),Object(w.a)(e,"editingCutIndex",Qe,Object(Pe.a)(e)),Object(w.a)(e,"editingElement",Ke,Object(Pe.a)(e)),Object(w.a)(e,"pixelsPerSecond",$e,Object(Pe.a)(e)),Object(w.a)(e,"timeLineWidth",et,Object(Pe.a)(e)),Object(w.a)(e,"isMoveProgressBarOnChangeTimePosition",tt,Object(Pe.a)(e)),Object(w.a)(e,"dndState",nt,Object(Pe.a)(e)),e.mode=a.Create,Object(P.o)(Object(Pe.a)(e)),Object(P.g)((function(){return console.log("--\x3e In ".concat(e.mode.toUpperCase()," mode"))})),Object(P.g)((function(){if(null!==e.selectedGifId){var t=ot.getGifIndexById(e.selectedGifId);e.isEnableCanvas||null===e.highlightedCutIndex||null===t||(e.selectedGifId=null)}})),Object(P.g)((function(){-1===e.playingCutIndex&&ot.checkShowGifs()})),Object(P.g)((function(){e.mode===a.Create||e.mode===a.CreateAudio?(e.editingElement=null,e.isShowRecButton=!0,e.highlightedCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.isShowControlLayer=!1,e.selectedGifId=null,e.isMoveProgressBarOnChangeTimePosition=!1):e.mode===a.Show?(e.editingElement=null,e.isShowRecButton=!1,e.highlightedCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.isShowControlLayer=!0,e.selectedGifId=null,e.isMoveProgressBarOnChangeTimePosition=!1):e.mode===a.PlayAll?(e.editingElement=null,e.isShowRecButton=!1,e.highlightedCutIndex=null,e.isShowGifList=!1,e.isEnableCanvas=!1,e.isShowControlLayer=!0,e.selectedGifId=null,e.isMoveProgressBarOnChangeTimePosition=!0):e.mode===a.PlayOne?(e.editingElement=null,e.isShowRecButton=!1,e.isEnableCanvas=!1,e.isShowControlLayer=!0,e.isMoveProgressBarOnChangeTimePosition=!0):e.mode===a.EditShot?(e.isShowRecButton=!1,e.isShowGifList=!1,e.isEnableCanvas=!1,e.isShowControlLayer=!0,e.selectedGifId=null,e.isMoveProgressBarOnChangeTimePosition=!1):e.mode===a.EditGifs&&(e.isShowRecButton=!1,e.isShowGifList=!0,e.isEnableCanvas=!0,e.isShowControlLayer=!1,e.highlightedCutIndex=null,e.isMoveProgressBarOnChangeTimePosition=!1)})),e}return Object(k.a)(n,[{key:"addCutAndShot",value:function(e){var t=Object(Le.a)();this.cuts.push({id:t,url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}}),this.shotCuts.push({id:Object(Le.a)(),url:this.sources[this.currentSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}})}},{key:"addAudionCutAndShot",value:function(e){var t=Object(Le.a)();this.audioCuts.push({id:t,url:this.audioSources[this.currentAudioSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime}}),this.audioShotCuts.push({id:Object(Le.a)(),url:this.audioSources[this.currentAudioSourceIndex].url,time:{startTime:e.startTime,endTime:e.endTime},timePosition:{startTime:this.timePosition,endTime:this.timePosition+3}})}},{key:"addShot",value:function(e,t){var n=this.getCutById(e,t),r=this.getShotsByType(t);null!==n&&r.push({id:Object(Le.a)(),url:n.url,time:{startTime:n.time.startTime,endTime:n.time.endTime},timePosition:{startTime:this.timePosition,endTime:this.timePosition+3}})}},{key:"replaceShot",value:function(e,t,n,r){var i=this.getShotsByType(r),a=i.find((function(t){return t.id===e}));a&&(i.splice(t,1),i.splice(n,0,a))}},{key:"addSource",value:function(e){this.sources=[].concat(Object(Ie.a)(this.sources),[{id:Object(Le.a)(),index:this.sources.length,url:e}]),at.changeModeToCreate(this.sources.length-1)}},{key:"addAudioSource",value:function(e){this.audioSources=[].concat(Object(Ie.a)(this.audioSources),[{id:Object(Le.a)(),index:this.audioSources.length,url:e}]),at.changeModeToCreateAudio(this.audioSources.length-1)}},{key:"addGif",value:function(e){this.gifs=[].concat(Object(Ie.a)(this.gifs),[{id:Object(Le.a)(),title:e.title,type:e.type,src:e.images.original.url,x:0,y:0,height:.2*this.canvasSize.height,width:e.images.original.width*this.canvasSize.height*.2/e.images.original.height,canvasHeight:this.canvasSize.height,canvasWidth:this.canvasSize.width,startShowTime:this.timePosition,endShowTime:this.timePosition+3,isShow:!0}])}},{key:"removeCut",value:function(e){this.cuts=this.cuts.filter((function(t,n){return n!==e})),this.createCurrentCuts(this.cuts)}},{key:"removeShotCutById",value:function(e){this.shotCuts=this.shotCuts.filter((function(t){return t.id!==e})),this.createCurrentCuts(this.cuts),this.dndState=Object(C.a)(Object(C.a)({},this.dndState),{},{columns:Object(C.a)(Object(C.a)({},this.dndState.columns),{},{videoShots:Object(C.a)(Object(C.a)({},this.dndState.columns.videoShots),{},{cutIds:this.dndState.columns.videoShots.cutIds.filter((function(t){return t!==e}))})})})}},{key:"removeAudioShotCutById",value:function(e){this.audioShotCuts=this.audioShotCuts.filter((function(t){return t.id!==e})),this.dndState=Object(C.a)(Object(C.a)({},this.dndState),{},{columns:Object(C.a)(Object(C.a)({},this.dndState.columns),{},{audioShots:Object(C.a)(Object(C.a)({},this.dndState.columns.audioShots),{},{cutIds:this.dndState.columns.audioShots.cutIds.filter((function(t){return t!==e}))})})})}},{key:"removeSource",value:function(e){var t=this.sources[e].url;this.sources=this.sources.filter((function(t){return t.index!==e})).map((function(e,t){return e.index=t,e})),this.cuts=this.cuts.filter((function(e){return e.url!==t}))}},{key:"duplicateShotById",value:function(e){var t=this.getElementIndexById(e,this.shotCuts);if(null!==t){var n=JSON.parse(JSON.stringify(st.shotCuts[t]));this.shotCuts.push(Object(C.a)(Object(C.a)({},n),{},{id:Object(Le.a)()}))}}},{key:"duplicateAudioShotById",value:function(e){var t=this.getElementIndexById(e,this.audioShotCuts);if(null!==t){var n=JSON.parse(JSON.stringify(st.audioShotCuts[t]));this.audioShotCuts.push(Object(C.a)(Object(C.a)({},n),{},{id:Object(Le.a)()}))}}},{key:"clearStore",value:function(){Object(Be.a)(Object(Ee.a)(n.prototype),"clearStore",this).call(this),this.highlightedCutIndex=null,this.editingCutIndex=null,this.editingElement=null}},{key:"splitShot",value:function(e,t){var n=this.getElementIndexById(e,this.shotCuts);if(null!==n&&n===at.getShotIndexByTimePosition(t)){var r=at.getSourceSecondsByPosition(t,n),i=this.shotCuts[n],o=i.url,c=i.time,s=i.volume,l=[{id:Object(Le.a)(),url:o,volume:s,time:{startTime:c.startTime,endTime:r}},{id:Object(Le.a)(),url:o,volume:s,time:{startTime:r,endTime:c.endTime}}];this.shotCuts=this.shotCuts.reduce((function(e,t,r){return[].concat(Object(Ie.a)(e),r===n?l:[t])}),[]),st.mode=a.PlayAll}else console.log("Position is not in the shot: "+t+" sec")}},{key:"getShotsByType",value:function(e){var t;return(t={},Object(ke.a)(t,d.Video,this.shotCuts),Object(ke.a)(t,d.Audio,this.audioShotCuts),t)[e]}},{key:"getCutsByType",value:function(e){var t;return(t={},Object(ke.a)(t,d.Video,this.cuts),Object(ke.a)(t,d.Audio,this.audioCuts),t)[e]}},{key:"getCutById",value:function(e,t){var n=null;return this.getCutsByType(t).map((function(t){return t.id===e&&(n=t),t})),n}},{key:"getElementIndexById",value:function(e,t){for(var n=null,r=0;r<t.length;r+=1)if(t[r].id===e){n=r;break}return n}}]),n}(fe),Xe=Object(I.a)(qe.prototype,"highlightedCutIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=Object(I.a)(qe.prototype,"editingCutIndex",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=Object(I.a)(qe.prototype,"editingElement",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$e=Object(I.a)(qe.prototype,"pixelsPerSecond",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),et=Object(I.a)(qe.prototype,"timeLineWidth",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tt=Object(I.a)(qe.prototype,"isMoveProgressBarOnChangeTimePosition",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=Object(I.a)(qe.prototype,"dndState",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{cuts:{},columns:{videoCuts:{id:"videoCuts",title:"Cuts",cutIds:[]},videoShots:{id:"videoShots",title:"PlayList",cutIds:[]},audioCuts:{id:"audioCuts",title:"Cuts",cutIds:[]},audioShots:{id:"audioShots",title:"PlayList",cutIds:[]}},columnOrder:["videoCuts","videoShots","audioCuts","audioShots"]}}}),Object(I.a)(qe.prototype,"addCutAndShot",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addCutAndShot"),qe.prototype),Object(I.a)(qe.prototype,"addAudionCutAndShot",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addAudionCutAndShot"),qe.prototype),Object(I.a)(qe.prototype,"addShot",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addShot"),qe.prototype),Object(I.a)(qe.prototype,"replaceShot",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"replaceShot"),qe.prototype),Object(I.a)(qe.prototype,"addSource",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addSource"),qe.prototype),Object(I.a)(qe.prototype,"addAudioSource",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addAudioSource"),qe.prototype),Object(I.a)(qe.prototype,"addGif",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"addGif"),qe.prototype),Object(I.a)(qe.prototype,"removeCut",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"removeCut"),qe.prototype),Object(I.a)(qe.prototype,"removeShotCutById",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"removeShotCutById"),qe.prototype),Object(I.a)(qe.prototype,"removeAudioShotCutById",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"removeAudioShotCutById"),qe.prototype),Object(I.a)(qe.prototype,"removeSource",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"removeSource"),qe.prototype),Object(I.a)(qe.prototype,"duplicateShotById",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"duplicateShotById"),qe.prototype),Object(I.a)(qe.prototype,"duplicateAudioShotById",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"duplicateAudioShotById"),qe.prototype),Object(I.a)(qe.prototype,"splitShot",[P.f],Object.getOwnPropertyDescriptor(qe.prototype,"splitShot"),qe.prototype),qe),st=new ct;be.isDev&&(window.editorStore=st);var lt,ut,dt,pt,ht=st,bt=new N.a(st,{storageKey:r.EditorStore,storage:localStorage}),ft=n.p+"static/media/frames.f85886ec.svg",jt=n.p+"static/media/gif.53c43fae.svg",mt=n.p+"static/media/text.0498c6b9.svg",vt=n.p+"static/media/sticker.dc689e9f.svg",Ot=n.p+"static/media/audio.d0b4ab7d.svg",gt="frames",xt="text",yt="gifs",_t="sticker",Ct="audio",wt=[{id:gt,icon:ft},{id:Ct,icon:Ot},{id:xt,icon:mt},{id:yt,icon:jt},{id:_t,icon:vt}],St=new(lt=function(){function e(){Object(S.a)(this,e),Object(w.a)(this,"isLoadingApp",ut,this),Object(w.a)(this,"showHeader",dt,this),Object(w.a)(this,"tab",pt,this),Object(P.o)(this)}return Object(k.a)(e,[{key:"changeTab",value:function(e){this.tab=e}}]),e}(),ut=Object(I.a)(lt.prototype,"isLoadingApp",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),dt=Object(I.a)(lt.prototype,"showHeader",[N.b,P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pt=Object(I.a)(lt.prototype,"tab",[P.p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gt}}),Object(I.a)(lt.prototype,"changeTab",[P.f],Object.getOwnPropertyDescriptor(lt.prototype,"changeTab"),lt.prototype),lt);be.isDev&&(window.uiStore=St);var kt=St,It=new N.a(St,{storageKey:r.UiStore,storage:localStorage}),Pt=Object(p.createContext)({playerStore:we,editorStore:ht,userStore:Ge,uiStore:kt}),Nt=function(){return Object(p.useContext)(Pt)},Tt=n(233),Bt=n.n(Tt),Et=n(5),Lt=n.p+"static/media/user.e027a384.png",At=n.p+"static/media/verify.51943624.svg",Mt=n.p+"static/media/Discord.53f71c3b.svg",Vt=n.p+"static/media/Instagram.0a636917.svg",Dt=n.p+"static/media/Facebook.65c220e8.svg",Rt=n.p+"static/media/Reddit.7cbb36e7.svg",Ut=n.p+"static/media/Telegram.f658dd71.svg",zt=n.p+"static/media/TikTok.1b981bfc.svg",Wt=n.p+"static/media/Twitch.ac06922a.svg",Gt=n.p+"static/media/Twitter.96eb61d4.svg",Ft=n.p+"static/media/YouTube.9d663bf7.svg",Ht=n.p+"static/media/Home.05359e9c.svg",Zt=n(58),Yt=n.n(Zt);function Jt(e){return e<10?"0".concat(e.toString(10)):e}function qt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||e<=0)return"00:00:00.0";var n=Math.floor(e/60/60),r=Math.floor(e/60%60),i=Math.floor(e%60),a=Math.floor(10*(e-Math.floor(e))),o="".concat(Jt(n),":").concat(Jt(r),":").concat(Jt(i));return t&&(o="".concat(o,".").concat(a)),o}var Xt=function(e,t){return Math.floor(e).toString().split("").reduceRight((function(e,n,r,i){return(i.length-1-r)%3===0&&""!==e?n+t+e:n+e}),"")},Qt=n(55),Kt=n.n(Qt),$t=n(90),en=n.n($t),tn=n(482),nn=n(1),rn=function(e){var t=e.userInfo,n=e.viewSeconds,r=e.nameStyle,i=e.durationStyle,a=e.onHoverSeconds;return Object(nn.jsxs)("div",{className:en.a.container,children:[Object(nn.jsx)("div",{className:en.a.image,children:(null===t||void 0===t?void 0:t.photoUrl)?Object(nn.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)||"",alt:"user"}):Object(nn.jsx)(tn.a,{className:en.a.avatar,children:t.firstName[0]+t.lastName[0]})}),Object(nn.jsxs)("div",{className:en.a.info,children:[Object(nn.jsx)(O.b,{to:"/u/".concat(null===t||void 0===t?void 0:t.username),className:en.a.name,style:r,children:null===t||void 0===t?void 0:t.username}),Object(nn.jsxs)("span",{className:en.a.duration,style:i,onMouseOver:a,children:[Xt(n,",")," sec. view"]})]})]})},an=n(14),on=n.n(an),cn=function(e){var t=e.bestViewerParam,n=e.hideHandler,r=e.fetchBestViewers,i=Object(p.useState)([]),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useState)(0),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=Object(p.useState)([]),b=Object(Et.a)(h,2),f=b[0],j=b[1],m=Object(g.g)(),v=function(e){m.push("/u/".concat(e.username))},O=Object(p.useCallback)(Object(Ve.a)(Me.a.mark((function e(){var n,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t);case 3:n=e.sent,i=n.data,c(i.users),d(i.other.secondsCount),j(i.socialNetworks),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t,r]);Object(p.useEffect)((function(){O()}),[O]),Object(p.useEffect)((function(){return function(){return n()}}),[n]);return Object(nn.jsxs)("div",{className:Kt.a.root,children:[Object(nn.jsx)("div",{className:Kt.a.title,children:"Best viewers"}),Object(nn.jsx)("div",{className:Kt.a.usersContainer,children:0===o.length?Object(nn.jsx)("div",{className:Kt.a.noOneText,children:"No one viewed"}):o.map((function(e,t){return Object(nn.jsx)("div",{className:Kt.a.userData,onClick:v.bind(null,e),children:Object(nn.jsx)(rn,{userInfo:e,viewSeconds:e.secondsCount,nameStyle:{fontSize:"15px",color:"black"},durationStyle:{fontSize:"13px",color:"#00A3FF"}},t)},e.id)}))}),Object(nn.jsxs)("div",{className:Kt.a.sources,children:[Object(nn.jsxs)("div",{className:on()(Kt.a.source,Kt.a.otherViewsContainer),children:[Object(nn.jsx)("span",{className:Kt.a.otherViews,children:"Other views: "}),Object(nn.jsxs)("span",{className:Kt.a.seconds,children:[Xt(u,",")," sec."]})]}),f.map((function(e,t){return Object(nn.jsxs)("div",{className:Kt.a.source,children:[Object(nn.jsx)("span",{children:"".concat((n=e.type,n[0].toUpperCase()+n.slice(1)),": ")}),Object(nn.jsxs)("span",{className:Kt.a.seconds,children:[Xt(e.secondsCount,",")," sec."]})]},t);var n}))]})]})},sn=n.p+"static/media/mockImage.2132a559.png",ln=function(e,t){Object(p.useEffect)((function(){var n=function(n){(null===e||void 0===e?void 0:e.current)&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])},un={discord:Mt,instagram:Vt,facebook:Dt,reddit:Rt,telegram:Ut,tiktok:zt,twitch:Wt,twitter:Gt,youtube:Ft,homepage:Ht},dn=Object(v.a)((function(e){var t,n,r,i=e.user,a=e.isAnotherUser,o=Object(p.useRef)(null),c=Nt(),s=c.userStore,l=c.playerStore,u=Object(p.useState)(!1),d=Object(Et.a)(u,2),h=d[0],b=d[1],f=Object(p.useState)(i.secondsCount),j=Object(Et.a)(f,2),m=j[0],v=j[1],O=Object(p.useState)(i.secondsCount),g=Object(Et.a)(O,2),x=g[0],y=g[1];t=m,n=x,r=v,Object(p.useEffect)((function(){n-t<1||setTimeout((function(){var e=(n-t)/100;r(t+(e>1?e:1))}),200)}),[t,n,r]),Object(p.useEffect)((function(){var e=setInterval((function(){rt.getAnotherUserSecondsCount(i.username).then((function(e){var t=e.data;a?l.setCreatorSecondsCount(t.value):s.setUserSecondsCount(t.value),y(t.value)})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}}));var _=function(){return b(!1)};return ln(o,_),Object(nn.jsxs)("div",{className:Yt.a.container,children:[Object(nn.jsx)("div",{className:Yt.a.slides,children:Object(nn.jsx)("img",{src:i.coverImageUrl||sn,alt:"background"})}),Object(nn.jsxs)("div",{className:Yt.a.userImage,children:[Object(nn.jsx)("div",{className:Yt.a.image,children:Object(nn.jsx)("img",{src:i.photoUrl||Lt,alt:"UserData"})}),Object(nn.jsx)("div",{className:Yt.a.status,children:Object(nn.jsx)("img",{src:At,alt:"Active status"})})]}),Object(nn.jsx)("p",{className:Yt.a.name,children:i.username}),Object(nn.jsx)("p",{className:Yt.a.nickName,children:i.username}),Object(nn.jsx)("p",{className:Yt.a.about,children:i.about||"Hi there! I am using eyemo.app to make highlight clips!"}),Object(nn.jsxs)("div",{ref:o,className:Yt.a.totalTime,onMouseOver:function(){return b(!0)},children:[Xt(m||0,",")," sec.",h&&Object(nn.jsx)("div",{className:Yt.a.bestViewers,children:Object(nn.jsx)(cn,{bestViewerParam:i.username,hideHandler:_,fetchBestViewers:rt.getUserBestViewers})})]}),Object(nn.jsx)("ul",{className:Yt.a.socialList,children:i.socialNetworks&&i.socialNetworks.map((function(e,t){return Object(nn.jsx)("li",{children:Object(nn.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(nn.jsx)("img",{src:un[e.type],alt:"Social item"})})},t)}))})]})})),pn=n(50),hn=n.n(pn),bn=n(238),fn=n.n(bn),jn=function(e){var t=e.children;return Object(nn.jsx)("div",{className:fn.a.container,children:t})},mn=n(152),vn=n.n(mn),On=function(e){var t=e.tabs,n=e.url;return Object(nn.jsx)("div",{className:vn.a.container,children:t.map((function(e){return Object(nn.jsx)(O.c,{exact:!0,to:"".concat(n,"/").concat(e.path),className:vn.a.link,activeClassName:vn.a.active,children:e.title},e.title)}))})},gn=n.p+"static/media/addIcon.f9e36598.svg",xn=n(153),yn=n.n(xn),_n=n(67),Cn=n.n(_n),wn=n.p+"static/media/mock.a377b9bb.png",Sn=n.p+"static/media/more.d677cbdc.svg",kn=n(71),In=n.n(kn),Pn="blue",Nn="red",Tn="lightBlue",Bn="lightBlueText",En=n.p+"static/media/close.f88f3a6a.svg",Ln=function(e){var t,n=e.type,r=e.active,i=e.children,a=e.disabled,o=e.colorTheme,c=e.withBorder,s=e.deleteButton,l=e.onClick,u=e.onDelete;return Object(nn.jsxs)("button",{className:on()(In.a.button,(t={},Object(ke.a)(t,In.a.active,r),Object(ke.a)(t,In.a.disabled,a),Object(ke.a)(t,In.a.withBorder,c),Object(ke.a)(t,In.a.redTheme,o===Nn),Object(ke.a)(t,In.a.blueTheme,o===Pn),Object(ke.a)(t,In.a.lightBlueTheme,o===Tn),Object(ke.a)(t,In.a.lightBlueTextTheme,o===Bn),t)),disabled:a,type:n||"submit",onClick:l,children:[i,s&&Object(nn.jsx)("div",{className:In.a.delete,onClick:u,children:Object(nn.jsx)("img",{src:En,alt:"close icon"})})]})},An=n(123),Mn=n.n(An),Vn=n(180),Dn=n.n(Vn),Rn=n.p+"static/media/close.15725202.svg",Un=n(181),zn=n.n(Un);Dn.a.setAppElement("#root");var Wn,Gn,Fn={content:{position:"relative",border:"none",borderRadius:0,backgroundColor:"transparent",inset:"0 0 0 0",height:"100%",padding:"0",overflow:"hidden"},overlay:{zIndex:100,top:"0",left:"0",right:"0",bottom:"0",backdropFilter:"blur(3px)",backgroundColor:"rgba(0,0,0,.8)",display:"flex",alignItems:"center",justifyContent:"center"}},Hn=function(e){var t=e.isOpen,n=e.children,r=e.toggleModal;return Object(nn.jsx)(Dn.a,{isOpen:t,style:Fn,onRequestClose:r,shouldCloseOnEsc:!0,children:Object(nn.jsxs)("div",{className:zn.a.block,children:[Object(nn.jsx)("button",{className:zn.a.closeButton,onClick:r,children:Object(nn.jsx)("img",{src:Rn,alt:"close"})}),n]})})},Zn=function(e){var t=e.onConfirm,n=e.onCancel,r=e.title,i=e.description,a=e.confirmBtnText,o=e.isOpen,c=e.toggleModal;return Object(nn.jsx)(Hn,{isOpen:o,toggleModal:c,children:Object(nn.jsxs)("div",{className:Mn.a.container,children:[Object(nn.jsx)("p",{className:Mn.a.title,children:r}),i&&Object(nn.jsx)("p",{className:Mn.a.description,children:i}),Object(nn.jsxs)("div",{className:Mn.a.buttons,children:[Object(nn.jsx)(Ln,{onClick:n,children:"Cancel"}),Object(nn.jsx)(Ln,{colorTheme:Pn,onClick:t,children:a})]})]})})},Yn=function(e){var t=e.confirm,n=e.action,r=e.text,i=Object(p.useState)(!1),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=function(e){e&&e.stopPropagation(),c(!o)};return Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("button",{onClick:t?s:function(e){return n(e)},children:r}),t&&Object(nn.jsx)(Zn,{title:t.title,description:t.description,confirmBtnText:t.confirmBtnText,onConfirm:n,onCancel:s,isOpen:o,toggleModal:s})]})},Jn=n(239),qn=n.n(Jn);function Xn(){return(Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kn(e,t){var n=e.title,r=e.titleId,i=Qn(e,["title","titleId"]);return p.createElement("svg",Xn({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Wn||(Wn=p.createElement("circle",{cx:16,cy:16,r:16,fill:"white",fillOpacity:.8})),Gn||(Gn=p.createElement("path",{d:"M22.2222 24L16 19.5556L9.7778 24V9.77778C9.7778 9.30628 9.9651 8.8541 10.2985 8.5207C10.6319 8.1873 11.0841 8 11.5556 8H20.4445C20.916 8 21.3681 8.1873 21.7015 8.5207C22.0349 8.8541 22.2222 9.30628 22.2222 9.77778V24Z",stroke:"#131635",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var $n,er=p.forwardRef(Kn),tr=(n.p,function(e){var t=e.video,n=Object(p.useState)(!1),r=Object(Et.a)(n,2),i=r[0],a=r[1],o=Object(p.useState)(!!t.isSaved),c=Object(Et.a)(o,2),s=c[0],l=c[1],u=function(){var e=Object(Ve.a)(Me.a.mark((function e(n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),a(!0),e.prev=2,s){e.next=9;break}return e.next=6,rt.addVideoToSaved(t.id);case 6:l(!0),e.next=12;break;case 9:return e.next=11,rt.removeVideoFromSaved(t.id);case 11:l(!1);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:return e.prev=17,a(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(nn.jsx)("div",{children:Object(nn.jsx)("button",{onClick:u,disabled:i,children:Object(nn.jsx)(er,{className:on()(Object(ke.a)({},qn.a.isSaved,s))})})})}),nr=function(e,t,n){Object(p.useEffect)((function(){var r=setInterval((function(){t!==e.length-1?n(t+1):n(0)}),2e3);return function(){return clearInterval(r)}}))},rr=n(154),ir=n.n(rr),ar=n.p+"static/media/share.94d016a4.svg",or=n(471),cr=n(472),sr=n(473),lr=n(44),ur=n.n(lr);function dr(){return(dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hr(e,t){var n=e.title,r=e.titleId,i=pr(e,["title","titleId"]);return p.createElement("svg",dr({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,$n||($n=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8.04467C0 12.022 2.88867 15.3293 6.66667 16V10.222H4.66667V8H6.66667V6.222C6.66667 4.222 7.95533 3.11133 9.778 3.11133C10.3553 3.11133 10.978 3.2 11.5553 3.28867V5.33333H10.5333C9.55533 5.33333 9.33333 5.822 9.33333 6.44467V8H11.4667L11.1113 10.222H9.33333V16C13.1113 15.3293 16 12.0227 16 8.04467C16 3.62 12.4 0 8 0C3.6 0 0 3.62 0 8.04467Z",fill:"#7D8DA7"})))}var br,fr,jr,mr,vr=p.forwardRef(hr);n.p;function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xr(e,t){var n=e.title,r=e.titleId,i=gr(e,["title","titleId"]);return p.createElement("svg",Or({width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,br||(br=p.createElement("path",{d:"M3.25301 6.61489L1.27006 8.59784C0.456855 9.41105 0 10.514 0 11.664C0 12.8141 0.456855 13.917 1.27006 14.7302C2.08327 15.5434 3.18621 16.0003 4.33626 16.0003C5.48631 16.0003 6.58926 15.5434 7.40246 14.7302L10.0445 12.0868C10.5349 11.5963 10.9004 10.9954 11.1105 10.3344C11.3206 9.67346 11.3691 8.97174 11.2518 8.28816C11.1346 7.60459 10.8551 6.95911 10.4368 6.4059C10.0185 5.8527 9.47354 5.40792 8.84776 5.10889L8.00082 5.95583C7.91482 6.04196 7.84004 6.13859 7.77824 6.24345C8.26173 6.38244 8.70058 6.64521 9.0514 7.00578C9.40221 7.36635 9.65285 7.81224 9.77854 8.29936C9.90422 8.78648 9.9006 9.29797 9.76803 9.78326C9.63546 10.2686 9.37853 10.7108 9.02265 11.0664L6.38208 13.7084C5.83969 14.2508 5.10405 14.5555 4.33699 14.5555C3.56993 14.5555 2.83428 14.2508 2.29189 13.7084C1.7495 13.166 1.44478 12.4304 1.44478 11.6633C1.44478 10.8963 1.7495 10.1606 2.29189 9.61822L3.43801 8.47354C3.2763 7.86757 3.21383 7.2394 3.25301 6.61344V6.61489Z",fill:"#7D8DA7"})),fr||(fr=p.createElement("path",{d:"M4.69435 7.21926L4.93572 6.9779C5.2938 6.6185 5.74057 6.36021 6.23071 6.22923C6.36168 5.7391 6.61997 5.29232 6.97937 4.93425L7.22074 4.69288C6.4937 4.65201 5.76806 4.79465 5.1106 5.10768C4.79263 5.77252 4.65389 6.49951 4.69435 7.21782V7.21926Z",fill:"#7D8DA7"})),jr||(jr=p.createElement("path",{d:"M5.95724 3.91207C5.46685 4.40252 5.10128 5.00345 4.8912 5.66443C4.68112 6.3254 4.63266 7.02712 4.74989 7.7107C4.86712 8.39427 5.14663 9.03975 5.56494 9.59295C5.98325 10.1462 6.52817 10.5909 7.15394 10.89L8.27405 9.76842C7.78402 9.63698 7.33721 9.37888 6.97854 9.02005C6.61986 8.66122 6.36194 8.21431 6.2307 7.72422C6.09947 7.23413 6.09953 6.71814 6.2309 6.22808C6.36226 5.73803 6.62029 5.29119 6.97906 4.93245L9.61962 2.29044C10.162 1.74805 10.8977 1.44334 11.6647 1.44334C12.4318 1.44334 13.1674 1.74805 13.7098 2.29044C14.2522 2.83284 14.5569 3.56848 14.5569 4.33554C14.5569 5.1026 14.2522 5.83825 13.7098 6.38064L12.5637 7.52532C12.7256 8.13234 12.7877 8.76105 12.7487 9.38542L14.7316 7.40247C15.5449 6.58926 16.0017 5.48631 16.0017 4.33626C16.0017 3.18622 15.5449 2.08327 14.7316 1.27006C13.9184 0.456855 12.8155 0 11.6654 0C10.5154 0 9.41245 0.456855 8.59924 1.27006L5.95724 3.91207Z",fill:"#7D8DA7"})),mr||(mr=p.createElement("path",{d:"M10.8914 10.8902C11.2058 10.2331 11.3489 9.50725 11.3076 8.78003L11.0663 9.02139C10.7082 9.3808 10.2614 9.63909 9.77128 9.77006C9.64031 10.2602 9.38202 10.707 9.02261 11.065L8.78125 11.3064C9.50828 11.3473 10.2339 11.2046 10.8914 10.8916V10.8902Z",fill:"#7D8DA7"})))}var yr,_r,Cr,wr,Sr,kr,Ir=p.forwardRef(xr);n.p;function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tr(e,t){var n=e.title,r=e.titleId,i=Nr(e,["title","titleId"]);return p.createElement("svg",Pr({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,yr||(yr=p.createElement("path",{d:"M8.00008 5.33325C9.76541 5.33325 11.3521 5.88392 12.4501 6.75992C12.8257 6.62825 13.236 6.63536 13.6069 6.77995C13.9777 6.92455 14.2846 7.19709 14.4719 7.54827C14.6593 7.89945 14.7147 8.30608 14.6283 8.69461C14.5419 9.08315 14.3193 9.42793 14.0007 9.66659C14.0007 12.0599 11.3141 13.9999 8.00075 13.9999C4.75075 13.9999 2.10408 12.1333 2.00075 9.80392L1.33408 9.66659C1.01554 9.42793 0.792926 9.08315 0.706508 8.69461C0.620089 8.30608 0.675573 7.89945 0.862923 7.54827C1.05027 7.19709 1.35712 6.92455 1.72795 6.77995C2.09879 6.63536 2.50913 6.62825 2.88475 6.75992C3.98208 5.88459 5.56875 5.33325 7.33408 5.33325H8.00008Z",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),_r||(_r=p.createElement("path",{d:"M8 5.33333L8.66667 2L12.6667 2.66667",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),Cr||(Cr=p.createElement("path",{d:"M12.6667 3.33333C13.0349 3.33333 13.3333 3.03486 13.3333 2.66667C13.3333 2.29848 13.0349 2 12.6667 2C12.2985 2 12 2.29848 12 2.66667C12 3.03486 12.2985 3.33333 12.6667 3.33333Z",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),wr||(wr=p.createElement("path",{d:"M6.00008 8.99992C6.18418 8.99992 6.33341 8.85068 6.33341 8.66659C6.33341 8.48249 6.18418 8.33325 6.00008 8.33325C5.81599 8.33325 5.66675 8.48249 5.66675 8.66659C5.66675 8.85068 5.81599 8.99992 6.00008 8.99992Z",fill:"#7D8DA7",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),Sr||(Sr=p.createElement("path",{d:"M10.0001 8.99992C10.1842 8.99992 10.3334 8.85068 10.3334 8.66659C10.3334 8.48249 10.1842 8.33325 10.0001 8.33325C9.81599 8.33325 9.66675 8.48249 9.66675 8.66659C9.66675 8.85068 9.81599 8.99992 10.0001 8.99992Z",fill:"#7D8DA7",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})),kr||(kr=p.createElement("path",{d:"M6.66675 11.3333C7.11141 11.5553 7.55541 11.6666 8.00008 11.6666C8.44475 11.6666 8.88875 11.5553 9.33341 11.3333",stroke:"#7D8DA7",strokeWidth:1.33333,strokeLinecap:"round",strokeLinejoin:"round"})))}var Br,Er=p.forwardRef(Tr);n.p;function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mr(e,t){var n=e.title,r=e.titleId,i=Ar(e,["title","titleId"]);return p.createElement("svg",Lr({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Br||(Br=p.createElement("path",{d:"M13.0351 1.99802C12.8745 2.0097 12.717 2.04736 12.5686 2.10952H12.5666C12.4241 2.16602 11.7466 2.45102 10.7166 2.88302L7.02556 4.43752C4.37706 5.55252 1.77356 6.65052 1.77356 6.65052L1.80456 6.63852C1.80456 6.63852 1.62506 6.69752 1.43756 6.82602C1.32172 6.89973 1.22205 6.99618 1.14456 7.10952C1.05256 7.24452 0.978559 7.45102 1.00606 7.66452C1.05106 8.02552 1.28506 8.24202 1.45306 8.36152C1.62306 8.48252 1.78506 8.53902 1.78506 8.53902H1.78906L4.23056 9.36152C4.34006 9.71302 4.97456 11.799 5.12706 12.2795C5.21706 12.5665 5.30456 12.746 5.41406 12.883C5.46706 12.953 5.52906 13.0115 5.60356 13.0585C5.64229 13.081 5.68358 13.0988 5.72656 13.1115L5.70156 13.1055C5.70906 13.1075 5.71506 13.1135 5.72056 13.1155C5.74056 13.121 5.75406 13.123 5.77956 13.127C6.16606 13.244 6.47656 13.004 6.47656 13.004L6.49406 12.99L7.93556 11.6775L10.3516 13.531L10.4066 13.5545C10.9101 13.7755 11.4201 13.6525 11.6896 13.4355C11.9611 13.217 12.0666 12.9375 12.0666 12.9375L12.0841 12.8925L13.9511 3.32802C14.0041 3.09202 14.0176 2.87102 13.9591 2.65652C13.8987 2.43943 13.7594 2.25273 13.5686 2.13302C13.4083 2.03558 13.2224 1.98855 13.0351 1.99802ZM12.9846 3.02302C12.9826 3.05452 12.9886 3.05102 12.9746 3.11152V3.11702L11.1251 12.582C11.1171 12.5955 11.1036 12.625 11.0666 12.6545C11.0276 12.6855 10.9966 12.705 10.8341 12.6405L7.87906 10.375L6.09406 12.002L6.46906 9.60702L11.2971 5.10702C11.4961 4.92202 11.4296 4.88302 11.4296 4.88302C11.4436 4.65602 11.1291 4.81652 11.1291 4.81652L5.04106 8.58802L5.03906 8.57802L2.12106 7.59552V7.59352L2.11356 7.59202C2.11867 7.59032 2.12368 7.58832 2.12856 7.58602L2.14456 7.57802L2.16006 7.57252C2.16006 7.57252 4.76556 6.47452 7.41406 5.35952C8.74006 4.80102 10.0761 4.23852 11.1036 3.80452C12.1311 3.37302 12.8906 3.05652 12.9336 3.03952C12.9746 3.02352 12.9551 3.02352 12.9846 3.02352V3.02302Z",fill:"#7D8DA7"})))}var Vr=p.forwardRef(Mr),Dr=(n.p,n(182)),Rr=n.n(Dr),Ur=function(e,t,n){Object(p.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){n(!0)})),t.addEventListener("mouseleave",(function(){n(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){n(!1)})),t.removeEventListener("mouseleave",(function(){n(!1)})))}}),[e,t,n])},zr=function(e){var t=e.child,n=e.onClick,r=Object(p.useState)(!1),i=Object(Et.a)(r,2),a=i[0],o=i[1],c=Object(p.useRef)(null);return Ur(c,a,o),Object(nn.jsx)("div",{ref:c,className:on()(ur.a.menuItem,Object(ke.a)({},ur.a.isActive,a)),onClick:n,children:t})},Wr=Object(v.a)((function(e){var t=e.videoId,n=Nt().editorStore,r=function(e){e.stopPropagation()},i=[Object(nn.jsx)(or.a,{quote:"This is my new clip",url:n.shareUrl(t),children:Object(nn.jsxs)("div",{className:ur.a.contentMenuItem,children:[Object(nn.jsx)(vr,{}),Object(nn.jsx)("span",{className:ur.a.title,children:"Facebook"})]})}),Object(nn.jsx)(cr.a,{title:"This is my new clip",url:n.shareUrl(t),children:Object(nn.jsxs)("div",{className:ur.a.contentMenuItem,children:[Object(nn.jsx)(Vr,{}),Object(nn.jsx)("span",{className:ur.a.title,children:"Telegram"})]})}),Object(nn.jsx)(sr.a,{title:"This is my new clip",url:n.shareUrl(t),children:Object(nn.jsxs)("div",{className:ur.a.contentMenuItem,children:[Object(nn.jsx)(Er,{}),Object(nn.jsx)("span",{className:ur.a.title,children:"Reddit"})]})}),Object(nn.jsx)(Rr.a,{text:n.shareUrl(t)||"",children:Object(nn.jsxs)("div",{className:ur.a.contentMenuItem,children:[Object(nn.jsx)(Ir,{}),Object(nn.jsx)("span",{className:ur.a.title,children:"Copy link"})]})}),Object(nn.jsx)(Rr.a,{text:n.getIframeCode(t)||"",children:Object(nn.jsxs)("div",{className:ur.a.contentMenuItem,children:[Object(nn.jsx)(Ir,{}),Object(nn.jsx)("span",{className:ur.a.title,children:"Copy iframe"})]})})];return Object(nn.jsx)("div",{className:ur.a.container,children:i.map((function(e,t){return Object(nn.jsx)(zr,{child:e,onClick:r},t)}))})})),Gr=Object(v.a)((function(e){var t=e.videoId;return Object(nn.jsxs)("div",{className:ir.a.container,children:[Object(nn.jsx)("button",{className:ir.a.shareButton,children:Object(nn.jsx)("img",{src:ar,alt:"share"})}),Object(nn.jsx)("div",{className:ir.a.shareMenu,children:Object(nn.jsx)(Wr,{videoId:t})})]})})),Fr=function(e){var t=e.item,n=e.index,r=e.openModal,i=e.updateList,a=e.showMoreBtn,o=e.showSaveBtn,c=e.showShareBtn,s=Nt(),l=s.editorStore,u=s.playerStore,d=Object(p.useRef)(null),h=Object(p.useState)(0),b=Object(Et.a)(h,2),f=b[0],j=b[1],m=Object(g.g)();nr(t.sources,f,j);var v=function(e){e.stopPropagation(),rt.getVideoById(t.id).then((function(e){var t=e.data;u.clearStore(),u.loadVideoToStore(t),r(!0),at.changeModeToShow()})).catch((function(e){return console.error(e)}))},O=[{text:"Open in modal",action:function(e){v(e)}},{text:"Edit video",action:function(e){e.stopPropagation(),rt.getVideoById(t.id).then((function(e){var t=e.data;l.clearStore(),l.loadVideoToStore(t),m.push("/"),at.changeModeToCreate(0)})).catch((function(e){return console.error(e)}))}},{text:"Delete video",action:function(e){e.stopPropagation(),rt.deleteVideoById(t.id).then((function(){return i()})).catch((function(e){return console.error(e)}))},confirm:{title:"Delete video",description:"Are you sure you want to delete this video?",confirmBtnText:"Delete video"}}];return Object(nn.jsxs)("div",{className:hn.a.playerWrapper,children:[Object(nn.jsxs)("div",{className:hn.a.player,onClick:v,children:[0!==t.sources.length&&t.sources[f]?Object(nn.jsx)(Cn.a,{ref:d,width:"100%",height:"100%",url:t.sources[f].url,muted:!0,controls:!1,light:!0,playIcon:Object(nn.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}},t.sources[0].id):Object(nn.jsx)("img",{src:wn,alt:"Mock",style:{width:"100%"}}),Object(nn.jsx)("div",{className:hn.a.playerBlocker})]},n),a&&Object(nn.jsx)("div",{className:hn.a.buttons,children:Object(nn.jsxs)("div",{className:hn.a.buttonsContainer,children:[Object(nn.jsx)("button",{className:hn.a.button,children:Object(nn.jsx)("img",{src:Sn,alt:"More"})}),Object(nn.jsx)("ul",{className:hn.a.buttonsList,children:O.map((function(e,t){var n=e.text,r=e.action,i=e.confirm;return Object(nn.jsx)("li",{className:hn.a.buttonItem,children:Object(nn.jsx)(Yn,{confirm:i,action:r,text:n})},t)}))})]})}),c&&Object(nn.jsx)("div",{className:hn.a.shareBtnContainer,children:Object(nn.jsx)(Gr,{videoId:t.id})}),o&&Object(nn.jsx)("div",{className:hn.a.saveBtnContainer,children:Object(nn.jsx)(tr,{video:t})}),Object(nn.jsxs)("p",{className:hn.a.duration,children:[Xt(t.secondsCount||0,",")," sec. view"]})]})},Hr=n(109),Zr=n.n(Hr),Yr=n(103),Jr=Object(v.a)((function(){var e=Object(p.useState)([]),t=Object(Et.a)(e,2),n=t[0],r=t[1],i=Object(p.useState)(!1),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useState)(!0),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=Object(p.useState)(!1),b=Object(Et.a)(h,2),f=b[0],j=b[1],m=Object(p.useState)(0),v=Object(Et.a)(m,2),O=v[0],g=v[1],x=Nt().playerStore,y=function(){var e;rt.getRandomUserVideosByName({userName:(null===(e=x.creator)||void 0===e?void 0:e.username)||null,limit:10,offset:O}).then((function(e){var t=e.data;d(n.length+t.list.length<t.totalCount),r([].concat(Object(Ie.a)(n),Object(Ie.a)(t.list))),function(e){x.playList=e.map((function(e){return e.id})).filter((function(e){return e!==x.videoId}))}([].concat(Object(Ie.a)(n),Object(Ie.a)(t.list))),g(O+t.list.length)})).catch((function(e){console.error(e),j(!0)})).finally((function(){return c(!1)}))},_=Object(p.useCallback)(y,[x]);Object(p.useEffect)((function(){return _()}),[_]);var C=Object(Yr.a)({loading:o,hasNextPage:u,onLoadMore:y,disabled:f}),w=Object(Et.a)(C,1)[0],S=function(e,t){t.stopPropagation(),rt.getVideoById(e.id).then((function(e){var t=e.data;x.clearStore(),x.loadVideoToStore(t)})).catch((function(e){return console.error(e)}))};return Object(nn.jsxs)("div",{className:Zr.a.container,children:[Object(nn.jsx)("p",{className:Zr.a.title,children:"Also watch other videos:"}),Object(nn.jsx)("ul",{className:Zr.a.list,children:n.map((function(e,t){return Object(nn.jsxs)("div",{className:Zr.a.player,onClick:S.bind(null,e),children:[Object(nn.jsx)(Cn.a,{width:"100%",height:"100%",url:e.sources[0]?e.sources[0].url:"",muted:!0,controls:!1,light:!0,playIcon:Object(nn.jsx)("div",{}),config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1}}}}),Object(nn.jsx)("div",{className:Zr.a.playerBlocker})]},e.id)}))}),(o||u)&&Object(nn.jsx)("div",{ref:w,children:"Loading..."})]})})),qr=n(76),Xr=n.n(qr),Qr=n(144),Kr=n.n(Qr),$r=n(60),ei=n.n($r);var ti,ni=Object(v.a)((function(e){var t=e.store,n=e.onEndPlay,r=e.showControls,i=Nt().uiStore;Object(p.useEffect)((function(){""===t.players[t.activePlayerIndex].url&&i.isLoadingApp&&(i.isLoadingApp=!1)}),[i.isLoadingApp]),Object(p.useEffect)((function(){var e;t.players[0].url=(null===(e=t.sources[0])||void 0===e?void 0:e.url)||""}),[t.players,t.sources]);var o=function(e,n){console.log("Player ".concat(e," onReady")),t.activePlayerIndex===e&&(i.isLoadingApp=!1),at.setPlayer(e,{player:n})},c=function(){var e=Object(Ve.a)(Me.a.mark((function e(r,i){var o,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===t.activePlayerIndex){e.next=3;break}return console.log("Player ".concat(r," onProgress but is not active now")),e.abrupt("return");case 3:if(at.setTimePosition(),ot.checkShowGifs(),!t.players[r].isPreloading){e.next=8;break}return console.log("Player ".concat(r," onProgress but is in preloading")),e.abrupt("return");case 8:if(t.players[r].playing){e.next=11;break}return console.log("Player ".concat(r," onProgress but is not playing now")),e.abrupt("return");case 11:if(t.isLoading&&(t.isLoading=!1),console.log("Player ".concat(r," onProgress")),void 0!==(o=t.players[r].cutIndex)&&-1!==t.playingCutIndex){e.next=16;break}return e.abrupt("return");case 16:c=t.currentCuts[o].time,e.t0=t.mode,e.next=e.t0===a.Create?20:e.t0===a.PlayOne?21:e.t0===a.EditGifs?26:e.t0===a.EditShot?31:e.t0===a.PlayAll?36:e.t0===a.Show?41:46;break;case 20:return e.abrupt("break",46);case 21:if(!j(c,i.playedSeconds)){e.next=23;break}return e.abrupt("return");case 23:return e.next=25,at.stop(r);case 25:return e.abrupt("break",46);case 26:if(!j(c,i.playedSeconds)){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,at.stop(r);case 30:return e.abrupt("break",46);case 31:if(!j(c,i.playedSeconds)){e.next=33;break}return e.abrupt("return");case 33:return e.next=35,at.stop(r);case 35:return e.abrupt("break",46);case 36:if(!j(c,i.playedSeconds)){e.next=38;break}return e.abrupt("return");case 38:return e.next=40,at.goToNextShotCut(r,n);case 40:return e.abrupt("break",46);case 41:if(!j(c,i.playedSeconds)){e.next=43;break}return e.abrupt("return");case 43:return e.next=45,at.goToNextShotCut(r,n);case 45:return e.abrupt("break",46);case 46:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(e){console.log("Player ".concat(e," onBuffer"))},l=function(e){console.log("Player ".concat(e," onBufferEnd"))},u=function(e){console.log("Player ".concat(e," onStart")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},d=function(e){console.log("Player ".concat(e," onPlay")),t.playing[e]||(t.playing[e]=!0),t.players[e].playing=!0},h=function(e){console.log("Player ".concat(e," onPause")),t.playing[e]&&(t.playing[e]=!1),t.players[e].playing=!1},b=function(){var e=Object(Ve.a)(Me.a.mark((function e(r){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Player ".concat(r," onEnded")),t.playing[r]&&(t.playing[r]=!1),t.players[r].playing=!1,e.t0=t.mode,e.next=e.t0===a.Create?6:e.t0===a.PlayOne?7:e.t0===a.EditGifs?8:e.t0===a.EditShot?9:e.t0===a.PlayAll?10:e.t0===a.Show?13:16;break;case 6:case 7:case 8:case 9:return e.abrupt("break",16);case 10:return e.next=12,at.goToNextShotCut(r,n);case 12:return e.abrupt("break",16);case 13:return e.next=15,at.goToNextShotCut(r,n);case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){console.log("Player ".concat(e," onSeek"))},j=function(e,t){return!!e&&(t>=e.startTime&&t<=e.endTime)};return Object(nn.jsx)("div",{children:t.sources.length>0?t.players.map((function(e,n,i){var a=i.length-1-n;return Object(nn.jsx)("div",{style:{visibility:t.players[a].isVisible?"visible":"hidden"},children:Object(nn.jsx)(Cn.a,{playing:t.playing[a],className:ei.a.player,url:t.players[a].url,muted:t.players[a].muted,volume:t.players[a].volume,width:"100%",height:"100%",onPlay:d.bind(null,a),onProgress:c.bind(null,a),onStart:u.bind(null,a),onPause:h.bind(null,a),onEnded:b.bind(null,a),onReady:o.bind(null,a),onSeek:f.bind(null,a),onBufferEnd:l.bind(null,a),onBuffer:s.bind(null,a),progressInterval:100,controls:r,config:{youtube:{playerVars:{}}}})},t.players[a].id)})):Object(nn.jsx)("div",{className:ei.a.playerPlaceholder})})})),ri=n(108),ii=n(242),ai=n.n(ii),oi=(n(370),Object(v.a)((function(e){var t=e.gif,n=e.isSelected,r=e.isShow,i=e.onChange,a=e.onSelect,o=Nt().editorStore,c=Object(p.useRef)(null),s=Object(p.useRef)(),l=Object(p.useMemo)((function(){return document.createElement("canvas")}),[]);Object(p.useEffect)((function(){var e;return window.gifler(t.src).get((function(t){(e=t).animateInCanvas(l),e.onDrawFrame=function(e,t){e.drawImage(t.buffer,t.x,t.y),c.current&&c.current.getLayer().draw()}})),function(){var t;return null===(t=e)||void 0===t?void 0:t.stop()}}),[t.src,l]),Object(p.useEffect)((function(){n&&r&&s.current&&(s.current.nodes([c.current]),s.current.getLayer().batchDraw())}),[n,r]);return Object(nn.jsxs)(nn.Fragment,{children:[r&&Object(nn.jsx)(ri.a,{ref:c,image:l,x:t.x,y:t.y,width:t.width,height:t.height,draggable:!0,onClick:a,onTap:a,onDragEnd:function(e){i(Object(C.a)(Object(C.a)({},t),{},{x:e.target.x(),y:e.target.y()}))},onTransformEnd:function(e){var n=c.current,r=n.scaleX(),a=n.scaleY();n.scaleX(1),n.scaleY(1),i(Object(C.a)(Object(C.a)({},t),{},{x:n.x(),y:n.y(),width:Math.max(5,n.width()*r),height:Math.max(n.height()*a)}))}}),n&&r&&!o.players[o.activePlayerIndex].playing&&Object(nn.jsx)(ri.d,{ref:s,boundBoxFunc:function(e,t){return t.width<5||t.height<5?e:t}})]})}))),ci=Object(v.a)((function(e){var t=e.store,n=function(e){e.target===e.target.getStage()&&(t.selectedGifId=null)},r=function(e){t.selectedGifId=e},i=function(e,n){return t.gifs[e]=n};return Object(nn.jsx)("div",{children:Object(nn.jsx)(ri.c,{className:ai.a.container,width:t.canvasSize.width,height:t.canvasSize.height,style:t.isEnableCanvas?{pointerEvents:"all"}:{pointerEvents:"none"},onMouseDown:n,onTouchStart:n,children:Object(nn.jsx)(ri.b,{children:t.gifs.map((function(e,n){return Object(nn.jsx)(oi,{gif:e,isSelected:e.id===t.selectedGifId,isShow:e.isShow,onSelect:r.bind(null,e.id),onChange:i.bind(null,n)},e.id)}))})})})})),si=n.p+"static/media/play.a44af37e.svg";function li(){return(li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ui(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function di(e,t){var n=e.title,r=e.titleId,i=ui(e,["title","titleId"]);return p.createElement("svg",li({width:24,height:24,xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,ti||(ti=p.createElement("path",{d:"M10 24h-6v-24h6v24zm10 0h-6v-24h6v24zm-11-23h-4v22h4v-22zm10 0h-4v22h4v-22z"})))}var pi,hi,bi=p.forwardRef(di),fi=(n.p,n(91)),ji=n.n(fi),mi=function(e){var t=e.color;return Object(nn.jsx)("div",{className:ji.a.container,children:Object(nn.jsx)("div",{className:on()(ji.a.loaderContainer,ji.a.arcRotateDouble),style:{backgroundColor:t},children:Object(nn.jsxs)("div",{className:ji.a.loader,children:[Object(nn.jsx)("div",{className:ji.a.arc1}),Object(nn.jsx)("div",{className:ji.a.arc2})]})})})},vi=Object(v.a)((function(e){var t=e.store,n=function(){var e=Object(Ve.a)(Me.a.mark((function e(n){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Audio player onReady"),at.setAudioPlayer({player:n}),t.audioPlayer.isReady=!0,e.next=5,at.preloadAudio();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(nn.jsx)(Cn.a,{playing:t.audioPlaying,className:ei.a.player,url:t.audioPlayer.url,muted:t.audioPlayer.muted,width:"100%",height:"100%",progressInterval:100,controls:!0,onReady:n,onPlay:function(){console.log("Audio player onPlay"),t.audioPlayer.playing=!0},onPause:function(){console.log("Audio player onPause"),t.audioPlayer.playing=!1},onProgress:r})})),Oi=Object(v.a)((function(e){var t=e.store,n=e.onEndPlay,r=e.showControls,i=Object(p.useRef)(),o=Object(p.useState)(!1),c=Object(Et.a)(o,2),s=c[0],l=c[1];Object(p.useEffect)((function(){i.current&&(t.canvasSize={width:i.current.offsetWidth,height:i.current.offsetHeight})})),Object(p.useEffect)((function(){at.store=t,ot.store=t}),[t]);var u=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mode!==a.Show){e.next=5;break}return e.next=3,at.changeModeToShow();case 3:e.next=7;break;case 5:return e.next=7,at.start(t.activePlayerIndex);case 7:at.startAudio();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.stop(t.activePlayerIndex);case 2:at.pauseAudio(),at.sendTimePosition();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mode!==a.EditGifs){e.next=2;break}return e.abrupt("return");case 2:if(l(!0),setTimeout((function(){return l(!1)}),500),!t.players[t.activePlayerIndex].playing){e.next=8;break}return e.next=6,d();case 6:e.next=10;break;case 8:return e.next=10,u();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(nn.jsxs)("div",{ref:i,className:on()("padded",ei.a.playerWrapper),children:[Object(nn.jsx)(vi,{store:t}),Object(nn.jsx)(ni,{store:t,onEndPlay:n,showControls:r}),Object(nn.jsx)(ci,{store:t}),Object(nn.jsx)(Kr.a,{onResize:function(e){var n=e.width,r=e.height;t.canvasSize={width:n,height:r},t.scaleGifs()}}),Object(nn.jsxs)("div",{onClick:h,className:ei.a.controlLayer,style:{visibility:t.isShowControlLayer?"visible":"hidden"},children:[t.players[t.activePlayerIndex].playing&&s&&Object(nn.jsx)("button",{className:ei.a.controlButton,onClick:u,children:Object(nn.jsx)("img",{src:si,alt:"Play icon"})}),!t.players[t.activePlayerIndex].playing&&s&&Object(nn.jsx)("button",{className:ei.a.controlButton,onClick:d,children:Object(nn.jsx)(bi,{className:ei.a.pauseButton})})]}),Object(nn.jsx)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"black",color:"white",width:"100%",height:"100%",visibility:t.isShowTransition?"visible":"hidden"}}),t.isLoading&&Object(nn.jsx)(mi,{})]})}));function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yi(e,t){var n=e.title,r=e.titleId,i=xi(e,["title","titleId"]);return p.createElement("svg",gi({width:50,height:50,viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,pi||(pi=p.createElement("circle",{cx:25,cy:25,r:25,fill:"white",fillOpacity:.15})),hi||(hi=p.createElement("path",{d:"M23.6666 19.2187V13.448L17.3906 19.724L12.3586 24.756L17.48 29.024L23.6666 34.18V28.5333C34.528 27.7147 38.3333 34 38.3333 34C38.3333 30.084 38.0106 26.02 34.932 22.9427C31.3533 19.3627 26.1706 19.1093 23.6666 19.2187Z",fill:"white"})))}var _i,Ci,wi=p.forwardRef(yi),Si=(n.p,n(155)),ki=n.n(Si),Ii=function(e){var t=e.value,n=e.onChange;return Object(nn.jsxs)("div",{className:ki.a.container,children:[Object(nn.jsx)("span",{className:ki.a.placeholder,children:"NFT:"}),Object(nn.jsx)("input",{onChange:function(e){return n(e.target.value)},value:t,className:ki.a.input})]})},Pi=function(e){var t=e.toggleModal,n=Nt().playerStore,r=Object(p.useState)(""),i=Object(Et.a)(r,2),a=i[0],o=i[1],c=Object(p.useRef)(null),s=Object(p.useRef)(null),l=Object(p.useState)(!1),u=Object(Et.a)(l,2),d=u[0],h=u[1],b=Object(p.useRef)(null);ln(c,(function(){return t()})),Object(p.useEffect)((function(){var e=setInterval((function(){n.videoId&&rt.pingVideosSecondsCount({ids:[n.videoId]}).then((function(e){var t=e.data;n.secondsCount=t[0].secondsCount})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}}));var f=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===n.playList.length||n.currentPlayListPositionIndex>=n.playList.length)){e.next=2;break}return e.abrupt("return");case 2:return t=n.playList[n.currentPlayListPositionIndex],e.prev=3,e.next=6,rt.getVideoById(t);case 6:r=e.sent,i=r.data,n.clearStore(),n.loadVideoToStore(i),b.current=setTimeout((function(){return at.changeModeToShow()}),3e3),n.currentPlayListPositionIndex+=1,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){return function(){b.current&&clearTimeout(b.current),n.currentPlayListPositionIndex=0}}),[n]);var j=function(){return h(!1)};return ln(s,j),Object(nn.jsxs)("div",{className:Xr.a.container,ref:c,children:[Object(nn.jsx)(Oi,{store:n,onEndPlay:f,showControls:!1}),Object(nn.jsxs)("div",{className:Xr.a.infoWrapper,children:[n.creator&&n.videoId&&Object(nn.jsxs)("div",{ref:s,className:Xr.a.userData,children:[Object(nn.jsx)(rn,{userInfo:n.creator,viewSeconds:n.secondsCount,onHoverSeconds:function(){return h(!0)}}),d&&Object(nn.jsx)("div",{className:Xr.a.bestViewers,children:Object(nn.jsx)(cn,{bestViewerParam:n.videoId,hideHandler:j,fetchBestViewers:rt.getVideoBestViewers})})]}),Object(nn.jsxs)("div",{className:Xr.a.userContent,children:[Object(nn.jsx)("div",{className:Xr.a.nftWrapper,children:Object(nn.jsx)(Ii,{value:a,onChange:o})}),Object(nn.jsxs)("div",{className:Xr.a.shareContainer,children:[Object(nn.jsx)(wi,{}),Object(nn.jsx)("div",{className:Xr.a.shareDropdown,children:Object(nn.jsx)(Wr,{videoId:n.videoId})})]})]})]}),Object(nn.jsx)(Jr,{})]})},Ni=(Object(v.a)(Pi),n(481)),Ti=n(483),Bi=n(475),Ei=n(476),Li=n(156),Ai=n.n(Li),Mi=function(){return Object(nn.jsxs)("div",{className:Ai.a.container,children:[Object(nn.jsx)("p",{className:Ai.a.title,children:"No videos found"}),Object(nn.jsx)("p",{className:Ai.a.caption,children:"Come back soon! You can watch more videos on our website"})]})},Vi=Object(v.a)((function(e){var t=e.isPersonalProfile,n=e.userName,r=e.loadVideoApiFunction,i=e.showAddBtn,a=e.showSaveBtn,o=e.showMoreBtn,c=e.showShareBtn,s=Nt(),l=s.editorStore,u=s.userStore,d=s.playerStore,h=Object(g.g)(),b=Object(p.useState)(!1),f=Object(Et.a)(b,2),j=f[0],m=f[1],v=Object(p.useState)(!1),O=Object(Et.a)(v,2),x=O[0],y=O[1],_=Object(p.useState)([]),C=Object(Et.a)(_,2),w=C[0],S=C[1],k=Object(p.useState)(!1),I=Object(Et.a)(k,2),P=I[0],N=I[1],T=Object(p.useState)(!0),B=Object(Et.a)(T,2),E=B[0],L=B[1],A=Object(p.useState)(!1),M=Object(Et.a)(A,2),V=M[0],D=M[1],R=Object(p.useState)(0),U=Object(Et.a)(R,2),z=U[0],W=U[1],G=function(){var e;N(!0),r({creatorName:(null===(e=d.creator)||void 0===e?void 0:e.username)||null,limit:10,offset:z}).then((function(e){var t=e.data;L(w.length+t.list.length<t.totalCount),S([].concat(Object(Ie.a)(w),Object(Ie.a)(t.list))),W(z+t.list.length)})).catch((function(e){console.error(e),D(!0)})).finally((function(){return N(!1)}))},F=Object(p.useCallback)(G,[u,r]);Object(p.useEffect)((function(){F()}),[F,d.creator]);var H=Object(Yr.a)({loading:P,hasNextPage:E,onLoadMore:G,disabled:V}),Z=Object(Et.a)(H,1)[0],Y=function(){return m(!j)},J=function(){return y(!1)};return Object(p.useEffect)((function(){if(0!==w.length){var e=setInterval((function(){var e=w.reduce((function(e,t){return t.id?[].concat(Object(Ie.a)(e),[t.id]):e}),[]);rt.pingVideosSecondsCount({ids:e}).then((function(e){var t=e.data,n=w.map((function(e){for(var n=0;n<t.length;n+=1)if(e.id===t[n].id)return e.secondsCount=t[n].secondsCount,e;return e}));S(n)})).catch((function(e){return console.error(e)}))}),5e3);return function(){return clearInterval(e)}}}),[w]),Object(p.useEffect)((function(){null!==n&&void 0!==n&&rt.getUserInfoByName(n).then((function(e){var t=e.data;d.creator=t})).catch((function(e){return console.error(e)}))}),[d,n]),0!==w.length||i&&t?Object(nn.jsxs)("div",{className:yn.a.container,children:[Object(nn.jsxs)("div",{className:yn.a.list,children:[t&&i&&Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("button",{className:yn.a.addButton,onClick:function(){return y(!0)},children:Object(nn.jsx)("img",{src:gn,alt:"Add icon"})}),Object(nn.jsxs)(Ni.a,{open:x,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(nn.jsx)(Ti.a,{id:"alert-dialog-title",children:"Current video will be deleted. Continue?"}),Object(nn.jsxs)(Bi.a,{children:[Object(nn.jsx)(Ei.a,{onClick:J,color:"primary",children:"Cancel"}),Object(nn.jsx)(Ei.a,{onClick:function(e){l.clearStore(),h.push("/")},color:"primary",autoFocus:!0,children:"OK"})]})]})]}),w.map((function(e,t){return Object(nn.jsx)(Fr,{item:e,index:t,openModal:Y,updateList:F,showMoreBtn:o,showSaveBtn:a,showShareBtn:c},e.id)}))]}),(P||E)&&Object(nn.jsx)("div",{ref:Z,children:"Loading..."}),Object(nn.jsx)(Hn,{isOpen:j,toggleModal:Y,children:Object(nn.jsx)(Pi,{toggleModal:Y})})]}):Object(nn.jsx)(Mi,{})})),Di=function(){return Object(nn.jsx)("div",{children:Object(nn.jsx)(Mi,{})})},Ri=[{title:"My portfolio",path:"portfolio"},{title:"Recent videos",path:"recentVideos"},{title:"Saved videos",path:"savedVideos"}],Ui=[{title:"Portfolio",path:"portfolio"}],zi=Object(v.a)((function(e){var t=e.isPersonalProfile,n=e.userName,r=Object(g.j)().url,i=Nt().userStore;return Object(nn.jsx)(jn,{children:Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("div",{className:hn.a.tabsWrapper,children:Object(nn.jsx)(On,{tabs:t?Ri:Ui,url:r})}),Object(nn.jsxs)(g.d,{children:[Object(nn.jsx)(g.b,{path:"".concat(r,"/portfolio"),exact:!0,render:function(){return Object(nn.jsx)("div",{children:Object(nn.jsx)(Vi,{isPersonalProfile:t,userName:n,loadVideoApiFunction:t?rt.getUserVideos:rt.getCreatorVideos,showAddBtn:!0,showMoreBtn:t,showSaveBtn:!t&&!!i.user,showShareBtn:!0})},t?1:2)}}),Object(nn.jsx)(g.b,{path:"".concat(r,"/recentVideos"),component:Di}),Object(nn.jsx)(g.b,{path:"".concat(r,"/savedVideos"),exact:!0,render:function(){return Object(nn.jsx)("div",{children:Object(nn.jsx)(Vi,{isPersonalProfile:t,userName:n,loadVideoApiFunction:rt.getUserSavedVideos,showAddBtn:!1,showMoreBtn:!1,showSaveBtn:!!i.user,showShareBtn:!0})},3)}}),Object(nn.jsx)(g.a,{to:"".concat(r,"/portfolio")})]})]})})})),Wi=Object(v.a)((function(){var e=Nt(),t=e.userStore,n=e.playerStore,r=Object(g.i)().userName,i=!!t.user&&t.user.username===r;return Object(nn.jsxs)("div",{className:Bt.a.container,children:[i&&Object(nn.jsx)(dn,{user:t.user,isAnotherUser:!i},t.user.id),!i&&n.creator&&Object(nn.jsx)(dn,{user:n.creator,isAnotherUser:!0},n.creator.id),Object(nn.jsx)(zi,{isPersonalProfile:i,userName:r})]})})),Gi=n(53),Fi=n(157),Hi=n.n(Fi),Zi=n(158),Yi=n.n(Zi),Ji=function(e){var t=e.title,n=e.children;return Object(nn.jsxs)("div",{className:Yi.a.container,children:[Object(nn.jsx)("h2",{className:Yi.a.title,children:t}),Object(nn.jsx)("div",{className:Yi.a.wrapper,children:n})]})},qi=n(243),Xi=n(117),Qi=n(183),Ki=n.n(Qi),$i=n(110),ea=n.n($i),ta=n.p+"static/media/closeIcon.0b48234f.svg",na=Object(p.forwardRef)((function(e,t){var n=e.value,r=e.placeholder,i=e.onChange,a=e.errorList;return Object(nn.jsxs)("div",{className:ea.a.container,children:[Object(nn.jsx)("input",{ref:t,onChange:function(e){return i(e.target.value)},value:n,placeholder:r,className:ea.a.input}),n&&Object(nn.jsx)("div",{className:ea.a.buttonsBlock,children:Object(nn.jsx)("button",{type:"button",className:ea.a.clearButton,onClick:function(){return i("")},children:Object(nn.jsx)("img",{src:ta,alt:"Close icon"})})}),a&&a.map((function(e){return e?Object(nn.jsx)("div",{className:ea.a.error,children:e}):null}))]})})),ra=new Xi.GiphyFetch("IPKlChsULe1Qlt19wbrWHlnjDr04SZa8");!function(e){e.Trending="trending",e.Search="search"}(_i||(_i={})),function(e){e.Gifs="gifs",e.Stickers="stickers",e.Text="text"}(Ci||(Ci={}));var ia=function(e){var t=e.width,n=e.searchText,r=e.fetchType,i=e.type,o=Nt().editorStore;return Object(nn.jsx)(qi.Grid,{fetchGifs:function(e){return r===_i.Search?ra.search(n,{offset:e,limit:10,type:i}):r===_i.Trending?ra.trending({offset:e,limit:10,type:i}):ra.trending({offset:e,limit:10})},width:t,columns:4,gutter:6,onGifClick:function(e,t){t.preventDefault(),o.addGif(e),o.mode=a.EditGifs}})},aa=Object(v.a)((function(e){var t=e.type,n=h.a.createRef(),r=Object(p.useState)(null),i=Object(Et.a)(r,2),a=i[0],o=i[1],c=Object(p.useState)(""),s=Object(Et.a)(c,2),l=s[0],u=s[1],d=Object(p.useState)(!0),b=Object(Et.a)(d,2),f=b[0],j=b[1];return Object(p.useEffect)((function(){n&&o(n.current.offsetWidth)}),[n]),Object(p.useEffect)((function(){var e=setTimeout((function(){j(!0)}),1e3);return function(){return clearTimeout(e)}}),[l]),Object(nn.jsxs)("div",{ref:n,className:Ki.a.root,children:[Object(nn.jsx)(na,{placeholder:"Search with GIPHY",value:l,onChange:function(e){j(!1),u(e)}}),a&&Object(nn.jsxs)("div",{className:Ki.a.gifsPanel,children:[f&&""===l&&Object(nn.jsx)(ia,{width:a,searchText:l,fetchType:_i.Trending,type:t}),f&&""!==l&&Object(nn.jsx)(ia,{width:a,searchText:l,fetchType:_i.Search,type:t}),Object(nn.jsx)(Kr.a,{onResize:function(e){e.width}})]})]})})),oa=Object(v.a)((function(e){var t=e.type;return Object(nn.jsx)(Ji,{title:"Add Gif",children:Object(nn.jsx)(aa,{type:t})})})),ca=n(124),sa=n.n(ca),la=function(e){var t=e.value,n=e.isActive,r=e.icon,i=e.onClick;return Object(nn.jsx)("div",{onClick:function(){return i(t)},className:on()(sa.a.tabItem,Object(ke.a)({},sa.a.active,n)),children:Object(nn.jsx)("img",{src:r,className:on()(sa.a.icon,Object(ke.a)({},sa.a.activeIcon,n)),alt:"Source icon"})})},ua=n(245),da=n.n(ua),pa=function(e){var t=e.tabs,n=e.activeTab,r=e.handleClick;return Object(nn.jsx)("div",{className:da.a.container,children:t.map((function(e){var t=e.icon,i=e.id;return Object(nn.jsx)(la,{icon:t,isActive:i===n,value:i,onClick:r},i)}))})},ha=n(246),ba=n(478),fa=n(111),ja=n.n(fa),ma=n(477),va=n(159),Oa=n.n(va),ga=n(92),xa=n.n(ga),ya=n.p+"static/media/close.b731002b.svg",_a=n.p+"static/media/playIcon.737e8ec2.svg",Ca=Object(v.a)((function(e){var t=e.cut,n=e.idx,r=(e.isActive,e.isChosenSource),i=(e.onClick,Nt().editorStore),a=Object(p.useRef)(null),o=Object(p.useRef)(null),c=Object(p.useState)(!1),s=Object(Et.a)(c,2),l=s[0],u=s[1],d=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.createCurrentCuts(i.cuts),e.next=3,at.playOne(n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.playVideo)&&e.playVideo()},b=function(){var e=o.current.player.player.player;(null===e||void 0===e?void 0:e.pauseVideo)&&e.pauseVideo()};return Object(p.useEffect)((function(){var e=a.current;return e&&(e.addEventListener("mouseover",(function(){u(!0),h()})),e.addEventListener("mouseout",(function(){u(!1),b()}))),function(){e&&(e.removeEventListener("mouseover",(function(){h()})),e.removeEventListener("mouseout",(function(){b()})))}}),[a]),Object(nn.jsxs)("div",{className:on()(xa.a.wrapper,Object(ke.a)({},xa.a.isChosenSource,r)),children:[Object(nn.jsx)("div",{className:xa.a.buttons,children:Object(nn.jsx)("button",{onClick:function(){return i.removeCut(n)},children:Object(nn.jsx)("img",{src:ya,alt:"Close icon"})})}),Object(nn.jsxs)("div",{className:xa.a.playerWrapper,ref:a,children:[Object(nn.jsx)(Cn.a,{ref:o,width:"100%",height:"100%",url:i.cuts[n].url,muted:!0,controls:!1,onEnded:function(){return e=t.startTime,o.current.player.player.player.seekTo(e);var e},config:{youtube:{playerVars:{controls:0,mute:1,showinfo:0,modestbranding:1,start:Math.floor(t.startTime),end:Math.floor(t.endTime)}}}},"".concat(t.startTime," ").concat(t.endTime)),Object(nn.jsx)("button",{onClick:d,className:on()(xa.a.playButton,Object(ke.a)({},xa.a.isVisible,l)),children:Object(nn.jsx)("img",{src:_a,alt:"Play icon"})})]})]})}));var wa,Sa,ka=Object(v.a)((function(){var e=Nt().editorStore,t=Object(p.useState)(""),n=Object(Et.a)(t,2),r=n[0],i=n[1],a=function(){var t=Object(Ve.a)(Me.a.mark((function t(n){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.createCurrentCuts(e.cuts),e.playingCutIndex=n,t.next=4,at.preloadCut(e.activePlayerIndex,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){var t=e.sources[e.currentSourceIndex];void 0!==t&&i(t.url)}),[e.currentSourceIndex,e.sources]),e.cuts.length,Object(nn.jsx)("div",{className:Oa.a.cutsPanel,children:e.sources.length>0?Object(nn.jsx)(nn.Fragment,{children:Object(nn.jsx)(Gi.c,{droppableId:"videoCuts",direction:"horizontal",children:function(t){return Object(nn.jsxs)("div",Object(C.a)(Object(C.a)({className:Oa.a.cutsList},t.droppableProps),{},{ref:t.innerRef,children:[e.cuts.map((function(t,n){return Object(nn.jsx)(Gi.b,{draggableId:t.id.toString(),index:n,children:function(i){return Object(nn.jsx)("div",Object(C.a)(Object(C.a)(Object(C.a)({},i.draggableProps),i.dragHandleProps),{},{ref:i.innerRef,children:Object(nn.jsx)(Ca,{idx:n,cut:t.time,isActive:n===e.highlightedCutIndex,onClick:a,isChosenSource:t.url===r},t.id)}))}},t.id)})),t.placeholder]}))}})}):Object(nn.jsx)(ma.a,{container:!0,className:Oa.a.cutsPanelBlank,children:"Please select video for trailer editing"})})})),Ia=Object(v.a)((function(){var e=Nt(),t=e.editorStore,n=e.userStore,r=e.uiStore,i=Object(p.useState)(""),o=Object(Et.a)(i,2),c=o[0],s=o[1],l=h.a.useState(null),u=Object(Et.a)(l,2),d=u[0],b=u[1],f=function(){var e=Object(Ve.a)(Me.a.mark((function e(i){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j()){e.next=3;break}return i&&b(i.currentTarget),e.abrupt("return");case 3:t.addSource(c),n.setIsShowContent(!1),r.changeTab(""),s("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e,n=Object(ha.a)(t.sources);try{for(n.s();!(e=n.n()).done;){if(e.value.url===c)return!0}}catch(r){n.e(r)}finally{n.f()}return!1},m=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.changeModeToCreate(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=Boolean(d),O=v?"simple-popover":void 0;return Object(nn.jsxs)(Ji,{title:"All frames",children:[t.mode!==a.Show&&Object(nn.jsxs)("div",{children:[Object(nn.jsx)("div",{className:ja.a.searchLine,children:Object(nn.jsxs)("form",{className:ja.a.form,onSubmit:function(e){e.preventDefault(),c&&f()},children:[Object(nn.jsx)("div",{className:ja.a.inputWrapper,children:Object(nn.jsx)(na,{value:c,onChange:function(e){return s(e)},placeholder:"Paste the video link here"})}),Object(nn.jsx)(Ln,{type:"button",disabled:""===c,onClick:f,colorTheme:Pn,children:"Add source"}),Object(nn.jsx)(ba.a,{id:O,open:v,anchorEl:d,onClose:function(){b(null),s("")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(nn.jsx)("span",{children:"You already have this source."})})]})}),Object(nn.jsx)("div",{className:ja.a.sources,children:t.sources.map((function(e,n){return Object(nn.jsx)("div",{className:ja.a.sourceItem,children:Object(nn.jsx)(Ln,{onClick:function(){return m(n)},onDelete:function(e){return function(e,n){return e.stopPropagation(),t.removeSource(n),n>0?m(n-1):0===n&&t.sources.length?m(0):void 0}(e,n)},deleteButton:!0,colorTheme:Tn,active:n===t.currentSourceIndex,children:"Source ".concat(n+1)})},e.id)}))})]}),Object(nn.jsx)(ka,{})]})})),Pa=function(e){var t=e.type;return Object(nn.jsx)(Ji,{title:"Add Text",children:Object(nn.jsx)(aa,{type:t})})},Na=n(125),Ta=n.n(Na),Ba=function(e){var t=e.type;return Object(nn.jsx)(Ji,{title:"Add Stickers",children:Object(nn.jsx)(aa,{type:t})})},Ea=n.p+"static/media/arrow.a4af7684.svg",La=n(84),Aa=n.n(La),Ma=n.p+"static/media/default.12bac553.png",Va=n(160),Da=n.n(Va),Ra=function(e){var t=e.name;return Object(nn.jsxs)("div",{className:Da.a.container,children:[Object(nn.jsx)("img",{className:Da.a.audioBackground,src:Ma,alt:"audio background"}),Object(nn.jsx)("p",{className:Da.a.audioName,children:t})]})},Ua=Object(v.a)((function(){var e=Object(p.useState)(""),t=Object(Et.a)(e,2),n=t[0],r=t[1],i=Nt().editorStore,a=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.changeModeToCreateAudio(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(nn.jsxs)(Ji,{title:"Add Music",children:[Object(nn.jsxs)("form",{className:Aa.a.form,onSubmit:function(e){e.preventDefault(),console.log(n)},children:[Object(nn.jsx)("div",{className:Aa.a.inputWrapper,children:Object(nn.jsx)(na,{value:n,onChange:function(e){return r(e)},placeholder:"Insert the link to the audio (Youtube or SoundCloud)"})}),Object(nn.jsx)(Ln,{type:"button",disabled:""===n,onClick:function(){i.addAudioSource(n),r("")},colorTheme:Pn,children:"Add source"})]}),Object(nn.jsx)("div",{className:Aa.a.sources,children:i.audioSources.map((function(e,t){return Object(nn.jsx)("div",{className:Aa.a.sourceItem,children:Object(nn.jsx)(Ln,{onClick:function(){return a(t)},onDelete:function(e){return function(e,t){return e.stopPropagation(),i.removeSource(t),t>0?a(t-1):0===t&&i.audioSources.length?a(0):void 0}(e,t)},deleteButton:!0,colorTheme:Tn,active:t===i.currentAudioSourceIndex,children:"Source ".concat(t+1)})},e.id)}))}),Object(nn.jsx)("div",{className:Aa.a.list,children:i.audioSources.length>0?Object(nn.jsx)(nn.Fragment,{children:Object(nn.jsx)(Gi.c,{droppableId:"audioCuts",direction:"horizontal",children:function(e){return Object(nn.jsxs)("div",Object(C.a)(Object(C.a)({className:Aa.a.cutsList},e.droppableProps),{},{ref:e.innerRef,children:[i.audioCuts.map((function(e,t){return Object(nn.jsx)(Gi.b,{draggableId:e.id.toString(),index:t,children:function(t){return Object(nn.jsx)("div",Object(C.a)(Object(C.a)(Object(C.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(nn.jsx)(Ra,{name:e.url},e.id)}))}},e.id)})),e.placeholder]}))}})}):Object(nn.jsx)(ma.a,{container:!0,className:Aa.a.cutsPanelBlank,children:"Please select audio for trailer editing"})})]})})),za=(wa={},Object(ke.a)(wa,gt,Object(nn.jsx)(Ia,{})),Object(ke.a)(wa,yt,Object(nn.jsx)(oa,{type:Ci.Gifs})),Object(ke.a)(wa,xt,Object(nn.jsx)(Pa,{type:Ci.Text})),Object(ke.a)(wa,Ct,Object(nn.jsx)(Ua,{})),Object(ke.a)(wa,_t,Object(nn.jsx)(Ba,{type:Ci.Stickers})),wa),Wa=Object(v.a)((function(){var e=Nt(),t=e.userStore,n=e.uiStore;return Object(nn.jsxs)("div",{className:on()(Ta.a.container,Object(ke.a)({},Ta.a.isActive,t.isShowContent)),children:[Object(nn.jsx)(pa,{tabs:wt,handleClick:function(e){switch(e){case gt:at.changeModeToCreate(0);break;case Ct:at.changeModeToCreateAudio(0)}n.changeTab(e),t.setIsShowContent(!0)},activeTab:n.tab}),t.isShowContent&&Object(nn.jsx)("div",{className:Ta.a.content,children:za[n.tab]}),t.isShowContent&&Object(nn.jsx)("div",{className:Ta.a.hideBlock,children:Object(nn.jsx)("button",{onClick:function(){t.setIsShowContent(!1),n.changeTab("")},children:Object(nn.jsx)("img",{src:Ea,alt:"arrow icon"})})})]})})),Ga=n(83),Fa=n.n(Ga),Ha=n(479),Za=n(249),Ya=n.n(Za),Ja=n(112),qa=n.n(Ja),Xa=n(21),Qa=n(484),Ka=n(485),$a=n(126),eo=n.n($a),to=n.p+"static/media/mouse.bd54b72f.svg",no=Object(Xa.a)({tooltip:{display:"flex",alignItems:"center",backgroundColor:"#ebf8ff",color:"#00a3ff",fontSize:14,height:24,borderRadius:2,padding:"5 4",zIndex:100},tooltipPlacementTop:{marginRight:15,marginLeft:15}})(Qa.a),ro=function(e){var t,n=e.value,r=e.index,i=e.onWheel,a=null===(t=n)?{hours:"00",mins:"00",seconds:"00",fract:"0"}:{hours:Jt(Math.floor(t/60/60)),mins:Jt(Math.floor(t/60%60)),seconds:Jt(Math.floor(t%60)),fract:Math.floor(10*(t-Math.floor(t)))},o=a.hours,c=a.mins,s=a.seconds,l=a.fract;return Object(nn.jsxs)("div",{className:eo.a.tooltipContainer,children:["00"!==o&&Object(nn.jsxs)("span",{onWheel:i.bind(null,r,"hours"),children:[o,":"]}),Object(nn.jsxs)("span",{onWheel:i.bind(null,r,"mins"),children:[c,":"]}),Object(nn.jsxs)("div",{onWheel:i.bind(null,r,"seconds"),children:[s,"."]}),Object(nn.jsx)("span",{onWheel:i.bind(null,r,"fract"),children:l}),Object(nn.jsx)("img",{src:to,alt:"mouse icon",className:eo.a.tooltipIcon})]})},io=function(e,t){var n=t.children,r=t.open,i=t.value,a=t.index;return Object(nn.jsx)(no,{open:r,enterTouchDelay:0,placement:0===a?"top-end":"top-start",title:Object(nn.jsx)(ro,{onWheel:e,value:i,index:a}),interactive:!0,children:n})},ao=Object(Xa.a)({root:{display:"flex",alignItems:"center",color:"#00a3ff",height:8},thumb:{height:34,width:10,backgroundColor:"#fff",border:"4px solid currentColor",borderRadius:4,marginTop:0,marginLeft:-8,"&:focus, &:hover, &$active":{boxShadow:"0 0 8px 0 #00a3ff"}},active:{},valueLabel:{},track:{height:34,border:"1px solid rgba(0, 163, 255, 0.55)",backgroundColor:"#6BCAFF"},rail:{height:4,borderRadius:2,backgroundColor:"#a5b4cb"}})(Ka.a),oo=Object(v.a)((function(e){var t=e.value,n=e.onChange,r=e.onWheel,i=e.max,a=e.min,o=e.step,c=Nt().userStore;return Object(p.useEffect)((function(){}),[c.isShowContent]),Object(nn.jsx)(nn.Fragment,{children:Object(nn.jsx)(ao,{value:t,ValueLabelComponent:io.bind(null,r),onChange:n,valueLabelDisplay:"on","aria-labelledby":"custom-slider",min:a,max:i,step:o,classes:{root:eo.a.slider,valueLabel:eo.a.label}})})})),co=Object(v.a)((function(e){var t=Nt().editorStore,n=Object(p.useState)([0,0]),r=Object(Et.a)(n,2),i=r[0],a=r[1],o=Object(p.useState)([0,0]),c=Object(Et.a)(o,2),s=c[0],l=c[1];Object(p.useEffect)((function(){var e=function(){if(null===t.editingCutIndex||void 0===t.currentCuts[t.editingCutIndex])return[0,0];var e=t.currentCuts[t.editingCutIndex].time;return[e.startTime,e.endTime]}();a(e);var n=at.getCurrentPlayerDuration()||0,r=Math.max(0,e[0]-30),i=Math.min(n,e[1]+30);l([r,i])}),[t.currentCuts,t.editingCutIndex]);var u=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.editingCutIndex){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,at.playOne(t.editingCutIndex,!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e,n){null!==t.editingCutIndex&&(n[0]!==i[0]&&n[0]<i[1]?(t.currentCuts[t.editingCutIndex].time.startTime=i[0],h(n[0])):n[1]!==i[1]&&n[1]>i[0]&&(t.currentCuts[t.editingCutIndex].time.endTime=i[1],b(n[1])))},h=function(e){a([e,i[1]]),at.quickMoveToPosition(e)},b=function(e){a([i[0],e]),at.quickMoveToPosition(e)};return Object(nn.jsx)(nn.Fragment,{children:null!==t.editingCutIndex&&Object(nn.jsxs)("div",{className:qa.a.container,children:[Object(nn.jsx)(Ha.a,{"aria-label":"play",classes:{root:qa.a.playBtn},onClick:u,children:Object(nn.jsx)(Ya.a,{})}),Object(nn.jsx)("span",{className:qa.a.duration,children:qt(i[1]-i[0],!0)}),Object(nn.jsx)(oo,{value:i,onChange:d,onWheel:function(e,t,n){var r={hours:3600,mins:60,seconds:1,fract:.1}[t],a=i.slice();if(n.deltaY<0){if(a[e]=a[e]+r,a[e]>s[1])return;d(0,a)}else{if(a[e]=a[e]-r,a[e]<s[0])return;d(0,a)}},max:s[1],min:s[0],step:.1}),Object(nn.jsx)("div",{className:qa.a.btn,children:Object(nn.jsx)(Ln,{withBorder:!0,onClick:function(){return t.editingCutIndex=null},children:"Cancel"})}),Object(nn.jsx)("div",{className:qa.a.btn,children:Object(nn.jsx)(Ln,{colorTheme:Pn,onClick:function(){null!==t.editingCutIndex&&(t.shotCuts[t.editingCutIndex].time.startTime=i[0],t.shotCuts[t.editingCutIndex].time.endTime=i[1],t.createCurrentCuts(t.shotCuts),t.editingCutIndex=null)},children:"Done"})})]})})}));function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uo(e,t){var n=e.title,r=e.titleId,i=lo(e,["title","titleId"]);return p.createElement("svg",so({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Sa||(Sa=p.createElement("path",{d:"M14.7498 0.5C21.7248 0.5 27.6198 5.045 29.7048 11.33L26.1498 12.5C24.5748 7.715 20.0598 4.25 14.7498 4.25C11.8098 4.25 9.15476 5.33 7.06976 7.07L10.9998 11H0.499756V0.5L4.39976 4.4C7.17476 2 10.7748 0.5 14.7498 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var po,ho=p.forwardRef(uo);n.p;function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jo(e,t){var n=e.title,r=e.titleId,i=fo(e,["title","titleId"]);return p.createElement("svg",bo({width:30,height:13,viewBox:"0 0 30 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,po||(po=p.createElement("path",{d:"M15.4551 0.5C8.48008 0.5 2.58508 5.045 0.50008 11.33L4.05508 12.5C5.63008 7.715 10.1451 4.25 15.4551 4.25C18.3951 4.25 21.0501 5.33 23.1351 7.07L19.2051 11H29.7051V0.5L25.8051 4.4C23.0301 2 19.4301 0.5 15.4551 0.5Z",fill:"#00A3FF",fillOpacity:.76})))}var mo=p.forwardRef(jo),vo=(n.p,function(e){var t=e.sec,n=e.style,r=t<0?ho:mo;return Object(nn.jsxs)("button",{style:n,className:Fa.a.rewButton,onClick:function(){return at.rewindOn(t)},children:[Object(nn.jsx)(r,{className:Fa.a.arrow}),Object(nn.jsx)("span",{children:Math.abs(t)})]})}),Oo=function(e){Object(Ne.a)(n,e);var t=Object(Te.a)(n);function n(e){var r;return Object(S.a)(this,n),(r=t.call(this,e)).state=void 0,r.timer=void 0,r.onAddCut=function(){var e=r.state.cut;e&&e.endTime-e.startTime!==0&&(ht.mode===a.Create?ht.addCutAndShot(e):ht.mode===a.CreateAudio&&ht.addAudionCutAndShot(e),r.setState({startTime:0,endTime:0}))},r.onStartFrame=function(){var e=r.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.startTime=ht.sourceTimePosition,t.endTime<ht.sourceTimePosition&&(t.endTime=ht.sourceTimePosition+5),r.setState({cut:t})},r.onEndFrame=function(){var e=r.state.cut,t={startTime:(null===e||void 0===e?void 0:e.startTime)||0,endTime:(null===e||void 0===e?void 0:e.endTime)||0};t.endTime=ht.sourceTimePosition,t.startTime>ht.sourceTimePosition&&(t.startTime=ht.sourceTimePosition-5),r.setState({cut:t},(function(){return r.onAddCut()}))},r.onMouseDownHandler=function(){r.setState({record:!0}),r.timer=setInterval((function(){r.setState({duration:r.state.duration-1})}),1e3),r.onStartFrame()},r.onMouseUpHandler=function(){r.setState({record:!1,duration:360}),r.onEndFrame(),clearInterval(r.timer)},r.state={cut:null,playing:!1,record:!1,duration:360},r}return Object(k.a)(n,[{key:"componentWillUnmount",value:function(){at.sendTimePosition()}},{key:"render",value:function(){var e=this.state,t=e.record,n=e.duration;return Object(nn.jsxs)("div",{className:Fa.a.container,children:[be.isDev&&Object(nn.jsxs)("div",{style:{fontSize:"10px"},children:["Player: ",ht.activePlayerIndex,"/",ht.players.length-1," Cut:"," ",ht.playingCutIndex,"/",ht.currentCuts.length-1," Source:"," ",ht.currentSourceIndex,"/",ht.sources.length-1]}),Object(nn.jsx)(Oi,{store:ht,showControls:!0}),ht.mode!==a.Show&&ht.sources.length>0&&Object(nn.jsxs)(nn.Fragment,{children:[ht.isShowRecButton&&Object(nn.jsxs)("div",{className:Fa.a.buttonsContainer,children:[[-10,-5,-1].map((function(e){return Object(nn.jsx)(vo,{sec:e,style:{marginTop:10}},e)})),Object(nn.jsx)("button",{className:on()(Fa.a.recButton,Object(ke.a)({},Fa.a.active,t)),onMouseDown:this.onMouseDownHandler,onMouseUp:this.onMouseUpHandler,children:t?"".concat(n," SEC"):"start rec"}),[1,5,10].map((function(e){return Object(nn.jsx)(vo,{sec:e,style:{marginTop:10}},e)}))]}),Object(nn.jsx)(co,{})]})]})}}]),n}(h.a.Component),go=Object(v.a)(Oo),xo=n(127),yo=n.n(xo),_o=be.agora.appId,Co=be.agora.appToken;console.log("agora sdk version: "+yo.a.VERSION+" compatible: "+yo.a.checkSystemRequirements());var wo,So=new(function(){function e(){var t=this;Object(S.a)(this,e),this.client=void 0,this.localAudioTrack=null,this.uid=null,this.client=yo.a.createClient({mode:"live",codec:"h264"}),this.client.on("user-published",function(){var e=Object(Ve.a)(Me.a.mark((function e(n,r){var i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.client.subscribe(n,r);case 2:console.log("subscribe success"),"audio"===r&&(null===(i=n.audioTrack)||void 0===i||i.play());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}return Object(k.a)(e,[{key:"join",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.client.join(_o,"EyeMo",Co);case 3:return this.uid=e.sent,e.next=6,this.client.setClientRole("host");case 6:return e.next=8,yo.a.createMicrophoneAudioTrack();case 8:return this.localAudioTrack=e.sent,e.next=11,this.client.publish([this.localAudioTrack]);case 11:return e.next=13,this.disableMic();case 13:ht.isConnectedChat=!0,console.log("Publish success!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("Error on join to chat: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"leave",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=this.localAudioTrack)||void 0===t||t.close(),e.next=4,this.client.leave();case 4:ht.isConnectedChat=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error on leave chat: "+e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"enableMic",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!0);case 3:ht.isEnableMic=!0,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on enable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"disableMic",value:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=this.localAudioTrack)||void 0===t?void 0:t.setEnabled(!1);case 3:ht.isEnableMic=!1,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error on disable mic: "+e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserCount",value:function(){return console.log("Number of users: "+this.client.getRTCStats().UserCount),this.client.getRTCStats().UserCount}}]),e}()),ko=n.p+"static/media/userIcon.401c41c6.svg",Io=n(250),Po=n.n(Io),No=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},To=function(){return Object(nn.jsx)("li",{className:Po.a.item,style:{backgroundColor:No()},children:Object(nn.jsx)("img",{src:ko,alt:"User icon"})})},Bo=n.p+"static/media/mic.7674c511.svg",Eo=n.p+"static/media/mic-white.1fcdc1a6.svg",Lo=n(85),Ao=n.n(Lo),Mo=Object(v.a)((function(){var e=Nt().editorStore,t=Object(p.useState)(!1),n=Object(Et.a)(t,2),r=n[0],i=n[1],a=So.getUserCount(),o=function(){var t=Object(Ve.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isConnectedChat){t.next=5;break}return t.next=3,So.leave();case 3:t.next=7;break;case 5:return t.next=7,So.join();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(Ve.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isEnableMic){t.next=5;break}return t.next=3,So.disableMic();case 3:t.next=7;break;case 5:return t.next=7,So.enableMic();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.useEffect)((function(){i(e.isConnectedChat)}),[e.isConnectedChat]),Object(nn.jsxs)("div",{className:Ao.a.container,children:[Object(nn.jsx)("h2",{className:Ao.a.title,children:"Voice Room"}),Object(nn.jsxs)("div",{className:Ao.a.wrapper,children:[r&&a&&Object(nn.jsx)("ul",{className:Ao.a.memberList,children:Object(Ie.a)(Array(a)).map((function(e){return Object(nn.jsx)(To,{})}))}),Object(nn.jsx)(Ln,{onClick:o,colorTheme:r?Nn:Pn,children:r?"Leave":"Join the room"}),Object(nn.jsxs)("div",{className:Ao.a.micBlock,children:[Object(nn.jsx)("button",{onClick:c,className:on()(Ao.a.micButton,Object(ke.a)({},Ao.a.micOff,!e.isEnableMic)),children:Object(nn.jsx)("img",{src:e.isEnableMic?Bo:Eo,alt:"Mute"})}),Object(nn.jsx)("p",{children:e.isEnableMic?"You're Live":"Tap to Unmute"})]})]})]})})),Vo=n(113),Do=n.n(Vo),Ro=function(e){var t=e.buttons;return Object(nn.jsx)("div",{className:Do.a.container,children:t.map((function(e,t){var n=e.icon,r=e.caption,i=e.action,a=e.disabled;return Object(nn.jsxs)("button",{className:on()(Do.a.button,Object(ke.a)({},Do.a.disabled,a())),type:"button",onClick:i,children:[Object(nn.jsx)("img",{src:n,alt:"action"}),Object(nn.jsx)("div",{className:Do.a.captionBlock,children:Object(nn.jsx)("div",{className:Do.a.caption,children:Object(nn.jsx)("span",{children:r})})})]},t)}))})},Uo=n.p+"static/media/copy.c0f4171c.svg",zo=n.p+"static/media/delete.ea41e11b.svg",Wo=(n.p,n.p,n.p+"static/media/volume.3310a948.svg"),Go=n.p+"static/media/plus.b562e375.svg",Fo=n.p+"static/media/minus.dcbc8c85.svg",Ho=n.p+"static/media/hotkeys.98603b70.svg",Zo=n.p+"static/media/cut.e3cbf46c.svg",Yo=n.p+"static/media/playIcon.a681c1d0.svg",Jo=n.p+"static/media/pauseIcon.5d42ceef.svg",qo=n.p+"static/media/split.785f6cdf.svg",Xo=n(161),Qo=n.n(Xo),Ko=n(128),$o=n.n(Ko),ec=Object(v.a)((function(){var e=Nt().editorStore,t=Object(p.useState)(!1),n=Object(Et.a)(t,2),r=n[0],i=n[1];Object(p.useEffect)((function(){e.players[e.activePlayerIndex].playing&&!e.players[e.activePlayerIndex].isPreloading?i(!0):i(!1)}),[e.activePlayerIndex,e.players,e.players[e.activePlayerIndex].playing,e.players[e.activePlayerIndex].isPreloading]);var o=function(){var t=Object(Ve.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.playAllFromPosition(e.timePosition);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(Ve.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.stop(e.activePlayerIndex);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(nn.jsxs)("div",{className:$o.a.container,children:[r?Object(nn.jsx)("button",{type:"button",className:$o.a.button,onClick:c,children:Object(nn.jsx)("img",{src:Jo,alt:"pause"})}):Object(nn.jsx)("button",{type:"button",className:$o.a.button,onClick:o,children:Object(nn.jsx)("img",{src:Yo,alt:"play"})}),Object(nn.jsx)("span",{className:$o.a.duration,children:qt(e.mode===a.Create?e.sourceTimePosition:e.timePosition)})]})})),tc=n(129),nc=n.n(tc),rc=n(251),ic=n.n(rc),ac=Object(Xa.a)({root:{},track:{backgroundColor:"#00a3ff"},thumb:{backgroundColor:"#00a3ff"}})(Ka.a),oc=Object(v.a)((function(e){var t=e.value,n=e.max,r=e.min,i=e.step,a=e.onChange;return Object(nn.jsx)("div",{className:ic.a.container,children:Object(nn.jsx)(ac,{value:t,max:n,min:r,orientation:"vertical","aria-labelledby":"vertical-slider",step:i,onChange:a})})})),cc=Object(v.a)((function(e){var t=e.value,n=e.onChange,r=e.isDisabled,i=Object(p.useState)(!1),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useRef)(null);return ln(s,(function(){c(!1)})),Object(nn.jsxs)("div",{className:nc.a.container,children:[Object(nn.jsx)("button",{className:on()(nc.a.button,Object(ke.a)({},nc.a.disabled,r)),type:"button",onClick:function(){c(!0)},children:Object(nn.jsx)("img",{src:Wo,alt:"action"})}),o&&Object(nn.jsx)("div",{ref:s,className:nc.a.volumeControlWrapper,children:Object(nn.jsx)(oc,{value:t,onChange:n,max:1,min:0,step:.01})})]})})),sc=[{icon:qo,caption:"Split",action:function(){var e=ht.editingElement;if(null!==e)switch(e.type){case u.Video:return ht.splitShot(e.id,ht.timePosition),void ht.createCurrentCuts(ht.shotCuts);case u.Audio:case u.Gif:return}},disabled:function(){var e;return(null===(e=ht.editingElement)||void 0===e?void 0:e.type)!==u.Video}},{icon:Uo,caption:"Duplicate",action:function(){var e=ht.editingElement;if(null!==e)switch(e.type){case u.Video:return ht.duplicateShotById(e.id),void ht.createCurrentCuts(ht.shotCuts);case u.Audio:return void ht.duplicateAudioShotById(e.id);case u.Gif:return void ot.duplicateGif(e.id)}},disabled:function(){return null===ht.editingElement}},{icon:zo,caption:"Delete",action:function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=ht.editingElement)){e.next=3;break}return e.abrupt("return");case 3:e.t0=t.type,e.next=e.t0===u.Video?6:e.t0===u.Audio?10:e.t0===u.Gif?12:14;break;case 6:return e.next=8,at.changeModeToCreate(0);case 8:return ht.removeShotCutById(t.id),e.abrupt("return");case 10:return ht.removeAudioShotCutById(t.id),e.abrupt("return");case 12:return ot.deleteGif(t.id),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disabled:function(){return null===ht.editingElement}}],lc={disabled:function(){return null===ht.editingElement||ht.editingElement.type===u.Gif},action:function(e,t){var n=ht.editingElement;if(null!==n)switch(n.type){case u.Video:var r=ht.getElementIndexById(n.id,ht.shotCuts);if(null===r)return;return ht.shotCuts[r].volume=t,void(ht.players[ht.activePlayerIndex].volume=t);case u.Audio:var i=ht.getElementIndexById(n.id,ht.audioShotCuts);if(null===i)return;return void(ht.audioShotCuts[i].volume=t);case u.Gif:return}},value:function(){var e=ht.editingElement;if(null!==e)switch(e.type){case u.Video:var t=ht.getElementIndexById(e.id,ht.shotCuts);if(null===t)return;return ht.shotCuts[t].volume;case u.Audio:case u.Gif:return}}},uc=Object(v.a)((function(e){var t=e.scrollToBeginHandler,n=[{icon:Ho,caption:"Hotkeys",action:function(){return console.log("click")},disabled:function(){return!0}},{icon:Zo,caption:"Fit timeline to screen",action:function(){var e=ht.trailerLength,n=ht.timeLineWidth;0!==e&&(ht.pixelsPerSecond=n/e,t())},disabled:function(){return!1}},{icon:Go,caption:"Zoom in",action:function(){ht.pixelsPerSecond<=80?ht.pixelsPerSecond=2*ht.pixelsPerSecond:ht.pixelsPerSecond+=80},disabled:function(){return!1}},{icon:Fo,caption:"Zoom out",action:function(){ht.pixelsPerSecond<=80?ht.pixelsPerSecond=ht.pixelsPerSecond/2:ht.pixelsPerSecond-=80},disabled:function(){return!1}}];return Object(nn.jsxs)("div",{className:Qo.a.container,children:[Object(nn.jsxs)("div",{className:Qo.a.buttonsWrapper,children:[Object(nn.jsx)(Ro,{buttons:sc}),Object(nn.jsx)("div",{className:Qo.a.volumeButtonWrapper,children:Object(nn.jsx)(cc,{isDisabled:lc.disabled(),onChange:lc.action,value:lc.value()||1})})]}),Object(nn.jsx)(ec,{}),Object(nn.jsx)(Ro,{buttons:n})]})})),dc=n(252),pc=n.n(dc),hc=function(){return Object(nn.jsx)("div",{className:pc.a.container})};!function(e){e.Right="right",e.Left="left"}(wo||(wo={}));var bc,fc="music",jc="sticker",mc=function(e){var t=e.resizer,n=e.outerBlock,r=e.innerBlock,i=e.event,a=e.showPosition,o=e.saveValueHandler;i.stopPropagation();var c=t===wo.Left&&r?r:n;if(c&&n){var s=c.getBoundingClientRect().width,l=c.offsetLeft,u=n.getBoundingClientRect().width,d=n.offsetLeft,p=i.clientX,h=0,b=function(e){if(c&&n){if(h=e.clientX-p,r)if(t===wo.Left&&h<0){var i=u-h;d+h>=0&&(n.style.width=i+"px")}else c.style.width=t===wo.Right?s+h+"px":s-h+"px";else if(t===wo.Right){var o=s+h;c.style.width=(o<ht.pixelsPerSecond?ht.pixelsPerSecond:o)+"px"}else{var b=l+h,f=s-h;b>=0&&f>ht.pixelsPerSecond&&(c.style.left=b+"px",c.style.width=f+"px")}a&&a(t,h)}};document.addEventListener("mousemove",b),document.onmouseup=function(){c&&(o&&o(t,h),r&&(r.style.width="100%"),document.removeEventListener("mousemove",b),document.onmouseup=null)}}},vc=function(e,t){if(e){var n=t.clientX,r=e.scrollLeft,i=function(t){if(e){var i=t.clientX-n;e.scrollLeft=r-i}};document.addEventListener("mousemove",i),document.onmouseup=function(){document.removeEventListener("mousemove",i),document.onmouseup=null}}},Oc=function(e,t,n){if(e){var r=n.clientX,i=e.offsetLeft,a=function(n){if(e){var a=n.clientX-r,o=i+a;e.style.left=(o<0?0:o)+"px",t()}};document.addEventListener("mousemove",a),document.onmouseup=function(){document.removeEventListener("mousemove",a),document.onmouseup=null}}},gc=function(e){var t=Object(p.useState)(["0"]),n=Object(Et.a)(t,2),r=n[0],i=n[1];return Object(p.useEffect)((function(){var e=[],t=Math.ceil(ht.trailerLength);Object(Ie.a)(new Array(Math.max(180,t))).map((function(e,t){return t+1})).forEach((function(t){var n=function(e){var t=Math.floor(e),n=Math.floor(t/60),r=Math.floor(t-60*n),i=n,a=r;return n<10&&(i=Number("0".concat(n))),r<10&&(a=Number("0".concat(r))),"".concat(i,":").concat(a)}(t);e.push(n)})),i((function(t){return[].concat(Object(Ie.a)(t),e)}))}),[e]),{markers:r}},xc=n(59),yc=n.n(xc),_c=n(185),Cc=n.n(_c),wc=n(45),Sc=n.n(wc),kc=(n(253),function(e){var t=e.match(/^https:\/\/www\.youtube\.com\/watch\?v=(.*?)$/);return t&&t[1]?t[1]:null}),Ic=function(e){var t=kc(e);return t?"https://i.ytimg.com/vi/".concat(t,"/hq720.jpg"):null},Pc=function(e){var t=kc(e);return t?"https://i.ytimg.com/vi/".concat(t,"/hqdefault.jpg"):null};!function(e){e.Big="big",e.Small="small"}(bc||(bc={}));var Nc,Tc,Bc=Object(v.a)((function(e){var t,n,r=e.shot,i=e.index,o=Object(p.useRef)(null),c=Object(p.useRef)(null),s=Nt().editorStore,l=Object(p.useState)(0),d=Object(Et.a)(l,2),h=d[0],b=d[1],f=Object(p.useState)(!1),j=Object(Et.a)(f,2),m=j[0],v=j[1],O=Object(p.useState)(!1),g=Object(Et.a)(O,2),x=g[0],y=g[1],_=Object(p.useState)(null),C=Object(Et.a)(_,2),w=C[0],S=C[1],k=r.url,I=r.time;Object(p.useEffect)((function(){S(Pc(k))}),[k]),Object(p.useEffect)((function(){var e=(I.endTime-I.startTime)*s.pixelsPerSecond;b(e)}),[s.pixelsPerSecond,I.endTime,I.startTime]),Object(p.useEffect)((function(){var e=s.editingElement;e&&e.type===u.Video&&e.id===r.id?y(!0):y(!1)}),[s,s.editingElement,r.id]);var P=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.editingElement={id:r.id,type:u.Video},s.mode=a.EditShot;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Ur(o,m,v);var N=function(e,t){var n=t/s.pixelsPerSecond;if(e===wo.Right){var r=s.shotCuts[i].time.endTime+n,a=s.shotCuts[i].time.startTime;s.shotCuts[i].time.endTime=r<a?a+1:r}else{var o=s.shotCuts[i].time.startTime+n;if(o>s.shotCuts[i].time.endTime)return;s.shotCuts[i].time.startTime=o<0?0:o}},T=function(){var e=Object(Ve.a)(Me.a.mark((function e(t,n){var r,a,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n/s.pixelsPerSecond,a={right:s.shotCuts[i].time.endTime,left:s.shotCuts[i].time.startTime},o=a[t]+r,!(s.players[s.activePlayerIndex].cutIndex===i)||!s.players[s.activePlayerIndex].isPreloaded){e.next=9;break}return e.next=7,at.quickMoveToPosition(o);case 7:e.next=11;break;case 9:return e.next=11,at.loadShot(i,o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(nn.jsx)("div",{className:Sc.a.container,onClick:P,style:{width:"".concat(h,"px")},ref:o,"data-testid":"videoItem",children:Object(nn.jsxs)("div",{ref:c,className:Sc.a.innerBlock,children:[Object(nn.jsx)("div",{className:on()(Sc.a.border,Object(ke.a)({},Sc.a.isActive,x||(null===(t=s.players[s.activePlayerIndex])||void 0===t?void 0:t.playing)&&i===s.playingCutIndex),Object(ke.a)({},Sc.a.isFocus,m&&!x&&!((null===(n=s.players[s.activePlayerIndex])||void 0===n?void 0:n.playing)&&i===s.playingCutIndex)))}),x&&Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsxs)("div",{className:on()(Sc.a.resizer,Sc.a.leftResizer),onMouseDown:function(e){return mc({resizer:wo.Left,outerBlock:o.current,innerBlock:c.current,event:e,showPosition:T,saveValueHandler:N})},onDragStart:function(){return!1},children:[Object(nn.jsx)("div",{className:Sc.a.resizeLine}),Object(nn.jsx)("div",{className:Sc.a.resizeLine})]}),Object(nn.jsxs)("div",{className:on()(Sc.a.resizer,Sc.a.rightResizer),onMouseDown:function(e){return mc({resizer:wo.Right,outerBlock:o.current,innerBlock:c.current,event:e,showPosition:T,saveValueHandler:N})},onDragStart:function(){return!1},children:[Object(nn.jsx)("div",{className:Sc.a.resizeLine}),Object(nn.jsx)("div",{className:Sc.a.resizeLine})]})]}),Object(nn.jsx)("div",{className:Sc.a.videoItem,style:{backgroundImage:"url(".concat(w,")")}})]})})})),Ec=n(130),Lc=n.n(Ec),Ac=n.p+"static/media/frameIcon.9c915ba8.svg",Mc=Object(v.a)((function(){var e=Nt().uiStore,t=Object(p.useRef)(null),n=Object(p.useState)(!1),r=Object(Et.a)(n,2),i=r[0],a=r[1];Ur(t,i,a);var o=function(){var t=Object(Ve.a)(Me.a.mark((function t(){return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.changeTab(gt),t.next=3,at.changeModeToCreate(0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(nn.jsxs)("div",{ref:t,className:on()(Lc.a.container,Object(ke.a)({},Lc.a.isActive,i)),onClick:o,children:[Object(nn.jsx)("img",{src:Ac,alt:"add frame",className:Lc.a.frameIcon}),Object(nn.jsx)("div",{className:Lc.a.dashContainer,children:"Add Frame"})]})})),Vc=Object(v.a)((function(e){var t,n=e.droppableId,r=Nt(),i=r.editorStore,a=r.userStore,o=Object(p.useState)(null),c=Object(Et.a)(o,2),s=c[0],l=c[1];return Object(p.useEffect)((function(){var e=i.editingElement;(null===e||void 0===e?void 0:e.id)&&e.type===u.Video?l(e.id):l(null)}),[null===(t=i.editingElement)||void 0===t?void 0:t.id,i]),Object(nn.jsx)(Gi.c,{droppableId:n,direction:"horizontal",children:function(e){return Object(nn.jsxs)("div",Object(C.a)(Object(C.a)({className:on()(Cc.a.wrapper,Object(ke.a)({},Cc.a.isDragStart,a.isDragStart))},e.droppableProps),{},{ref:e.innerRef,children:[i.shotCuts.map((function(e,t){return Object(nn.jsx)(Gi.b,{draggableId:e.id,index:t,isDragDisabled:s===e.id,children:function(n){return Object(nn.jsx)("div",Object(C.a)(Object(C.a)(Object(C.a)({},n.draggableProps),n.dragHandleProps),{},{ref:n.innerRef,children:Object(nn.jsx)(Bc,{index:t,shot:e})}))}},e.id)})),0===i.shotCuts.length&&Object(nn.jsx)(Mc,{}),e.placeholder]}))}},i.shotCuts.length)})),Dc=n.p+"static/media/effect.af40ea75.svg",Rc=n(162),Uc=n.n(Rc),zc=n(62),Wc=n.n(zc),Gc=n.p+"static/media/sticker.6e3535d7.svg",Fc=n.p+"static/media/text.e15df47b.svg",Hc=n.p+"static/media/gif.d3fe9328.svg",Zc=n.p+"static/media/note.60ff6609.svg",Yc=function(e){switch(e){case fc:return Zc;case"gif":return Hc;case jc:return Gc;default:return Fc}},Jc=Object(v.a)((function(e){var t,n=e.id,r=e.title,i=e.type,a=e.startTime,o=e.endTime,c=e.onClick,s=e.onSaveValue,l=e.onMoveBlock,d=Object(p.useRef)(null),h=function(e){switch(e){case fc:return{baseBorderColor:"#00A3FF",highlightBorderColor:"#0487D7",focusBorderColor:"#80D1FF",backgroundColor:"#00A3FF"};case"gif":return{baseBorderColor:"#fe6470",highlightBorderColor:"#CF5465",focusBorderColor:"#FFB2B8",backgroundColor:"#fe6470"};case jc:return{baseBorderColor:"#feaa85",highlightBorderColor:"#CF8C75",focusBorderColor:"#FFD4C2",backgroundColor:"#feaa85"};case"text":default:return{baseBorderColor:"#70CF97",highlightBorderColor:"#5DAA83",focusBorderColor:"#B8E7CB",backgroundColor:"#70CF97"}}}(i),b=Object(p.useState)(h.baseBorderColor),f=Object(Et.a)(b,2),j=f[0],m=f[1],v=Object(p.useState)(!1),O=Object(Et.a)(v,2),g=O[0],x=O[1],y=Object(p.useState)(!1),_=Object(Et.a)(y,2),C=_[0],w=_[1],S=Object(p.useState)(!1),k=Object(Et.a)(S,2),I=k[0],P=k[1],N=Nt().editorStore;Ur(d,g,x),Object(p.useEffect)((function(){var e;(null===(e=N.editingElement)||void 0===e?void 0:e.id)===n?P(!0):P(!1)}),[null===(t=N.editingElement)||void 0===t?void 0:t.id,n]),Object(p.useEffect)((function(){m(I?h.highlightBorderColor:g?h.focusBorderColor:h.baseBorderColor)}),[I,g,m,h.highlightBorderColor,h.baseBorderColor,h.focusBorderColor]),Object(p.useEffect)((function(){var e=N.editingElement;!e||e.type!==u.Gif&&e.type!==u.Audio||e.id!==n?w(!1):w(!0)}),[N,N.editingElement,n]);var T=function(e){if(d.current){var t=d.current,r=t.offsetLeft,i=t.offsetWidth;s(n,e,r,i)}},B=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n,r,i,a,o,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.current){e.next=2;break}return e.abrupt("return");case 2:if(n=d.current,r=n.offsetLeft,i=n.offsetWidth,a=(t===wo.Right?r+i:r)/N.pixelsPerSecond,null!==(o=at.getShotIndexByTimePosition(a))){e.next=7;break}return e.abrupt("return");case 7:if(c=at.getSourceSecondsByPosition(a,o),!(N.players[N.activePlayerIndex].cutIndex===o)||!N.players[N.activePlayerIndex].isPreloaded){e.next=14;break}return e.next=12,at.quickMoveToPosition(c);case 12:e.next=16;break;case 14:return e.next=16,at.loadShot(o,c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,r,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.current){e.next=2;break}return e.abrupt("return");case 2:return t=d.current,r=t.offsetLeft,i=t.offsetWidth,l(n,r,i),e.next=6,B();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(nn.jsxs)("div",{ref:d,className:Wc.a.container,style:{left:"".concat(a*N.pixelsPerSecond,"px"),width:"".concat(N.pixelsPerSecond*(o-a),"px"),zIndex:I?1:0,borderColor:j,backgroundColor:h.backgroundColor},onClick:c.bind(null,n),onMouseDown:Oc.bind(null,d.current,E),children:[C&&Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("div",{className:on()(Wc.a.resizer,Wc.a.leftResizer),onMouseDown:function(e){return mc({resizer:wo.Left,outerBlock:d.current,event:e,showPosition:B,saveValueHandler:T})},onDragStart:function(){return!1},children:Object(nn.jsx)("div",{className:Wc.a.resizeLine})}),Object(nn.jsx)("div",{className:on()(Wc.a.resizer,Wc.a.rightResizer),onMouseDown:function(e){return mc({resizer:wo.Right,outerBlock:d.current,event:e,showPosition:B,saveValueHandler:T})},onDragStart:function(){return!1},children:Object(nn.jsx)("div",{className:Wc.a.resizeLine})})]}),Object(nn.jsxs)("div",{className:Wc.a.wrapper,children:[Object(nn.jsx)("img",{src:Yc(i),alt:"effect pic",className:Wc.a.note}),Object(nn.jsx)("span",{className:Wc.a.title,children:r})]})]})})),qc=Object(v.a)((function(){var e=Nt().editorStore,t=function(t){e.mode=a.EditGifs,e.editingElement={type:u.Gif,id:t}},n=function(t,n,r,i){var a=ot.getGifIndexById(t);null!==a&&(n===wo.Right?e.gifs[a].endShowTime=(r+i)/e.pixelsPerSecond:e.gifs[a].startShowTime=r/e.pixelsPerSecond)},r=function(t,n,r){var i=ot.getGifIndexById(t);null!==i&&(e.mode=a.EditGifs,e.gifs[i].endShowTime=(n+r)/e.pixelsPerSecond,e.gifs[i].startShowTime=n/e.pixelsPerSecond)};return Object(nn.jsx)("div",{className:Uc.a.wrapper,children:0===e.gifs.length?Object(nn.jsxs)("div",{className:Uc.a.placeholder,children:[Object(nn.jsx)("img",{src:Dc,alt:"effect pic"}),Object(nn.jsx)("span",{children:"Add effects"})]}):Object(nn.jsx)("div",{className:Uc.a.list,children:e.gifs.map((function(e){var i=e.id,a=e.type,o=e.title,c=e.startShowTime,s=e.endShowTime;return Object(nn.jsx)(Jc,{id:i,type:a,title:o,startTime:c,endTime:s,onClick:t,onSaveValue:n,onMoveBlock:r},i)}))})})})),Xc=n.p+"static/media/music.f62e1252.svg",Qc=n(131),Kc=n.n(Qc),$c=Object(v.a)((function(e){var t=e.droppableId,n=Nt(),r=n.editorStore,i=n.userStore,o=function(e){r.mode=a.EditAudio,r.editingElement={type:u.Audio,id:e}},c=function(e,t,n,i){var a=r.getElementIndexById(e,r.audioShotCuts);if(null!==a)if(t===wo.Right){var o=(n+i)/r.pixelsPerSecond,c=o-r.audioShotCuts[a].timePosition.endTime,s=r.audioShotCuts[a].time.endTime+c,l=r.audioShotCuts[a].time.startTime;s<l?(r.audioShotCuts[a].time.endTime=l+1,r.audioShotCuts[a].timePosition.endTime=r.audioShotCuts[a].timePosition.startTime+1):(r.audioShotCuts[a].time.endTime=s,r.audioShotCuts[a].timePosition.endTime=o)}else{var u=n/r.pixelsPerSecond,d=u-r.audioShotCuts[a].timePosition.startTime,p=r.audioShotCuts[a].time.startTime+d;if(p>r.audioShotCuts[a].time.endTime)return;if(p<0){var h=0-r.audioShotCuts[a].time.startTime;r.audioShotCuts[a].time.startTime=0,u=r.audioShotCuts[a].timePosition.startTime+h,r.audioShotCuts[a].timePosition.startTime=u<0?0:u}else r.audioShotCuts[a].time.startTime=p,r.audioShotCuts[a].timePosition.startTime=u}},s=function(e,t,n){var i=r.getElementIndexById(e,r.audioShotCuts);null!==i&&(r.mode=a.EditGifs,r.audioShotCuts[i].timePosition.endTime=(t+n)/r.pixelsPerSecond,r.audioShotCuts[i].timePosition.startTime=t/r.pixelsPerSecond)};return Object(nn.jsx)(Gi.c,{droppableId:t,direction:"horizontal",children:function(e){return Object(nn.jsx)("div",Object(C.a)(Object(C.a)({className:on()(Kc.a.wrapper,Object(ke.a)({},Kc.a.isDragStart,i.isDragStart))},e.droppableProps),{},{ref:e.innerRef,children:0===r.audioShotCuts.length?Object(nn.jsxs)("div",{className:Kc.a.placeholder,children:[Object(nn.jsx)("img",{src:Xc,alt:"music pic"}),Object(nn.jsx)("span",{children:"Add music"})]}):Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("div",{className:Kc.a.list,children:r.audioShotCuts.map((function(e){var t=e.id,n=e.timePosition,r=e.url;return Object(nn.jsx)(Jc,{id:t,type:"music",title:r,startTime:n.startTime,endTime:n.endTime,onClick:o,onSaveValue:c,onMoveBlock:s},t)}))}),e.placeholder]})}))}},r.audioShotCuts.length)})),es=Object(v.a)((function(e){var t,n=e.droppableVideoId,r=e.droppableAudioId,i=gc(1).markers,o=Object(p.useRef)(null),c=Object(p.useRef)(null),s=Object(p.useRef)(null),l=Nt().editorStore,d=Object(p.useState)(0),h=Object(Et.a)(d,2),b=h[0],f=h[1],j=function(e,t){var n=t.getBoundingClientRect(),r=t.scrollLeft;return e.clientX-n.left+r},m=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n,r,i,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=2;break}return e.abrupt("return");case 2:if(n=j(t,s.current),r=n/l.pixelsPerSecond,i=at.getShotIndexByTimePosition(r),l.mode=a.PlayAll,null!==i){e.next=8;break}return e.abrupt("return");case 8:if(o=at.getSourceSecondsByPosition(r,i),!(l.players[l.activePlayerIndex].cutIndex===i)||!l.players[l.activePlayerIndex].isPreloaded){e.next=15;break}return e.next=13,at.quickMoveToPosition(o);case 13:e.next=17;break;case 15:return e.next=17,at.loadShot(i,o);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(p.useEffect)((function(){var e;l.timeLineWidth=(null===(e=o.current)||void 0===e?void 0:e.offsetWidth)||0}),[l,null===(t=o.current)||void 0===t?void 0:t.offsetWidth]),Object(p.useEffect)((function(){l.isMoveProgressBarOnChangeTimePosition&&f(l.timePosition*l.pixelsPerSecond)}),[l.timePosition,l.pixelsPerSecond,l.isMoveProgressBarOnChangeTimePosition]);var v=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=l.editingElement)||void 0===t?void 0:t.type)===u.Video){e.next=2;break}return e.abrupt("return");case 2:return l.highlightedCutIndex=null,l.selectedGifId=null,l.editingElement=null,e.next=7,at.changeModeToCreate(0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(nn.jsxs)("div",{className:yc.a.container,children:[Object(nn.jsx)("div",{className:yc.a.buttonsWrapper,children:Object(nn.jsx)(uc,{scrollToBeginHandler:function(){c.current&&c.current.scrollIntoView()}})}),Object(nn.jsxs)("div",{className:yc.a.timelineWrapper,ref:o,children:[Object(nn.jsx)("div",{style:{position:"absolute",height:"100%",left:"".concat(b,"px"),zIndex:2,transition:"0.3s"},children:Object(nn.jsx)(hc,{})}),Object(nn.jsxs)("div",{className:yc.a.contentWrapper,children:[Object(nn.jsx)("div",{ref:s,className:yc.a.progressBarWrapper,onMouseDown:vc.bind(null,o.current),onClick:m,children:i.map((function(e,t){return Object(nn.jsx)("div",{className:yc.a.progressBarItem,style:{minWidth:"".concat(l.pixelsPerSecond,"px")},children:Object(nn.jsx)("div",{className:yc.a.progressBarName,children:e})},t)}))}),Object(nn.jsx)("div",{className:yc.a.layerWrapper,children:Object(nn.jsx)($c,{droppableId:r})}),Object(nn.jsx)("div",{className:yc.a.layerWrapper,children:Object(nn.jsx)(qc,{})}),Object(nn.jsxs)("div",{className:yc.a.videosRoad,children:[Object(nn.jsx)("div",{className:yc.a.shotRoadBack,onClick:v}),Object(nn.jsx)("div",{ref:c}),Object(nn.jsx)(Vc,{droppableId:n})]})]})]})]})})),ts=Object(v.a)((function(){var e=Nt(),t=e.editorStore,n=e.userStore,r=e.uiStore;Object(p.useEffect)((function(){r.isLoadingApp||(r.isLoadingApp=!0)}),[r]);return Object(nn.jsx)(Gi.a,{onDragEnd:function(e){var r=e.destination,i=e.source,a=e.draggableId;if(n.setDragStart(!1),r&&(r.droppableId!==i.droppableId||r.index!==i.index)){var o=t.dndState.columns[i.droppableId],c=t.dndState.columns[r.droppableId];return"videoShots"===o.id&&"videoShots"===c.id?t.replaceShot(a,i.index,r.index,d.Video):"audioShots"===o.id&&"audioShots"===c.id?t.replaceShot(a,i.index,r.index,d.Audio):"videoCuts"===o.id&&"videoShots"===c.id?t.addShot(a,d.Video):"audioCuts"===o.id&&"audioShots"===c.id?t.addShot(a,d.Audio):void 0}},onDragStart:function(){return n.setDragStart(!0)},children:Object(nn.jsxs)("div",{className:Hi.a.content,children:[Object(nn.jsxs)("div",{className:Hi.a.contentWrapper,children:[t.mode!==a.Show&&Object(nn.jsx)(Wa,{}),Object(nn.jsxs)("div",{className:Hi.a.playerPanel,children:[Object(nn.jsx)(go,{}),t.mode===a.Show&&Object(nn.jsx)(Mo,{})]})]}),t.mode!==a.Show&&Object(nn.jsx)(es,{droppableVideoId:t.dndState.columns.videoShots.id,droppableAudioId:t.dndState.columns.audioShots.id})]})})})),ns=n(264),rs=function(e){var t=e.component,n=e.permitted,r=e.path,i=Object(ns.a)(e,["component","permitted","path"]);return Object(nn.jsx)(g.b,Object(C.a)(Object(C.a)({},i),{},{render:function(e){return n?Object(nn.jsx)(t,Object(C.a)(Object(C.a)({path:r},e),{},{exact:!0})):Object(nn.jsx)(g.a,{to:"/"})}}))},is=function(){return Object(nn.jsx)("div",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})},as=n(36),os=n.n(as),cs=n(254),ss=n.n(cs),ls=n(186),us=n.n(ls),ds=[{network:c.Discord,check:function(e){return/^https:\/\/discord\.com\/\S+/.test(e)}},{network:c.Instagram,check:function(e){return/^https:\/\/www\.instagram\.com\/\S+/.test(e)}},{network:c.Facebook,check:function(e){return/^https:\/\/www\.facebook\.com\/\S+/.test(e)}},{network:c.Reddit,check:function(e){return/^https:\/\/www\.reddit\.com\/\S+/.test(e)}},{network:c.Telegram,check:function(e){return/^https:\/\/t\.me\/\S+/.test(e)}},{network:c.TikTok,check:function(e){return/^https:\/\/www\.tiktok\.com\/\S+/.test(e)}},{network:c.Twitch,check:function(e){return/^https:\/\/www\.twitch\.tv\/\S+/.test(e)}},{network:c.Twitter,check:function(e){return/^https:\/\/twitter\.com\/\S+/.test(e)}},{network:c.YouTube,check:function(e){return/^https:\/\/www\.youtube\.com\/\S+/.test(e)}},{network:c.HomePage,check:function(e){return/^https:\/\/\S+/.test(e)}}],ps=function(e,t){for(var n=0;n<ds.length;n+=1)if(ds[n].network===t&&ds[n].check(e))return!0;return!1},hs=(s.SoundCloud,l.Audio,s.YouTube,l.Video,Object(v.a)((function(e){var t=e.icon,n=e.title,r=e.name,i=Nt().userStore,a=Object(p.createRef)(),o=Object(p.useState)(!1),c=Object(Et.a)(o,2),s=c[0],l=c[1],u=Object(p.useState)(""),d=Object(Et.a)(u,2),h=d[0],b=d[1];return Object(p.useEffect)((function(){s&&a.current&&a.current.focus()})),Object(p.useEffect)((function(){!function(){if(i.modifiedUser)for(var e=0;e<i.modifiedUser.socialNetworks.length;e+=1)if(i.modifiedUser.socialNetworks[e].type===r)return void b(i.modifiedUser.socialNetworks[e].url)}()}),[i.modifiedUser,r]),Object(p.useEffect)((function(){!function(){if(i.modifiedUser){for(var e=0;e<i.modifiedUser.socialNetworks.length;e+=1)if(i.modifiedUser.socialNetworks[e].type===r)return void(i.modifiedUser.socialNetworks[e].url=h);i.modifiedUser.socialNetworks.push({type:r,url:h})}}()}),[r,h,i.modifiedUser]),s?Object(nn.jsx)("div",{className:us.a.input,onBlur:function(){l(!1),ps(h,r)||b("")},children:Object(nn.jsx)(na,{ref:a,value:h,onChange:b,placeholder:"Insert ".concat(n," link"),errorList:[""===h||ps(h,r)?null:"Invalid link"]})}):Object(nn.jsxs)("button",{className:us.a.button,onClick:function(){l(!0)},children:[Object(nn.jsx)("img",{src:t,alt:"icon"}),Object(nn.jsx)("span",{children:n})]})}))),bs=n.p+"static/media/TikTok.1b981bfc.svg",fs=n.p+"static/media/YouTube.9d663bf7.svg",js=n.p+"static/media/Facebook.65c220e8.svg",ms=n.p+"static/media/Discord.53f71c3b.svg",vs=n.p+"static/media/Home.05359e9c.svg",Os=n.p+"static/media/Instagram.0a636917.svg",gs=n.p+"static/media/Reddit.7cbb36e7.svg",xs=n.p+"static/media/Telegram.f658dd71.svg",ys=n.p+"static/media/Twitch.ac06922a.svg",_s=n.p+"static/media/Twitter.96eb61d4.svg",Cs=[{name:c.Discord,icon:ms,title:"Discord"},{name:c.Instagram,icon:Os,title:"Instagram"},{name:c.Facebook,icon:js,title:"Facebook"},{name:c.Reddit,icon:gs,title:"Reddit"},{name:c.Telegram,icon:xs,title:"Telegram"},{name:c.Twitch,icon:ys,title:"Twitch"},{name:c.TikTok,icon:bs,title:"Tik Tok"},{name:c.Twitter,icon:_s,title:"Twitter"},{name:c.YouTube,icon:fs,title:"YouTube"},{name:c.HomePage,icon:vs,title:"HomePage"}],ws=function(){return Object(nn.jsx)("div",{children:Object(nn.jsx)("ul",{className:ss.a.socials,children:Cs.map((function(e){return Object(nn.jsx)(hs,{icon:e.icon,title:e.title,name:e.name},e.name)}))})})},Ss=n.p+"static/media/defaultImage.747489c0.svg",ks=n.p+"static/media/deleteIcon.a4d74c72.svg",Is=n(93),Ps=n.n(Is),Ns=n(255),Ts=n.n(Ns),Bs=function(e){var t=e.children,n=e.onClick;return Object(nn.jsx)("button",{className:Ts.a.button,onClick:n,type:"button",children:t})},Es=Object(v.a)((function(){var e,t,n=Nt().userStore,r=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var r,i,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",t),e.prev=2,e.next=5,rt.uploadAvatar(r);case 5:i=e.sent,(a=i.data).url&&n.modifiedUser&&(n.modifiedUser.photoUrl=a.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),i=h.a.useRef(null),a=(null===(e=n.modifiedUser)||void 0===e?void 0:e.photoUrl)?n.modifiedUser.photoUrl:Ss;return Object(nn.jsx)("div",{className:Ps.a.container,children:Object(nn.jsxs)("div",{className:Ps.a.imageUploader,children:[Object(nn.jsx)("div",{className:Ps.a.imageWrapper,children:Object(nn.jsx)("img",{src:a,alt:"UserData avatar"})}),Object(nn.jsxs)("div",{className:Ps.a.buttons,children:[Object(nn.jsx)(Bs,{onClick:function(e){i.current&&i.current.click()},children:"Upload a profile image"}),(null===(t=n.modifiedUser)||void 0===t?void 0:t.photoUrl)&&Object(nn.jsx)("button",{className:Ps.a.removeButton,onClick:function(){n.modifiedUser&&(n.modifiedUser.photoUrl=null)},children:Object(nn.jsx)("img",{src:ks,alt:"delete avatar"})})]}),Object(nn.jsx)("input",{type:"file",ref:i,onChange:function(e){var t,n=new FileReader,i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&(n.onloadend=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),n.readAsDataURL(i))},style:{display:"none"}}),Object(nn.jsx)("p",{className:Ps.a.uploadCaption,children:"Recommended size: 1000x1000px. JPG, PNG or GIF. 10MB max size."})]})})})),Ls=n(114),As=n.n(Ls),Ms=n.p+"static/media/defaultImage.5560a01f.svg",Vs=Object(v.a)((function(){var e,t=Nt().userStore,n=function(){var e=Object(Ve.a)(Me.a.mark((function e(n){var r,i,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n),e.prev=2,e.next=5,rt.uploadCoverImage(r);case 5:i=e.sent,(a=i.data).url&&t.modifiedUser&&(t.modifiedUser.coverImageUrl=a.url),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),r=h.a.useRef(null),i=(null===(e=t.modifiedUser)||void 0===e?void 0:e.coverImageUrl)?t.modifiedUser.coverImageUrl:Ms;return Object(nn.jsxs)("div",{className:As.a.container,children:[Object(nn.jsx)("img",{src:i,alt:"user background",className:As.a.backgroundImage}),Object(nn.jsx)("div",{className:As.a.imageUploader,children:Object(nn.jsxs)("div",{className:As.a.uploaderBLock,children:[Object(nn.jsx)(Bs,{onClick:function(e){r.current&&r.current.click()},children:"Upload a cover image"}),Object(nn.jsx)("input",{type:"file",ref:r,onChange:function(e){var t,r=new FileReader,i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&(r.onloadend=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),r.readAsDataURL(i))},style:{display:"none"}}),Object(nn.jsx)("p",{className:As.a.uploadCaption,children:"Recommended size: 1920x280px. JPG, PNG or GIF. 10MB max size."})]})})]})})),Ds=n(187),Rs=n.n(Ds),Us=function(){return Object(nn.jsxs)("div",{className:Rs.a.container,children:[Object(nn.jsx)(Vs,{}),Object(nn.jsx)("div",{className:Rs.a.avatarWrapper,children:Object(nn.jsx)(Es,{})})]})},zs=Object(v.a)((function(){var e,t,n,r,i,a=Nt(),o=a.editorStore,c=a.userStore,s=Object(p.useState)(!1),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=Object(p.useState)(!1),b=Object(Et.a)(h,2),f=b[0],j=b[1],m=Object(p.useState)(!0),v=Object(Et.a)(m,2),O=v[0],x=v[1],y=Object(p.useRef)(null),_=Object(g.g)(),C=function(){return d(!u)},w=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rt.getUserProfile();case 3:t=e.sent,n=t.data,c.modifiedUser=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,n,r,i,a,o,s,l,u,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.modifiedUser){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.prev=3,t=c.modifiedUser,n=t.username,r=t.lastName,i=t.firstName,a=t.about,o=t.photoUrl,s=t.socialNetworks,l=t.coverImageUrl,e.next=7,rt.updateUserProfile({username:n,firstName:i,lastName:r,about:a,photoUrl:o,coverImageUrl:l,socialNetworks:s.reduce((function(e,t){return""!==t.url?[].concat(Object(Ie.a)(e),[{url:t.url}]):e}),[])});case 7:return e.next=9,rt.getUserProfile();case 9:u=e.sent,d=u.data,c.user=d,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0);case 17:return e.prev=17,j(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){w()}),[]),Object(p.useEffect)((function(){clearTimeout(y.current),y.current=setTimeout(Object(Ve.a)(Me.a.mark((function e(){var t,n;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.modifiedUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rt.checkUsername(c.modifiedUser.username);case 4:t=e.sent,n=t.data,x(n.isFree);case 7:case"end":return e.stop()}}),e)}))),2e3)}),[null===(e=c.modifiedUser)||void 0===e?void 0:e.username]),Object(nn.jsxs)("div",{className:os.a.container,children:[Object(nn.jsx)("p",{className:os.a.description,children:"You can see the specified information in your profile"}),Object(nn.jsxs)("form",{children:[Object(nn.jsx)("p",{className:os.a.singleTitle,children:"Profile view"}),Object(nn.jsx)(Us,{}),Object(nn.jsxs)("div",{className:os.a.field,children:[Object(nn.jsx)("p",{className:os.a.fieldTitle,children:"Username"}),Object(nn.jsx)(na,{value:null===(t=c.modifiedUser)||void 0===t?void 0:t.username,onChange:function(e){c.modifiedUser&&(c.modifiedUser.username=e)},errorList:[O?null:"This username is not free"]})]}),Object(nn.jsxs)("div",{className:os.a.field,children:[Object(nn.jsx)("p",{className:os.a.fieldTitle,children:"First name"}),Object(nn.jsx)(na,{value:null===(n=c.modifiedUser)||void 0===n?void 0:n.firstName,onChange:function(e){c.modifiedUser&&(c.modifiedUser.firstName=e)}})]}),Object(nn.jsxs)("div",{className:os.a.field,children:[Object(nn.jsx)("p",{className:os.a.fieldTitle,children:"Last name"}),Object(nn.jsx)(na,{value:null===(r=c.modifiedUser)||void 0===r?void 0:r.lastName,onChange:function(e){c.modifiedUser&&(c.modifiedUser.lastName=e)}})]}),Object(nn.jsxs)("div",{className:os.a.field,children:[Object(nn.jsx)("p",{className:os.a.fieldTitle,children:"About"}),Object(nn.jsx)(na,{value:(null===(i=c.modifiedUser)||void 0===i?void 0:i.about)||"",onChange:function(e){c.modifiedUser&&(c.modifiedUser.about=e)}})]}),Object(nn.jsxs)("div",{className:"".concat(os.a.field," ").concat(os.a.fieldBlock),children:[Object(nn.jsx)("p",{className:os.a.fieldTitle,children:"Social networks"}),Object(nn.jsx)("p",{className:os.a.description,children:"Add links to social networks that will appear on the channel profile. Viewers will also be able to search for you by them."})]}),Object(nn.jsx)("div",{className:os.a.socialsWrapper,children:Object(nn.jsx)(ws,{})}),Object(nn.jsxs)("div",{className:os.a.buttons,children:[Object(nn.jsx)("button",{type:"button",className:os.a.deleteButton,onClick:C,children:"Delete account"}),Object(nn.jsx)(Ln,{type:"button",colorTheme:Pn,onClick:S,disabled:!O||f,children:"Save changes"})]})]}),Object(nn.jsx)(Zn,{title:"Delete account?",confirmBtnText:"Delete account",onConfirm:function(){rt.deleteUserProfile().then((function(){o.clearStore(),c.clearStore(),_.push("/")})).catch((function(e){return console.error(e)}))},description:"Are you sure you want to delete your account?",onCancel:C,isOpen:u,toggleModal:C})]})})),Ws=function(){return Object(nn.jsx)("div",{children:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"})},Gs=n(163),Fs=n.n(Gs),Hs=function(e){var t=e.tabs,n=e.url;return Object(nn.jsx)("div",{className:Fs.a.container,children:t.map((function(e){return Object(nn.jsx)(O.c,{exact:!0,to:"".concat(n).concat(e.path),className:Fs.a.link,activeClassName:Fs.a.active,children:e.title},e.id)}))})},Zs=function(){return Object(nn.jsx)("div",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})},Ys=n(188),Js=n.n(Ys),qs=[{title:"Profile change",id:"profileChange",path:""},{title:"Account settings",id:"account",path:"/account"},{title:"Security",id:"security",path:"/security"},{title:"Statistics",id:"statistics",path:"/statistics"}],Xs=function(){var e=Object(g.j)().url;return Object(nn.jsx)(jn,{children:Object(nn.jsxs)("div",{className:Js.a.container,children:[Object(nn.jsx)(Hs,{tabs:qs,url:e}),Object(nn.jsx)("div",{className:Js.a.content,children:Object(nn.jsxs)(g.d,{children:[Object(nn.jsx)(g.b,{path:e,exact:!0,component:zs}),Object(nn.jsx)(g.b,{path:"".concat(e,"/account"),component:is}),Object(nn.jsx)(g.b,{path:"".concat(e,"/security"),component:Ws}),Object(nn.jsx)(g.b,{path:"".concat(e,"/statistics"),component:Zs})]})})]})})},Qs=(n.p,n.p,n.p,n.p+"static/media/bell.9a40fa42.svg"),Ks=n.p+"static/media/logo.79d236b0.svg",$s=n.p+"static/media/help.35560765.svg",el=n.p+"static/media/publish.7e9023f7.svg",tl=n(86),nl=n.n(tl),rl=n(256),il=n.n(rl),al=n(257),ol=be.google.clientId,cl=Object(v.a)((function(e){var t=e.onLogin,n=e.onError;return Object(nn.jsx)("div",{children:Object(nn.jsx)(al.GoogleLogin,{clientId:ol,buttonText:"Sign in with Google",onSuccess:t,onFailure:n,cookiePolicy:"single_host_origin",responseType:"code,token"})})})),sl=n(189),ll=n.n(sl),ul=function(e){var t=e.isOpen,n=e.isError,r=e.login,i=e.handleClose,a=e.handleLoginFailure;return Object(nn.jsx)(Hn,{isOpen:t,toggleModal:i,children:Object(nn.jsx)("div",{className:ll.a.container,children:Object(nn.jsxs)("div",{className:ll.a.content,children:[Object(nn.jsx)("p",{children:"Sign In"}),Object(nn.jsx)(cl,{onLogin:r,onError:a}),n&&Object(nn.jsx)("p",{children:"Failed to log in"})]})})})},dl=n.p+"static/media/exit.87219332.svg",pl=n.p+"static/media/privacy.cd98d081.svg",hl=n.p+"static/media/settings.a9f0c8ed.svg",bl=n(56),fl=n.n(bl),jl=function(e){var t=e.data,n=t.image,r=t.id,i=t.title;return Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("div",{className:fl.a.imageWrapper,children:Object(nn.jsx)("img",{src:n,alt:"Icon",className:"user"===r?fl.a.image:fl.a.buttonImage})}),Object(nn.jsx)("span",{className:fl.a.buttonText,children:i})]})},ml=function(e){var t=e.id,n=e.action;switch(t){case"settings":return Object(nn.jsx)(O.c,{to:"/settings",className:fl.a.button,children:Object(nn.jsx)(jl,{data:e})});default:return Object(nn.jsx)("button",{className:fl.a.button,onClick:n,children:Object(nn.jsx)(jl,{data:e})})}},vl=Object(v.a)((function(e){var t=e.user,n=e.isProfilePage,r=e.logout,i=[{title:"See terms and privacy",id:"privacy",image:pl,action:function(){return console.log("Privacy")}},{title:"Settings",id:"settings",image:hl,action:function(){return console.log("Settings")}},{title:"Log Out",id:"exit",image:dl,action:function(){return r()}}];return Object(nn.jsxs)("div",{className:fl.a.userBlock,children:[Object(nn.jsx)(O.c,{to:"/profile",children:t.photoUrl?Object(nn.jsx)("img",{src:t.photoUrl||"",alt:"",className:on()(fl.a.image,Object(ke.a)({},fl.a.withBorder,!n))}):Object(nn.jsx)(tn.a,{className:fl.a.userImage,children:t.firstName[0]+t.lastName[0]})}),Object(nn.jsx)("ul",{className:fl.a.dropdown,children:i.map((function(e,t){return Object(nn.jsx)("li",{className:fl.a.dropdownItem,children:ml(e)},e.id)}))})]})})),Ol=Object(v.a)((function(e){var t=e.isProfilePage,n=Nt().userStore,r=Object(p.useState)(!1),i=Object(Et.a)(r,2),a=i[0],o=i[1],c=Object(p.useState)(!1),s=Object(Et.a)(c,2),l=s[0],u=s[1],d=function(){o(!0)},h=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var r,i,a,o,c;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.tokenId){e.next=3;break}return e.abrupt("return");case 3:return n.googleToken=r,e.prev=4,e.next=7,rt.postLogin();case 7:return i=e.sent,a=i.data,n.tokens=a.tokens,e.next=12,rt.getUserProfile();case 12:o=e.sent,c=o.data,n.user=c,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u(!0);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(Ve.a)(Me.a.mark((function e(){return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rt.postLogout();case 3:n.logout(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u(!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(nn.jsx)("div",{className:il.a.container,children:n.user?Object(nn.jsx)(vl,{user:n.user,isProfilePage:t,logout:b}):Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)(Ln,{onClick:d,colorTheme:Bn,children:"Log In"}),Object(nn.jsx)(Ln,{onClick:d,colorTheme:Pn,children:"Sign In"}),Object(nn.jsx)(ul,{isOpen:a,handleClose:function(){o(!1)},login:h,isError:l,handleLoginFailure:function(e){u(!0)}})]})})})),gl=n(87),xl=n.n(gl),yl=function(e){var t=e.item,n=t.time,r=t.image,i=t.title,a=t.viewed;return Object(nn.jsxs)("div",{className:xl.a.item,children:[r?Object(nn.jsx)("img",{src:r,alt:"Notification",className:xl.a.image}):Object(nn.jsx)("div",{className:xl.a.imageMock}),Object(nn.jsxs)("div",{className:xl.a.notificationContent,children:[Object(nn.jsx)("p",{className:xl.a.text,children:i}),Object(nn.jsx)("p",{className:xl.a.time,children:n})]}),!a&&Object(nn.jsx)("div",{className:xl.a.notViewed})]})},_l=n(94),Cl=n.n(_l),wl=function(e,t){return t?e:e.slice(0,3)},Sl=function(e){var t=e.notifications,n=Object(p.useState)(!1),r=Object(Et.a)(n,2),i=r[0],a=r[1];return Object(nn.jsxs)("div",{className:on()(Cl.a.container,Object(ke.a)({},Cl.a.isAllShow,i)),children:[Object(nn.jsxs)("div",{className:Cl.a.topBlock,children:[Object(nn.jsx)("p",{className:Cl.a.title,children:"Notification"}),!i&&Object(nn.jsx)("button",{className:Cl.a.seeAll,onClick:function(){return a(!0)},children:"See all"})]}),Object(nn.jsx)("ul",{className:Cl.a.list,children:wl(t,i).map((function(e,t){return Object(nn.jsx)(yl,{item:e},t)}))})]})},kl=[{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"},{image:"",viewed:!0,time:"1 hour ago",title:"\xabName Clip\xbb has gathered 15,354 sec. of attention in the past 24 h. \ud83d\ude0e\ud83d\udd25"},{image:"",viewed:!1,time:"1 hour ago",title:"10,000 viewers came to your broadcast via clip \xabName Clip\xbb"}],Il=n(190),Pl=n.n(Il),Nl=function(){var e=Object(p.useRef)(null),t=function(e){var t=Object(p.useState)(!1),n=Object(Et.a)(t,2),r=n[0],i=n[1];return Object(p.useEffect)((function(){var t=e.current;return t&&(t.addEventListener("mouseenter",(function(){i(!0)})),t.addEventListener("mouseleave",(function(){i(!1)}))),function(){t&&(t.removeEventListener("mouseenter",(function(){i(!1)})),t.removeEventListener("mouseleave",(function(){i(!1)})))}}),[e]),{isHover:r}}(e).isHover;return Object(nn.jsxs)("div",{className:Pl.a.notificationBlock,ref:e,children:[Object(nn.jsx)("button",{children:Object(nn.jsx)("img",{src:Qs,alt:"Notifications"})}),t&&Object(nn.jsx)("div",{className:Pl.a.notifications,children:Object(nn.jsx)(Sl,{notifications:kl})})]})},Tl=n(72),Bl=n.n(Tl);function El(){return(El=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ll(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Al(e,t){var n=e.title,r=e.titleId,i=Ll(e,["title","titleId"]);return p.createElement("svg",El({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Nc||(Nc=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),Tc||(Tc=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24.067C12 30.033 16.333 34.994 22 36V27.333H19V24H22V21.333C22 18.333 23.933 16.667 26.667 16.667C27.533 16.667 28.467 16.8 29.333 16.933V20H27.8C26.333 20 26 20.733 26 21.667V24H29.2L28.667 27.333H26V36C31.667 34.994 36 30.034 36 24.067C36 17.43 30.6 12 24 12C17.4 12 12 17.43 12 24.067Z",fill:"#131635"})))}var Ml,Vl,Dl=p.forwardRef(Al);n.p;function Rl(){return(Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ul(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zl(e,t){var n=e.title,r=e.titleId,i=Ul(e,["title","titleId"]);return p.createElement("svg",Rl({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Ml||(Ml=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),Vl||(Vl=p.createElement("path",{d:"M34.0696 11.996C33.7486 12.0194 33.4335 12.0947 33.1366 12.219H33.1326C32.8476 12.332 31.4926 12.902 29.4326 13.766L22.0506 16.875C16.7536 19.105 11.5466 21.301 11.5466 21.301L11.6086 21.277C11.6086 21.277 11.2496 21.395 10.8746 21.652C10.643 21.7995 10.4436 21.9924 10.2886 22.219C10.1046 22.489 9.95663 22.902 10.0116 23.329C10.1016 24.051 10.5696 24.484 10.9056 24.723C11.2456 24.965 11.5696 25.078 11.5696 25.078H11.5776L16.4606 26.723C16.6796 27.426 17.9486 31.598 18.2536 32.559C18.4336 33.133 18.6086 33.492 18.8276 33.766C18.9336 33.906 19.0576 34.023 19.2066 34.117C19.2841 34.1621 19.3667 34.1977 19.4526 34.223L19.4026 34.211C19.4176 34.215 19.4296 34.227 19.4406 34.231C19.4806 34.242 19.5076 34.246 19.5586 34.254C20.3316 34.488 20.9526 34.008 20.9526 34.008L20.9876 33.98L23.8706 31.355L28.7026 35.062L28.8126 35.109C29.8196 35.551 30.8396 35.305 31.3786 34.871C31.9216 34.434 32.1326 33.875 32.1326 33.875L32.1676 33.785L35.9016 14.656C36.0076 14.184 36.0346 13.742 35.9176 13.313C35.797 12.8789 35.5184 12.5055 35.1366 12.266C34.8161 12.0712 34.4443 11.9771 34.0696 11.996ZM33.9686 14.046C33.9646 14.109 33.9766 14.102 33.9486 14.223V14.234L30.2496 33.164C30.2336 33.191 30.2066 33.25 30.1326 33.309C30.0546 33.371 29.9926 33.41 29.6676 33.281L23.7576 28.75L20.1876 32.004L20.9376 27.214L30.5936 18.214C30.9916 17.844 30.8586 17.766 30.8586 17.766C30.8866 17.312 30.2576 17.633 30.2576 17.633L18.0816 25.176L18.0776 25.156L12.2416 23.191V23.187L12.2266 23.184C12.2369 23.1806 12.2469 23.1766 12.2566 23.172L12.2886 23.156L12.3196 23.145C12.3196 23.145 17.5306 20.949 22.8276 18.719C25.4796 17.602 28.1516 16.477 30.2066 15.609C32.2616 14.746 33.7806 14.113 33.8666 14.079C33.9486 14.047 33.9096 14.047 33.9686 14.047V14.046Z",fill:"#131635"})))}var Wl,Gl,Fl=p.forwardRef(zl);n.p;function Hl(){return(Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yl(e,t){var n=e.title,r=e.titleId,i=Zl(e,["title","titleId"]);return p.createElement("svg",Hl({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Wl||(Wl=p.createElement("rect",{width:48,height:48,rx:8,stroke:"#E5EAF4"})),Gl||(Gl=p.createElement("path",{d:"M20.656 12.9058L19.875 12.9998C19.875 12.9998 16.371 13.3828 13.812 15.4378H13.782L13.75 15.4678C13.176 15.9958 12.926 16.6448 12.531 17.5938C12.0654 18.7355 11.669 19.9043 11.344 21.0938C10.602 23.7768 10 27.0268 10 29.9998V30.2498L10.125 30.4998C11.051 32.1248 12.695 33.1598 14.219 33.8748C15.742 34.5898 17.059 34.9688 17.969 34.9998L18.563 35.0308L18.875 34.4998L19.969 32.5618C21.129 32.8238 22.465 32.9998 24 32.9998C25.535 32.9998 26.871 32.8238 28.031 32.5618L29.125 34.4998L29.438 35.0308L30.031 34.9998C30.941 34.9688 32.258 34.5898 33.781 33.8748C35.305 33.1598 36.949 32.1248 37.875 30.4998L38 30.2498V29.9998C38 27.0268 37.398 23.7768 36.656 21.0938C36.331 19.9043 35.9346 18.7355 35.469 17.5938C35.074 16.6438 34.824 15.9958 34.25 15.4688L34.219 15.4368H34.187C31.63 13.3828 28.125 12.9998 28.125 12.9998L27.344 12.9058L27.062 13.6248C27.062 13.6248 26.773 14.3548 26.594 15.1878C25.7343 15.0691 24.8678 15.0063 24 14.9998C23.465 14.9998 22.54 15.0348 21.406 15.1878C21.226 14.3548 20.937 13.6248 20.937 13.6248L20.656 12.9058ZM19.281 15.1878C19.324 15.3278 19.367 15.4488 19.406 15.5628C18.113 15.8828 16.734 16.3708 15.469 17.1558L16.531 18.8438C19.125 17.2338 22.851 16.9998 24 16.9998C25.148 16.9998 28.875 17.2338 31.469 18.8438L32.531 17.1558C31.266 16.3708 29.887 15.8828 28.594 15.5618C28.633 15.4488 28.676 15.3278 28.719 15.1868C29.652 15.3748 31.434 15.8048 32.906 16.9688C32.898 16.9728 33.281 17.5508 33.625 18.3748C33.977 19.2228 34.367 20.3518 34.719 21.6248C35.395 24.0658 35.926 27.0388 35.969 29.6558C35.339 30.6168 34.172 31.4838 32.937 32.0628C32.1625 32.4288 31.3431 32.691 30.5 32.8428L30 31.9998C30.297 31.8898 30.59 31.7698 30.844 31.6558C32.383 30.9798 33.219 30.2498 33.219 30.2498L31.906 28.7498C31.906 28.7498 31.344 29.2658 30.031 29.8438C28.72 30.4218 26.715 30.9998 24 30.9998C21.285 30.9998 19.281 30.4218 17.969 29.8438C16.656 29.2658 16.094 28.7498 16.094 28.7498L14.781 30.2498C14.781 30.2498 15.617 30.9798 17.156 31.6558C17.41 31.7698 17.703 31.8908 18 31.9998L17.5 32.8438C16.6565 32.6915 15.8367 32.4285 15.062 32.0618C13.828 31.4838 12.66 30.6168 12.032 29.6558C12.074 27.0388 12.605 24.0658 13.282 21.6248C13.5812 20.5206 13.9461 19.4353 14.375 18.3748C14.719 17.5508 15.102 16.9728 15.094 16.9688C16.566 15.8048 18.348 15.3748 19.281 15.1878ZM20.5 21.9998C19.727 21.9998 19.043 22.4408 18.625 22.9998C18.207 23.5588 18 24.2458 18 24.9998C18 25.7538 18.207 26.4408 18.625 26.9998C19.043 27.5588 19.727 27.9998 20.5 27.9998C21.273 27.9998 21.957 27.5588 22.375 26.9998C22.793 26.4408 23 25.7538 23 24.9998C23 24.2458 22.793 23.5588 22.375 22.9998C21.957 22.4408 21.273 21.9998 20.5 21.9998ZM27.5 21.9998C26.727 21.9998 26.043 22.4408 25.625 22.9998C25.207 23.5588 25 24.2458 25 24.9998C25 25.7538 25.207 26.4408 25.625 26.9998C26.043 27.5588 26.727 27.9998 27.5 27.9998C28.273 27.9998 28.957 27.5588 29.375 26.9998C29.793 26.4408 30 25.7538 30 24.9998C30 24.2458 29.793 23.5588 29.375 22.9998C28.957 22.4408 28.273 21.9998 27.5 21.9998ZM20.5 23.9998C20.555 23.9998 20.625 24.0198 20.75 24.1878C20.875 24.3548 21 24.6478 21 24.9998C21 25.3518 20.875 25.6448 20.75 25.8128C20.625 25.9798 20.555 25.9998 20.5 25.9998C20.445 25.9998 20.375 25.9798 20.25 25.8118C20.0846 25.5735 19.9973 25.2898 20 24.9998C20 24.6478 20.125 24.3548 20.25 24.1868C20.375 24.0198 20.445 23.9998 20.5 23.9998ZM27.5 23.9998C27.555 23.9998 27.625 24.0198 27.75 24.1878C27.875 24.3548 28 24.6478 28 24.9998C28 25.3518 27.875 25.6448 27.75 25.8128C27.625 25.9798 27.555 25.9998 27.5 25.9998C27.445 25.9998 27.375 25.9798 27.25 25.8118C27.0846 25.5735 26.9973 25.2898 27 24.9998C27 24.6478 27.125 24.3548 27.25 24.1868C27.375 24.0198 27.445 23.9998 27.5 23.9998Z",fill:"#131635"})))}var Jl,ql,Xl=p.forwardRef(Yl);n.p;function Ql(){return(Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $l(e,t){var n=e.title,r=e.titleId,i=Kl(e,["title","titleId"]);return p.createElement("svg",Ql({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Jl||(Jl=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),ql||(ql=p.createElement("path",{d:"M37.9555 15.5549C36.9575 15.9972 35.8854 16.296 34.7583 16.431C35.9213 15.7352 36.7913 14.64 37.2061 13.3498C36.1135 13.9988 34.9177 14.4556 33.6707 14.7004C32.8321 13.805 31.7213 13.2115 30.5109 13.0121C29.3005 12.8127 28.058 13.0184 26.9765 13.5975C25.895 14.1765 25.0349 15.0964 24.5298 16.2143C24.0247 17.3323 23.9028 18.5857 24.183 19.78C21.9691 19.6689 19.8033 19.0934 17.8262 18.0911C15.849 17.0887 14.1048 15.6818 12.7065 13.9617C12.2284 14.7864 11.9535 15.7426 11.9535 16.7609C11.953 17.6776 12.1788 18.5803 12.6108 19.3889C13.0428 20.1974 13.6677 20.8869 14.43 21.396C13.5459 21.3678 12.6813 21.1289 11.9081 20.6992V20.7709C11.908 22.0566 12.3528 23.3028 13.1669 24.298C13.981 25.2931 15.1144 25.976 16.3747 26.2306C15.5545 26.4526 14.6946 26.4853 13.8599 26.3262C14.2155 27.4326 14.9081 28.4 15.8408 29.0931C16.7736 29.7862 17.8997 30.1703 19.0615 30.1916C17.0892 31.7399 14.6534 32.5797 12.146 32.576C11.7018 32.5762 11.258 32.5502 10.8169 32.4984C13.3621 34.1348 16.3249 35.0033 19.3508 34.9999C29.5938 34.9999 35.1934 26.5163 35.1934 19.1585C35.1934 18.9195 35.1874 18.678 35.1766 18.439C36.2658 17.6513 37.206 16.6759 37.9531 15.5585L37.9555 15.5549Z",fill:"#131635"})))}var eu,tu,nu,ru=p.forwardRef($l);n.p;function iu(){return(iu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function au(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ou(e,t){var n=e.title,r=e.titleId,i=au(e,["title","titleId"]);return p.createElement("svg",iu({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,eu||(eu=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),tu||(tu=p.createElement("g",{clipPath:"url(#clip0)"},p.createElement("path",{d:"M39.3332 16.6759C39.152 16.0296 38.799 15.4444 38.3118 14.9826C37.8109 14.5066 37.1969 14.1661 36.5278 13.9933C34.0238 13.3333 23.9918 13.3333 23.9918 13.3333C19.8096 13.2857 15.6284 13.495 11.4718 13.9599C10.8028 14.1456 10.1899 14.4937 9.68785 14.9733C9.19451 15.4479 8.83718 16.0333 8.65051 16.6746C8.2021 19.0903 7.98424 21.5431 7.99985 23.9999C7.98385 26.4546 8.20118 28.9066 8.65051 31.3253C8.83318 31.9639 9.18918 32.5466 9.68385 33.0173C10.1785 33.4879 10.7945 33.8279 11.4718 34.0079C14.0092 34.6666 23.9918 34.6666 23.9918 34.6666C28.1794 34.7143 32.3659 34.505 36.5278 34.0399C37.1969 33.8671 37.8109 33.5266 38.3118 33.0506C38.8052 32.5799 39.1558 31.9946 39.3318 31.3573C39.792 28.9425 40.0157 26.4887 39.9998 24.0306C40.0345 21.5621 39.811 19.0967 39.3332 16.6746V16.6759ZM20.8025 28.5653V19.4359L29.1492 24.0013L20.8025 28.5653Z",fill:"#131635"}))),nu||(nu=p.createElement("defs",null,p.createElement("clipPath",{id:"clip0"},p.createElement("rect",{width:32,height:32,fill:"white",transform:"translate(8 8)"})))))}var cu,su,lu=p.forwardRef(ou);n.p;function uu(){return(uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function du(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pu(e,t){var n=e.title,r=e.titleId,i=du(e,["title","titleId"]);return p.createElement("svg",uu({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,cu||(cu=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),su||(su=p.createElement("path",{d:"M24.5053 12.0203C25.7607 12 27.0088 12.012 28.2556 12C28.3311 13.5308 28.8591 15.0902 29.9339 16.1725C31.0066 17.2818 32.5238 17.7896 34 17.9613V21.9883C32.6166 21.941 31.2267 21.641 29.9713 21.02C29.4246 20.762 28.9153 20.4297 28.4167 20.0899C28.4102 23.0121 28.4282 25.9305 28.3987 28.8406C28.3239 30.2387 27.8815 31.63 27.1016 32.7821C25.847 34.7 23.6694 35.9503 21.4327 35.9893C20.0608 36.071 18.6904 35.681 17.5213 34.9625C15.584 33.7714 14.2207 31.591 14.0222 29.2509C13.9971 28.7553 13.9933 28.2588 14.0106 27.7628C14.1833 25.86 15.0862 24.0396 16.4876 22.8013C18.076 21.359 20.3011 20.672 22.3845 21.0785C22.4039 22.5598 22.3471 24.0396 22.3471 25.521C21.3953 25.2 20.2831 25.29 19.4515 25.8922C18.8431 26.3101 18.3833 26.925 18.1429 27.6421C17.9443 28.1491 18.0012 28.7124 18.0127 29.2509C18.2407 30.892 19.7544 32.2713 21.3701 32.1221C22.4413 32.1101 23.4679 31.462 24.0262 30.5132C24.2068 30.181 24.4089 29.8412 24.4197 29.4504C24.5139 27.6616 24.4765 25.8802 24.488 24.0914C24.496 20.0599 24.4765 16.0397 24.506 12.021L24.5053 12.0203Z",fill:"#131635"})))}var hu,bu,fu=p.forwardRef(pu);n.p;function ju(){return(ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function mu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vu(e,t){var n=e.title,r=e.titleId,i=mu(e,["title","titleId"]);return p.createElement("svg",ju({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,hu||(hu=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),bu||(bu=p.createElement("path",{d:"M25.9376 28.7938C25.8906 28.7473 25.8272 28.7212 25.761 28.7212C25.6949 28.7212 25.6315 28.7473 25.5845 28.7938L21.9532 32.4251C20.272 34.1063 17.4345 34.2845 15.5782 32.4251C13.7188 30.5657 13.897 27.7313 15.5782 26.0501L19.2095 22.4188C19.3063 22.322 19.3063 22.1626 19.2095 22.0657L17.9657 20.822C17.9187 20.7754 17.8553 20.7493 17.7892 20.7493C17.723 20.7493 17.6596 20.7754 17.6126 20.822L13.9813 24.4532C11.3376 27.097 11.3376 31.3751 13.9813 34.0157C16.6251 36.6563 20.9032 36.6595 23.5438 34.0157L27.1751 30.3845C27.272 30.2876 27.272 30.1282 27.1751 30.0313L25.9376 28.7938ZM34.0188 13.9813C31.3751 11.3376 27.097 11.3376 24.4563 13.9813L20.822 17.6126C20.7754 17.6596 20.7493 17.723 20.7493 17.7892C20.7493 17.8553 20.7754 17.9187 20.822 17.9657L22.0626 19.2063C22.1595 19.3032 22.3188 19.3032 22.4157 19.2063L26.047 15.5751C27.7282 13.8938 30.5657 13.7157 32.422 15.5751C34.2813 17.4345 34.1032 20.2688 32.422 21.9501L28.7907 25.5813C28.7442 25.6283 28.7181 25.6918 28.7181 25.7579C28.7181 25.824 28.7442 25.8875 28.7907 25.9345L30.0345 27.1782C30.1313 27.2751 30.2907 27.2751 30.3876 27.1782L34.0188 23.547C36.6595 20.9032 36.6595 16.6251 34.0188 13.9813ZM27.0657 19.6345C27.0187 19.5879 26.9553 19.5618 26.8892 19.5618C26.823 19.5618 26.7596 19.5879 26.7126 19.6345L19.6345 26.7095C19.5879 26.7565 19.5618 26.8199 19.5618 26.886C19.5618 26.9522 19.5879 27.0156 19.6345 27.0626L20.872 28.3001C20.9688 28.397 21.1282 28.397 21.2251 28.3001L28.3001 21.2251C28.397 21.1282 28.397 20.9688 28.3001 20.872L27.0657 19.6345Z",fill:"#131635"})))}var Ou,gu,xu=p.forwardRef(vu),yu=(n.p,[{icon:Fl,id:"telegram"},{icon:Dl,id:"facebook"},{icon:ru,id:"twitter"},{icon:Xl,id:"discord"},{icon:lu,id:"youtube"},{icon:fu,id:"tiktok"},{icon:xu,id:"link"}]),_u=Object(v.a)((function(e){var t=e.toggleModal,n=Object(p.useRef)(null),r=Object(p.useState)(!1),i=Object(Et.a)(r,2),a=i[0],o=i[1],c=Nt().editorStore;ln(n,(function(){return t(!1)}));var s=function(){var e=Object(Ve.a)(Me.a.mark((function e(t){var n,r,i,a,s,l,u;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,n=c.videoId,r=c.videoName,i=c.shotCuts,a=c.sources,s=c.gifs,e.next=5,t({id:n,name:""===r?null:r,description:null,cuts:i,sources:a,gifs:s});case 5:l=e.sent,u=l.data,n||(c.videoId=u.id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,o(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(nn.jsx)("div",{className:Bl.a.container,children:Object(nn.jsxs)("div",{className:Bl.a.content,ref:n,children:[Object(nn.jsx)("h4",{className:Bl.a.title,children:"Video Name"}),Object(nn.jsxs)("div",{className:Bl.a.inputWrapper,children:[Object(nn.jsx)(na,{value:c.videoName||"",onChange:function(e){return c.videoName=e},placeholder:"Type a name for the video"}),Object(nn.jsx)(Ln,{type:"button",colorTheme:Pn,onClick:function(){return s(c.videoId?rt.updateVideo:rt.createVideo)},disabled:a,children:c.videoId?"Update":"Save"})]}),Object(nn.jsxs)("div",{className:on()(Bl.a.shareBlock,Object(ke.a)({},Bl.a.isActive,!!c.videoId)),children:[Object(nn.jsx)("h4",{className:Bl.a.title,children:"Share"}),Object(nn.jsx)("ul",{className:Bl.a.list,children:yu.map((function(e){var t=e.icon,n=e.id,r=t;return Object(nn.jsx)("li",{className:Bl.a.listItem,children:Object(nn.jsx)("button",{children:Object(nn.jsx)(r,{})})},n)}))})]})]})})}));function Cu(){return(Cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Su(e,t){var n=e.title,r=e.titleId,i=wu(e,["title","titleId"]);return p.createElement("svg",Cu({width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?p.createElement("title",{id:r},n):null,Ou||(Ou=p.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:7.5,stroke:"#E5EAF4"})),gu||(gu=p.createElement("path",{d:"M23.9998 10.6665C16.6398 10.6665 10.6665 16.6398 10.6665 23.9998C10.6665 31.3598 16.6398 37.3332 23.9998 37.3332H30.6665V34.6665H23.9998C18.2132 34.6665 13.3332 29.7865 13.3332 23.9998C13.3332 18.2132 18.2132 13.3332 23.9998 13.3332C29.7865 13.3332 34.6665 18.2132 34.6665 23.9998V25.9065C34.6665 26.9598 33.7198 27.9998 32.6665 27.9998C31.6132 27.9998 30.6665 26.9598 30.6665 25.9065V23.9998C30.6665 20.3198 27.6798 17.3332 23.9998 17.3332C20.3198 17.3332 17.3332 20.3198 17.3332 23.9998C17.3332 27.6798 20.3198 30.6665 23.9998 30.6665C25.8398 30.6665 27.5198 29.9198 28.7198 28.7065C29.5865 29.8932 31.0798 30.6665 32.6665 30.6665C35.2932 30.6665 37.3332 28.5332 37.3332 25.9065V23.9998C37.3332 16.6398 31.3598 10.6665 23.9998 10.6665ZM23.9998 27.9998C21.7865 27.9998 19.9998 26.2132 19.9998 23.9998C19.9998 21.7865 21.7865 19.9998 23.9998 19.9998C26.2132 19.9998 27.9998 21.7865 27.9998 23.9998C27.9998 26.2132 26.2132 27.9998 23.9998 27.9998Z",fill:"#131635"})))}var ku=p.forwardRef(Su),Iu=(n.p,n(95)),Pu=n.n(Iu),Nu=[{icon:Dl,id:"facebook",link:"https://www.facebook.com/EYEMO.APPP/?ref=pages_you_manage"},{icon:Fl,id:"telegram",link:"https://t.me/EYEMO_SUPPORT"},{icon:Xl,id:"discord",link:"https://discord.gg/CApVzfH3"},{icon:ku,id:"email",link:"mailto:eyemo.app@gmail.com"}],Tu=function(e){var t=e.toggleModal,n=Object(p.useRef)(null);return ln(n,(function(){return t(!1)})),Object(nn.jsx)("div",{className:Pu.a.container,children:Object(nn.jsxs)("div",{className:Pu.a.content,ref:n,children:[Object(nn.jsx)("h4",{className:Pu.a.title,children:"Contact Us"}),Object(nn.jsxs)("div",{className:Pu.a.description,children:[Object(nn.jsx)("span",{children:"Do you need additional assistance?"}),"Our friendly support team is here to help."]}),Object(nn.jsx)("ul",{className:Pu.a.list,children:Nu.map((function(e){var t=e.icon,n=e.id,r=e.link,i=t;return Object(nn.jsx)("li",{className:Pu.a.listItem,children:Object(nn.jsx)("a",{href:r,rel:"noreferrer",target:"_blank",children:Object(nn.jsx)("button",{children:Object(nn.jsx)(i,{})})})},n)}))})]})})},Bu=Object(v.a)((function(){var e=Nt(),t=e.userStore.user,n=e.editorStore.shotCuts,r=Object(g.h)().pathname,i=Object(p.useState)(!1),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useState)(!1),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=function(){return c(!o)},b=function(){return d(!u)},f="/"===r;return Object(nn.jsxs)("header",{className:nl.a.header,children:[Object(nn.jsx)(O.c,{to:"/feed",children:Object(nn.jsx)("img",{src:Ks,alt:"logo eyemo"})}),Object(nn.jsxs)("div",{className:nl.a.rightBlock,children:[Object(nn.jsxs)("div",{className:nl.a.buttons,children:[t&&f&&Object(nn.jsx)("div",{className:nl.a.publishWrapper,children:Object(nn.jsxs)(Ln,{type:"button",onClick:h,colorTheme:Pn,disabled:!Boolean(n.length),children:[Object(nn.jsx)("img",{src:el,alt:"publish",style:{marginRight:"8px"}}),Object(nn.jsx)("span",{children:"Publish"})]})}),f&&Object(nn.jsx)("div",{className:nl.a.buttonWrapper,children:Object(nn.jsx)(Ln,{onClick:function(){return ht.clearStore()},colorTheme:Pn,children:"Clear store"})}),!f&&Object(nn.jsx)("div",{className:nl.a.buttonWrapper,children:Object(nn.jsx)(O.c,{to:"/",children:Object(nn.jsx)(Bs,{children:"Create a Clip"})})}),Object(nn.jsx)("div",{className:nl.a.buttonWrapper,children:Object(nn.jsx)("button",{onClick:b,children:Object(nn.jsx)("img",{src:$s,alt:"help"})})}),t&&Object(nn.jsx)(Nl,{})]}),Object(nn.jsx)(Ol,{isProfilePage:"/profile"===r})]}),Object(nn.jsx)(Hn,{isOpen:o,toggleModal:h,children:Object(nn.jsx)(_u,{toggleModal:h})}),Object(nn.jsx)(Hn,{isOpen:u,toggleModal:b,children:Object(nn.jsx)(Tu,{toggleModal:b})})]})})),Eu=(n(443),Object(v.a)((function(e){var t=Nt(),n=t.playerStore,r=t.uiStore,i=Object(g.i)().shareVideoId;Object(p.useEffect)((function(){r.showHeader=!1}),[r]);var a=Object(p.useCallback)((function(){rt.getVideoById(i).then((function(e){var t=e.data;n.clearStore(),n.loadVideoToStore(t)})).catch((function(e){return console.error(e)}))}),[n,i]);return Object(p.useEffect)((function(){i&&a()}),[i,a]),Object(nn.jsx)("div",{children:Object(nn.jsx)(Oi,{store:n,showControls:!1})})}))),Lu=n(258),Au=n.n(Lu),Mu=n(63),Vu=n.n(Mu),Du=function(e){var t=e.user,n=t.firstName,r=t.lastName,i=t.username,a=t.about,o=t.photoUrl,c=t.secondsCount;return Object(nn.jsxs)("div",{className:Vu.a.container,children:[Object(nn.jsxs)("div",{className:Vu.a.userCaption,children:[Object(nn.jsxs)("div",{className:Vu.a.topBlock,children:[o?Object(nn.jsx)("img",{src:o,alt:"UserData",className:Vu.a.userImage}):Object(nn.jsx)(tn.a,{className:Vu.a.userImage,children:n[0]+r[0]}),Object(nn.jsx)("div",{className:Vu.a.notification})]}),Object(nn.jsxs)(O.b,{to:"/u/".concat(i),children:[Object(nn.jsxs)("p",{className:Vu.a.userName,children:[n," ",r]}),Object(nn.jsx)("p",{className:Vu.a.nickName,children:i})]}),Object(nn.jsx)("p",{className:Vu.a.caption,children:a})]}),Object(nn.jsxs)("p",{className:Vu.a.duration,children:[c," sec."]})]})},Ru=n(38),Uu=n.n(Ru),zu=n.p+"static/media/defaultPreview.4d64d370.png",Wu=function(e){var t,n=e.item,r=e.toogleModal,i=Object(p.useState)([]),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useState)(0),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=Nt(),b=h.playerStore,f=h.userStore,j=n.id,m=n.name,v=n.creator,O=n.sources;Object(p.useEffect)((function(){return c(function(e,t){var n={big:Ic,small:Pc};return e.reduce((function(e,r){var i=n[t](r.url);return i?[].concat(Object(Ie.a)(e),[i]):e}),[])}(O,bc.Small))}),[O]),nr(o,u,d);return Object(nn.jsxs)("li",{className:Uu.a.item,children:[Object(nn.jsxs)("div",{className:Uu.a.wrapper,onClick:function(e){e.stopPropagation(),rt.getVideoById(j).then((function(e){var t=e.data;b.clearStore(),b.loadVideoToStore(t),r(),at.changeModeToShow()})).catch((function(e){return console.error(e)}))},children:[0===o.length?Object(nn.jsx)("img",{src:zu,alt:"user video",className:Uu.a.videoImage}):Object(nn.jsx)("img",{src:o[u],alt:"user video",className:Uu.a.videoImage}),!!f.user&&f.user.username!==(null===(t=n.creator)||void 0===t?void 0:t.username)&&Object(nn.jsx)("div",{className:Uu.a.saveBtnContainer,children:Object(nn.jsx)(tr,{video:n})}),Object(nn.jsx)("div",{className:Uu.a.shareBtnContainer,children:Object(nn.jsx)(Gr,{videoId:n.id})})]}),Object(nn.jsxs)("div",{className:Uu.a.infoBlock,children:[Object(nn.jsxs)("div",{className:Uu.a.imageWrapper,children:[(null===v||void 0===v?void 0:v.photoUrl)?Object(nn.jsx)("img",{src:v.photoUrl,alt:"user",className:Uu.a.userImage}):Object(nn.jsx)(tn.a,{className:Uu.a.userImage,children:(null===v||void 0===v?void 0:v.firstName[0])+(null===v||void 0===v?void 0:v.lastName[0])}),Object(nn.jsx)("div",{className:Uu.a.userInfo,children:Object(nn.jsx)(Du,{user:v})})]}),Object(nn.jsxs)("div",{className:Uu.a.videoInfo,children:[Object(nn.jsx)("p",{className:Uu.a.title,children:m}),Object(nn.jsxs)("div",{className:Uu.a.userBlock,children:[Object(nn.jsxs)("p",{className:Uu.a.userName,children:[null===v||void 0===v?void 0:v.firstName," ",null===v||void 0===v?void 0:v.lastName]}),Object(nn.jsxs)("p",{className:Uu.a.duration,children:[n.secondsCount," sec. view"]})]})]})]})]})},Gu=function(){var e=Object(p.useState)(0),t=Object(Et.a)(e,2),n=t[0],r=t[1],i=Object(p.useState)(!1),a=Object(Et.a)(i,2),o=a[0],c=a[1],s=Object(p.useState)([]),l=Object(Et.a)(s,2),u=l[0],d=l[1],h=Object(p.useState)(!1),b=Object(Et.a)(h,2),f=b[0],j=b[1],m=Object(p.useState)(!0),v=Object(Et.a)(m,2),O=v[0],g=v[1],x=Object(p.useState)(!1),y=Object(Et.a)(x,2),_=y[0],C=y[1],w=function(){return j(!f)},S=function(){var e=Object(Ve.a)(Me.a.mark((function e(){var t,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,rt.getFeedVideos(10,n);case 4:t=e.sent,i=t.data,g(u.length+i.list.length<i.totalCount),d((function(e){return[].concat(Object(Ie.a)(e),Object(Ie.a)(i.list))})),r(n+i.list.length),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),C(!0);case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),k=Object(p.useCallback)(S,[]),I=Object(Yr.a)({loading:o,hasNextPage:O,onLoadMore:S,disabled:_}),P=Object(Et.a)(I,1)[0];return Object(p.useEffect)((function(){k()}),[k]),Object(nn.jsxs)(nn.Fragment,{children:[Object(nn.jsx)("ul",{className:Au.a.list,children:u.map((function(e){return Object(nn.jsx)(Wu,{item:e,toogleModal:w},e.id)}))}),(o||O)&&Object(nn.jsx)("div",{ref:P,children:"Loading..."}),Object(nn.jsx)(Hn,{isOpen:f,toggleModal:w,children:Object(nn.jsx)(Pi,{toggleModal:w})})]})},Fu=n(259),Hu=n.n(Fu),Zu=function(){return Object(nn.jsx)(jn,{children:Object(nn.jsx)("div",{className:Hu.a.container,children:Object(nn.jsx)(Gu,{})})})},Yu=Object(v.a)((function(){var e,t=Object(g.i)().shareVideoId,n=Object(g.g)(),r=Nt(),i=r.playerStore,a=r.uiStore,o=Object(p.useState)(!1),c=Object(Et.a)(o,2),s=c[0],l=c[1],u=Object(p.useState)(!1),d=Object(Et.a)(u,2),h=d[0],b=d[1],f=function(){s&&i.creator&&n.push("/u/".concat(i.creator.username)),l(!s)};return Object(p.useEffect)((function(){t&&(a.isLoadingApp=!0,rt.getVideoById(t).then((function(e){var t=e.data;i.clearStore(),i.loadVideoToStore(t),l(!0),a.isLoadingApp=!1})).catch((function(e){console.error(e),b(!0),a.isLoadingApp=!1})))}),[a,i,t]),Object(nn.jsxs)("div",{children:[h&&Object(nn.jsx)("div",{children:"Video not found"}),!h&&(null===(e=i.creator)||void 0===e?void 0:e.username)&&Object(nn.jsx)(nn.Fragment,{children:Object(nn.jsx)(Hn,{isOpen:s,toggleModal:f,children:Object(nn.jsx)(Pi,{toggleModal:f})})})]})}));var Ju=Object(v.a)((function(){var e=Nt(),t=e.userStore,n=e.uiStore;return Object(x.a)((function(){return at.sendTimePosition(),"You\u2019ll lose your data!"})),Object(nn.jsx)(nn.Fragment,{children:Object(nn.jsx)(m.a,{dateAdapter:j.a,children:Object(nn.jsxs)(O.a,{basename:"/",children:[Object(nn.jsxs)("div",{className:_.a.container,children:[n.showHeader&&Object(nn.jsx)(Bu,{}),Object(nn.jsx)("div",{className:_.a.wrapper,children:Object(nn.jsxs)(g.d,{children:[Object(nn.jsx)(g.b,{path:"/v/:shareVideoId",component:Yu}),Object(nn.jsx)(g.b,{path:"/u/:userName",component:Wi}),Object(nn.jsx)(g.b,{path:"/embed/:shareVideoId",component:Eu}),Object(nn.jsx)(g.b,{path:"/",exact:!0,component:ts}),Object(nn.jsx)(rs,{permitted:null!==t.user,path:"/feed",component:Zu}),Object(nn.jsx)(rs,{permitted:null!==t.user,path:"/settings",component:Xs}),t.user&&Object(nn.jsx)(g.a,{from:"/profile",to:"/u/".concat(t.user.username)}),Object(nn.jsx)(g.a,{to:"/"})]})})]}),n.isLoadingApp&&Object(nn.jsx)(mi,{})]})})})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Promise.all([Se.init(),bt.init(),Fe.init(),It.init()]).then((function(){return Ze()})).then((function(){f.a.render(Object(nn.jsx)(h.a.StrictMode,{children:Object(nn.jsx)(Ju,{})}),document.getElementById("root"))})).catch((function(e){return console.error(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,n){e.exports={container:"videoItem_container__3nqQf",border:"videoItem_border__39VPE",isActive:"videoItem_isActive__3KMkD",isFocus:"videoItem_isFocus__2BCom",innerBlock:"videoItem_innerBlock__lELik",videoItem:"videoItem_videoItem__LL8-Y",resizer:"videoItem_resizer__1HtaQ",leftResizer:"videoItem_leftResizer__sZSUf",rightResizer:"videoItem_rightResizer__1eAXt",resizeLine:"videoItem_resizeLine__2OPXH"}},50:function(e,t,n){e.exports={container:"portfolio_container__3s1vU",addButton:"portfolio_addButton__1uR8w",playerWrapper:"portfolio_playerWrapper__1xtYY",player:"portfolio_player__jz_Gi",buttons:"portfolio_buttons__1Uwgf",buttonsContainer:"portfolio_buttonsContainer__3Bb5q",buttonsList:"portfolio_buttonsList__2_Nig",button:"portfolio_button__2EqQ0",buttonItem:"portfolio_buttonItem__SdLBc",duration:"portfolio_duration__hHjPU",overlay:"portfolio_overlay__1POnn",playerBlocker:"portfolio_playerBlocker__3u8Qo",tabsWrapper:"portfolio_tabsWrapper__18ivw",saveBtnContainer:"portfolio_saveBtnContainer__1jtHA",shareBtnContainer:"portfolio_shareBtnContainer__3iaK3"}},55:function(e,t,n){e.exports={root:"bestViewers_root__2pUs6",usersContainer:"bestViewers_usersContainer__4vSmB",title:"bestViewers_title__HQ4gA",sources:"bestViewers_sources__5JTpU",source:"bestViewers_source__2cenE",otherViewsContainer:"bestViewers_otherViewsContainer__3XgW7",otherViews:"bestViewers_otherViews__3LLLQ",seconds:"bestViewers_seconds__1zcPd",noOneText:"bestViewers_noOneText__3AgaM",userData:"bestViewers_userData__2VD7i"}},56:function(e,t,n){e.exports={userBlock:"userBlock_userBlock__2GRWG",dropdown:"userBlock_dropdown__2dc2k",image:"userBlock_image__3Fqbj",withBorder:"userBlock_withBorder__l1wdw",dropdownItem:"userBlock_dropdownItem__25Hwb",button:"userBlock_button__1XUAk",imageWrapper:"userBlock_imageWrapper__2WgW-",buttonText:"userBlock_buttonText__2wSME"}},58:function(e,t,n){e.exports={container:"userInfo_container__3nq7H",slides:"userInfo_slides__2Vq1t",userImage:"userInfo_userImage__3Jj5E",image:"userInfo_image__1HtQH",status:"userInfo_status__28AnI",name:"userInfo_name__3wu-r",nickName:"userInfo_nickName__EOa3p",about:"userInfo_about__KDR-_",totalTime:"userInfo_totalTime__3pyJh",socialList:"userInfo_socialList__2G1JA",bestViewers:"userInfo_bestViewers__l8qHW"}},59:function(e,t,n){e.exports={container:"customTimeline_container__1JEIZ",contentWrapper:"customTimeline_contentWrapper__1Rm5u",timelineWrapper:"customTimeline_timelineWrapper__1zu8R",progressBarWrapper:"customTimeline_progressBarWrapper__28nRb",progressBarItem:"customTimeline_progressBarItem__222l1",progressBarName:"customTimeline_progressBarName__31eAB",buttonsWrapper:"customTimeline_buttonsWrapper__H6NrF",videosRoad:"customTimeline_videosRoad__3rL1S",shotRoadBack:"customTimeline_shotRoadBack__3avaE",wrapper:"customTimeline_wrapper__1pDO_",isDragStart:"customTimeline_isDragStart__1QI_c",layerWrapper:"customTimeline_layerWrapper__3d3-M"}},60:function(e,t,n){e.exports={playerWrapper:"MultiPlayer_playerWrapper__vY-K-",player:"MultiPlayer_player__2RDDT",playerPlaceholder:"MultiPlayer_playerPlaceholder__2igEn",controlButton:"MultiPlayer_controlButton__wcKgH",pauseButton:"MultiPlayer_pauseButton__t9yfd",controlLayer:"MultiPlayer_controlLayer__N4Ax9"}},62:function(e,t,n){e.exports={container:"effectItem_container__1ICeF",wrapper:"effectItem_wrapper__1uC4u",note:"effectItem_note__2n568",title:"effectItem_title__2TJPL",resizer:"effectItem_resizer__2oCae",leftResizer:"effectItem_leftResizer__1_XU3",rightResizer:"effectItem_rightResizer__1VxsD",resizeLine:"effectItem_resizeLine__25xtY"}},63:function(e,t,n){e.exports={container:"userInfo_container__2R5pC",userCaption:"userInfo_userCaption__4ASaX",topBlock:"userInfo_topBlock__2dchw",userImage:"userInfo_userImage__3o4vn",userName:"userInfo_userName__3zzx6",nickName:"userInfo_nickName__JRXxn",duration:"userInfo_duration__45G7r"}},71:function(e,t,n){e.exports={button:"button_button__q-EjP",withBorder:"button_withBorder__1-5d0",disabled:"button_disabled__1_Ved",blueTheme:"button_blueTheme__Kq4aP",active:"button_active__2mI4J",lightBlueTheme:"button_lightBlueTheme__3oYxs",lightBlueTextTheme:"button_lightBlueTextTheme__11R5m",redTheme:"button_redTheme__344Z4",delete:"button_delete__bY3NW"}},72:function(e,t,n){e.exports={container:"publish_container__1L0tI",content:"publish_content__3NOTF",title:"publish_title__Q2U4e",inputWrapper:"publish_inputWrapper__2EQEe",shareBlock:"publish_shareBlock__CoGAw",isActive:"publish_isActive__3aMI3",list:"publish_list__GSOBW",listItem:"publish_listItem__3Yzgo"}},76:function(e,t,n){e.exports={container:"content_container__3-ZBv",player:"content_player__NWuLE",infoWrapper:"content_infoWrapper__3WgIW",userContent:"content_userContent__Nv6nW",nftWrapper:"content_nftWrapper__1RCPP",shareContainer:"content_shareContainer__2aGS6",shareDropdown:"content_shareDropdown__1I6Sj",userData:"content_userData__3rYWD",bestViewers:"content_bestViewers__2OM3S"}},83:function(e,t,n){e.exports={container:"PlayerPanel_container__TOvcu",header:"PlayerPanel_header__3w0XV",timeRow:"PlayerPanel_timeRow__2x_ng",buttons:"PlayerPanel_buttons__2YgAS",previewButtons:"PlayerPanel_previewButtons__1uA4C",loadIcon:"PlayerPanel_loadIcon__3J9Eg",buttonsContainer:"PlayerPanel_buttonsContainer__2U8zY",recButton:"PlayerPanel_recButton__3TYfL",playShadow:"PlayerPanel_playShadow__X9bQY",rewButton:"PlayerPanel_rewButton__2bNBE",arrow:"PlayerPanel_arrow__2LftY"}},84:function(e,t,n){e.exports={form:"audioPanel_form__1Y_gp",inputWrapper:"audioPanel_inputWrapper__iU228",list:"audioPanel_list__3BG_S",sources:"audioPanel_sources__kiJ08",sourceItem:"audioPanel_sourceItem__2s0uA",cutsList:"audioPanel_cutsList__LDQzD",cutsPanelBlank:"audioPanel_cutsPanelBlank__2QztP"}},85:function(e,t,n){e.exports={container:"chat_container__1pMfk",title:"chat_title__1b1BL",wrapper:"chat_wrapper__83tld",memberList:"chat_memberList__20IWQ",micBlock:"chat_micBlock__2peVb",micButton:"chat_micButton__3EJGT",micOff:"chat_micOff__agetB"}},86:function(e,t,n){e.exports={header:"header_header__2Hcu_",rightBlock:"header_rightBlock__2de4S",buttons:"header_buttons__1VIAW",buttonWrapper:"header_buttonWrapper__BkvPM",publishWrapper:"header_publishWrapper__1Ea9u"}},87:function(e,t,n){e.exports={item:"notification_item__1gdsC",image:"notification_image__22GCI",imageMock:"notification_imageMock__2FV4w",notificationContent:"notification_notificationContent__2nYbn",text:"notification_text__3wi1M",time:"notification_time__34jA-",notViewed:"notification_notViewed__2HFPV"}},90:function(e,t,n){e.exports={container:"userData_container__MLk5N",image:"userData_image__24PUO",avatar:"userData_avatar__--n_D",info:"userData_info__SGxAa",name:"userData_name__K7za0",duration:"userData_duration__1su9W"}},91:function(e,t,n){e.exports={container:"Preloader_container__3VLfE",loaderContainer:"Preloader_loaderContainer__2CSeo",loader:"Preloader_loader__2UV8v",arcRotateDouble:"Preloader_arcRotateDouble__1llZB",load:"Preloader_load__1BxGu",arc1:"Preloader_arc1__3QLhn",arc2:"Preloader_arc2__5Fv5N",rotate:"Preloader_rotate__3qmAc"}},92:function(e,t,n){e.exports={wrapper:"CutItem_wrapper__1vR9b",playerWrapper:"CutItem_playerWrapper__32VlR",video:"CutItem_video__33TEF",buttons:"CutItem_buttons__JzliV",checkbox:"CutItem_checkbox__2_dpe",playButton:"CutItem_playButton__1QWqr",isVisible:"CutItem_isVisible__335-r",isChosenSource:"CutItem_isChosenSource__2r7bR",checkboxWrapper:"CutItem_checkboxWrapper__3jZA8"}},93:function(e,t,n){e.exports={container:"avatar_container__2zA-l",imageUploader:"avatar_imageUploader__2W-mG",imageWrapper:"avatar_imageWrapper__3Xr9R",buttons:"avatar_buttons__1-PHT",removeButton:"avatar_removeButton__1PYfl",uploadCaption:"avatar_uploadCaption__3Uzh8"}},94:function(e,t,n){e.exports={container:"notifications_container__37YZM",isAllShow:"notifications_isAllShow__xkvql",topBlock:"notifications_topBlock__2PcdH",title:"notifications_title__3YGhf",seeAll:"notifications_seeAll__tV8Oc"}},95:function(e,t,n){e.exports={container:"contactUs_container__3Mjp1",content:"contactUs_content__29tPc",title:"contactUs_title__Hxdab",description:"contactUs_description__3IzuJ",list:"contactUs_list__1gxjB",listItem:"contactUs_listItem__27F4I"}}},[[444,1,2]]]);