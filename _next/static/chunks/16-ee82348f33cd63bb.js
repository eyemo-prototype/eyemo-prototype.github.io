(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16],{6193:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var n=s(2322),r=s(2222),a=s(4832),i=s(3373),l=s(9015),o=s(1506),d=s(9034),c=s.n(d),m=s(2784),u=s(8950);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,a=[],i=!0,l=!1;try{for(s=s.call(e);!(i=(n=s.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(o){l=!0,r=o}finally{try{i||null==s.return||s.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(s);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e){var t=e.onSubmit,s=e.btnSize,d=e.session,p=(0,m.useState)(!1),h=p[0],y=p[1],g=f(r.Z.useForm(),1)[0];console.log(d);var x=d?{sessionName:d.sessionName,gameId:d.gameId,price:d.price,startTime:c()(d.startTime),endTime:c()(d.endTime),streamUrl:d.streamUrl}:{sessionName:"",gameId:"",price:"",startTime:null,endTime:null,streamUrl:""},I=function(e){e&&e.stopPropagation(),y(!h)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{type:"primary",size:s,style:{marginBottom:10},onClick:I,children:d?"Edit":"Create session"}),(0,n.jsx)(i.Z,{title:d?"Edit session":"Create session",centered:!0,visible:h,width:"80%",okText:"Save draft",footer:null,onCancel:I,destroyOnClose:!0,children:(0,n.jsxs)(r.Z,{form:g,name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:x,onFinish:function(e){console.log("Success:",e),g.resetFields();var s=e.gameId,n=e.sessionName,r=e.price,a=e.startTime,i=e.endTime,l=e.streamUrl;t({id:"4564",gameId:s,sessionName:n,price:r,startTime:a,endTime:i,creatorId:"Bob",status:u.$y.Draft,streamUrl:l||"",slotsList:[]}),I()},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,n.jsx)(r.Z.Item,{label:"Session name",name:"sessionName",rules:[{required:!0,message:"Please input session name"}],children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(r.Z.Item,{label:"Game",name:"gameId",rules:[{required:!0,message:"Please select the game"}],children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(r.Z.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please input price per hour"}],children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(r.Z.Item,{label:"Start time",name:"startTime",rules:[{required:!0,message:"Please select start time"}],children:(0,n.jsx)(o.Z,{showTime:!0})}),(0,n.jsx)(r.Z.Item,{label:"End time",name:"endTime",rules:[{required:!0,message:"Please select end time"}],children:(0,n.jsx)(o.Z,{showTime:!0})}),(0,n.jsx)(r.Z.Item,{label:"Stream url",name:"streamUrk",children:(0,n.jsx)(l.Z,{})}),(0,n.jsx)(r.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,n.jsx)(a.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})}},1016:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(2322),r=s(5107),a=s(4832),i=s(3373),l=s(2784),o=s(7971),d=s(6193),c=s(5632),m=function(e){var t=e.sessions,s=e.withEdit,m=(0,l.useState)(!1),u=m[0],p=m[1],f=(0,c.useRouter)(),h=function(e){e.stopPropagation(),p(!u)},y=function(e){};return(0,n.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:t.map((function(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.Z,{title:e.sessionName,extra:"by ".concat(e.creatorId),style:{minWidth:300,marginRight:10,marginBottom:10},bodyStyle:{cursor:"pointer"},onClick:function(){return t=e.id,f.push("/session/".concat(t));var t},children:[(0,n.jsxs)("p",{children:["Game: ",e.gameId]}),(0,n.jsxs)("p",{children:["Start: ",new Date(e.startTime).toLocaleString().toString()]}),(0,n.jsxs)("p",{children:["End: ",new Date(e.endTime).toLocaleString().toString()]}),(0,n.jsxs)("p",{children:["Status: ",e.status]}),(0,n.jsxs)("p",{children:["Price: $",e.price,"/h"]}),s&&(0,n.jsx)(d.Z,{onSubmit:y,btnSize:"small",session:e}),(0,n.jsxs)(a.Z,{type:"link",onClick:h,children:["Slots: ",e.slotsList.length]})]},e.id),(0,n.jsx)(i.Z,{title:"Session's slots",centered:!0,visible:u,onOk:h,onCancel:h,width:"80%",footer:null,destroyOnClose:!0,children:(0,n.jsx)(o.Z,{sessionId:"1",withEdit:s})})]})}))})}},7971:function(e,t,s){"use strict";s.d(t,{Z:function(){return p}});var n=s(2322),r=s(5107),a=s(4832),i=s(3373),l=s(2784),o=s(9826),d=s(5366),c=s(182),m=s.n(c),u=function(e){var t=e.withEdit,s=e.slot;return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[o.Wy.map((function(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.Z,{title:e.username,className:m().card,children:[(0,n.jsxs)("p",{children:["First name: ",e.firstName]}),(0,n.jsxs)("p",{children:["Last name: ",e.lastName]}),(0,n.jsxs)("p",{children:["Email: ",e.email]}),t&&(0,n.jsx)(a.Z,{type:"primary",danger:!0,size:"small",onClick:function(){},children:"Delete"})]},e.id)})})),s.bookedPlaces<s.placesNum&&(0,n.jsx)(r.Z,{className:m().addCard,children:(0,n.jsxs)("div",{className:m().addCardContent,children:[(0,n.jsx)(d.Z,{className:m().addIcon}),(0,n.jsxs)("p",{children:["Places ",s.bookedPlaces,"/",s.placesNum,", $15/h"]})]})})]})},p=function(e){var t=e.sessionId,s=e.withEdit,d=(0,l.useState)([]),c=d[0],m=d[1],p=(0,l.useState)(!1),f=p[0],h=p[1],y=function(e){e.stopPropagation(),h(!f)};return(0,l.useEffect)((function(){m(o.fD.filter((function(e){return e.sessionId===t})))}),[t]),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:c.map((function(e,t){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.Z,{title:"Slot ".concat(t+1),style:{minWidth:300,marginRight:10,marginBottom:10},bodyStyle:{cursor:"pointer"},onClick:y,children:[(0,n.jsxs)("p",{children:["Start: ",new Date(e.startTime).toLocaleString().toString()]}),(0,n.jsxs)("p",{children:["End: ",new Date(e.endTime).toLocaleString().toString()]}),(0,n.jsx)("p",{children:"Price: $14/h"}),(0,n.jsxs)("p",{children:["Players: ",e.bookedPlaces,"/",e.placesNum]}),(0,n.jsxs)("p",{children:["Players: ",e.players.join(", ")]}),s&&(0,n.jsx)(a.Z,{type:"primary",danger:!0,size:"small",children:"Delete"})]},e.id),(0,n.jsx)(i.Z,{title:"Slot ".concat(t+1),centered:!0,visible:f,onOk:y,onCancel:y,width:"80%",footer:null,destroyOnClose:!0,children:(0,n.jsx)(u,{withEdit:s,slot:e})})]})}))})}},9826:function(e,t,s){"use strict";s.d(t,{Wy:function(){return a},fD:function(){return i},HW:function(){return l}});var n=s(8950),r=16446636e5,a=[{id:"Jack",username:"Jack",email:"jack@gmail.com",emailVerified:!0,about:null,firstName:"Jack",lastName:"Pot",accountType:n.Qm.GOOGLE,photoUrl:null,coverImageUrl:null},{id:"Bob",username:"Bob",email:"bob@gmail.com",emailVerified:!0,about:null,firstName:"Bob",lastName:"Ivanov",accountType:n.Qm.GOOGLE,photoUrl:null,coverImageUrl:null},{id:"Inna",username:"Inna",email:"inna@gmail.com",emailVerified:!0,about:null,firstName:"Inna",lastName:"Sidorova",accountType:n.Qm.GOOGLE,photoUrl:null,coverImageUrl:null}],i=[{id:"1",sessionId:"1",creatorId:"Jack",players:["Bob","Inna"],startTime:r,endTime:16446672e5,placesNum:5,bookedPlaces:2},{id:"2",sessionId:"1",creatorId:"Jack",players:["Bob","Inna"],startTime:16446672e5,endTime:16446708e5,placesNum:5,bookedPlaces:2},{id:"3",sessionId:"2",creatorId:"Bob",players:["Jack","Inna"],startTime:r,endTime:16446672e5,placesNum:5,bookedPlaces:2},{id:"4",sessionId:"2",creatorId:"Bob",players:["Jack","Inna"],startTime:16446672e5,endTime:16446708e5,placesNum:5,bookedPlaces:2}],l=[{id:"1",sessionName:"Cool game 1",creatorId:"Jack",gameId:"GTA V",status:n.$y.Ready,slotsList:[i[0],i[1]],streamUrl:null,price:10,startTime:r,endTime:16446672e5},{id:"2",sessionName:"Cool game 2",creatorId:"Bob",gameId:"Call of Duty: Warzone",status:n.$y.Ready,slotsList:[i[2],i[3]],streamUrl:null,price:13,startTime:r,endTime:16446672e5},{id:"3",sessionName:"Cool game 3",creatorId:"Inna",gameId:"Apex Legends",status:n.$y.Ready,slotsList:[],streamUrl:null,price:15,startTime:r,endTime:16446672e5},{id:"4",sessionName:"Cool game 4",creatorId:"Jack",gameId:"GTA V",status:n.$y.Ready,slotsList:[],streamUrl:null,price:10,startTime:r,endTime:16446672e5},{id:"5",sessionName:"Cool game 5",creatorId:"Bob",gameId:"Call of Duty: Warzone",status:n.$y.Ready,slotsList:[],streamUrl:null,price:13,startTime:r,endTime:16446672e5},{id:"6",sessionName:"Cool game 6",creatorId:"Inna",gameId:"Apex Legends",status:n.$y.Ready,slotsList:[],streamUrl:null,price:15,startTime:r,endTime:16446672e5}]},8950:function(e,t,s){"use strict";var n,r,a;s.d(t,{Qm:function(){return r},$y:function(){return a}}),function(e){e.UserStore="UserStore",e.UiStore="UiStore"}(n||(n={})),function(e){e.GOOGLE="google"}(r||(r={})),function(e){e.Draft="draft",e.Ready="ready",e.InProcess="inProcess",e.Ended="ended",e.Deleted="deleted"}(a||(a={}))},182:function(e){e.exports={addCardContent:"Slot_addCardContent__7WsM_",card:"Slot_card__RiAsY",addCard:"Slot_addCard__FxaoZ",addIcon:"Slot_addIcon__63o3w"}}}]);